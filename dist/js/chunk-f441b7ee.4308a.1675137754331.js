(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f441b7ee"],{1794:function(t,e,a){},"187e":function(t,e,a){},"2afb":function(t,e,a){"use strict";a("40a8")},3108:function(t,e,a){"use strict";a("e663")},4046:function(t,e,a){},"40a8":function(t,e,a){},4224:function(t,e,a){},"48f8":function(t,e,a){"use strict";a("af76")},"577f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100 bc-wallet"},[t.isDesktop?t._e():a("div",{staticClass:"wallet"},[t._v("Wallet")]),t.isDesktop?a("div",[a("wallet-header"),a("router-view")],1):a("div",[a("MobileWalletHeader"),a("mobile-wallet-table")],1)])},i=[],s=a("d4ec"),r=a("bee2"),o=a("262e"),c=a("2caf"),l=a("9ab4"),u=a("1b40"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-white mb-24 wallet-header"},[a("base-popup",{staticClass:"popup-wallet-header",attrs:{name:"popup-change-phone",width:"480px",isShowFooter:!1,close:t.handleClose}},[a("div",{staticClass:"title-popup",attrs:{slot:"title"},slot:"title"},[a("span",[t._v(t._s(t.$t("popup.title.verification-phone")))])]),a("div",{staticClass:"form"},[a("el-form",{ref:"form-phone",staticClass:"form-item"},[a("el-form-item",{staticStyle:{"line-height":"24px","margin-top":"-2px"},attrs:{prop:"country"}},["TRANSFER"==this.typeAction?a("span",{staticStyle:{"word-break":"break-word",color:"#0a0b0d"}},[t._v(t._s(t.$t("wallet.popup.errPhoneverified"))+" "+t._s(t.$t("wallet.popup.transfer-transaction")))]):a("span",{staticStyle:{"word-break":"break-word",color:"#0a0b0d"}},[t._v(t._s(t.$t("wallet.popup.errPhoneverified"))+t._s(t.$t("wallet.popup.widthdaw-transaction"))+" ")])])],1),a("hr",{staticClass:"hr"}),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"btn-default mr-15 text-regular btn-h40",on:{click:t.handleClose}},[a("p",[t._v(t._s(t.$t("button.cancel")))])]),a("el-button",{staticClass:"btn is-none-border cursor btn-h40 btn-default-bg btn-theme",on:{click:t.handleContinue}},[t._v(t._s(t.$t("button.verify")))])],1)],1)]),a("div",{staticClass:"be-flex align-center jc-space-between wallet-header__above"},[a("div",{staticClass:"wallet-header__above-tabs be-flex"},t._l(t.getTabs,(function(e){return a("div",{key:e.id,staticClass:"tab-item cursor",class:t.tabActive===e.currency?"tab-active":null,on:{click:function(a){return t.handleChangeTab(e)}}},[a("span",{staticClass:"text-base"},[t._v(t._s(e.title))])])})),0),a("div",{staticClass:"wallet-header__above-btn be-flex"},[t.moduleConfig.Deposit?a("button",{staticClass:"btn-default-bg mr-15 text-regular btn is-none-border w-auto",on:{click:function(e){return t.handleOpenPopup("popup-deposit")}}},[t._v(" "+t._s(t.$t("wallet.button.deposit"))+" "+t._s(t.getUnit)+" ")]):t._e(),t.moduleConfig.Withdraw?a("button",{staticClass:"btn-default mr-15 text-regular w-auto",on:{click:function(e){return t.handleOpenPopup("popup-withdraw")}}},[a("p",[t._v(t._s(t.$t("wallet.button.withdraw"))+" "+t._s(t.getUnit))])]):t._e(),t.moduleConfig.Transfer?a("button",{staticClass:"btn-default mr-15 text-regular w-auto",on:{click:function(e){return t.handleOpenPopup("popup-transfer-lyn")}}},[a("p",[t._v(t._s(t.$t("wallet.button.transfer"))+" "+t._s(t.getUnit))])]):t._e(),"LYNK"!==t.tabActive&&"CLM"!==t.tabActive&&t.moduleConfig.Crowdsale?a("button",{staticClass:"btn-default mr-15 text-regular w-auto",on:{click:function(e){return t.handleOpenPopup("popup-buy-lyn")}}},[a("p",[t._v(t._s(t.$t("wallet.button.buy"))+" "+t._s(t.coinMain))])]):t._e()])]),a("div",{staticClass:"wallet-header__below"},[a("div",{ref:"wrap-card",staticClass:"be-flex jc-space-between wallet-header__below-amount",class:t.tabActive!==t.coinMain?" wallet-header__below-amount--fix":null},[a("div",{staticClass:"amount-wallet card"},[a("div",{staticClass:"be-flex align-center above"},[a("base-icon",{staticClass:"square-icon",style:{display:"LYNK"===t.tabActive?"display:inline-flex":"block"},attrs:{icon:t.getIcon,size:"40"}}),a("div",{staticClass:"title"},[a("span",{staticClass:"d-block text-base text-semibold title-coin"},[t._v(t._s(t.getTitle))]),a("span",{staticClass:"text-xs",staticStyle:{color:"#5b616e"}},[t._v(t._s(t.$t("wallet.balance")))])])],1),a("div",{staticClass:"amount"},[a("span",{staticClass:"d-ib text-3xl text-semibold mr-16",class:t.getClassUnit},[t._v(t._s(t._f("convertAmountDecimal")(t.numOfBallance,t.getUnit))+" "+t._s(t.getUnit))]),a("span",{staticClass:"text-2xl amount-exchange"},[t._v("~$"+t._s(t._f("convertAmountDecimal")(t.numOfBallance*t.currentExchangeRate,"USD")))])])]),t.tabActive===t.coinMain?a("div",{staticClass:"amount-lock card"},[a("div",{staticClass:"be-flex align-center above"},[a("base-icon",{staticClass:"square-icon",staticStyle:{color:"#000"},attrs:{icon:"icon-available",size:"40"}}),a("div",{staticClass:"title"},[a("span",{staticClass:"d-block text-base text-semibold title-coin"},[t._v(t._s(t.$t("wallet.available")))]),a("span",{staticClass:"text-xs",staticStyle:{color:"#5b616e"}},[t._v(t._s(t.$t("withdraw.available")))])])],1),a("div",{staticClass:"amount"},[a("span",{staticClass:"d-ib text-3xl text-semibold mr-16"},[t._v(t._s(t._f("convertAmountDecimal")(t.numOfAvaiBalance,t.getUnit))+" "+t._s(t.getUnit))]),a("span",{staticClass:"text-2xl amount-exchange"},[t._v("~$"+t._s(t._f("convertAmountDecimal")(t.numOfAvaiBalance*t.currentExchangeRate,"USD")))])])]):t._e(),a("div",{staticClass:"amount-lock card"},[a("div",{staticClass:"be-flex align-center above"},[a("base-icon",{staticClass:"square-icon",staticStyle:{color:"#000"},attrs:{icon:"icon-lock",size:"40"}}),a("div",{staticClass:"title"},[a("span",{staticClass:"d-block text-base text-semibold title-coin"},[t._v(t._s(t.$t("wallet.lock")))]),a("span",{staticClass:"text-xs",staticStyle:{color:"#5b616e"}},[t._v(t._s(t.$t("wallet.withdrawal-request")))])])],1),a("div",{staticClass:"amount"},[a("span",{staticClass:"d-ib text-3xl text-semibold mr-16"},[t._v(t._s(t._f("convertAmountDecimal")(t.numOfLockedAmount,t.getUnit))+" "+t._s(t.getUnit))]),a("span",{staticClass:"text-2xl amount-exchange"},[t._v("~$"+t._s(t._f("convertAmountDecimal")(t.numOfLockedAmount*t.currentExchangeRate,"USD")))])])]),a("div",{staticClass:"amount-staking card"},[a("div",{staticClass:"be-flex align-center above"},[a("base-icon",{staticClass:"square-icon",staticStyle:{color:"#000"},attrs:{icon:"icon-staking",size:"40"}}),a("div",{staticClass:"title"},[a("span",{staticClass:"d-block text-base text-semibold title-coin"},[t._v(t._s(t.$t("wallet.staking")))]),a("span",{staticClass:"text-xs",staticStyle:{color:"#5b616e"}},[t._v(t._s(t.$t("wallet.staking-title")))])])],1),a("div",{staticClass:"amount"},[a("span",{staticClass:"d-ib text-3xl text-semibold mr-16"},[t._v(t._s(t._f("convertAmountDecimal")(t.numOfStaking,this.tabActive))+" "+t._s(this.tabActive))]),a("span",{staticClass:"text-2xl amount-exchange"},[t._v("~$"+t._s(t._f("convertAmountDecimal")(t.numOfStaking*t.currentExchangeRate,"USD")))])])]),t.tabActive===t.coinMain?a("div",{staticClass:"amount-vesting card"},[a("div",{staticClass:"be-flex align-center above"},[a("base-icon",{staticClass:"square-icon",staticStyle:{color:"#000"},attrs:{icon:"icon-vesting",size:"40"}}),a("div",{staticClass:"title"},[a("span",{staticClass:"d-block text-base text-semibold title-coin"},[t._v(t._s(t.$t("wallet.vesting-title")))]),t.vesting&&t.vesting.nextVestingDate?a("span",{staticClass:"text-xs",staticStyle:{color:"#5b616e"}},[t._v(t._s(t.$t("wallet.next-release"))+" "+t._s(t._f("formatMMDDYYWithoutHours")(t.vesting&&t.vesting.nextVestingDate)))]):a("span",[t._v(" Â ")])])],1),a("div",{staticClass:"amount"},[a("span",{staticClass:"d-ib text-3xl text-semibold mr-16"},[t._v(t._s(t._f("convertAmountDecimal")(t.vesting&&t.vesting.totalAmount,t.coinMain))+" "+t._s(t.coinMain))]),a("span",{staticClass:"text-2xl amount-exchange"},[t._v("~$"+t._s(t._f("convertAmountDecimal")(t.vesting&&t.vesting.totalAmountInUsd,"USD")))])])]):t._e(),a("div",{staticClass:"btn-navigation"},[t.isNext?a("base-icon",{staticClass:"square-icon next",attrs:{icon:"arrow",size:"32"},nativeOn:{click:function(e){return t.handleClickArrow("next")}}}):t._e(),t.isPrev?a("base-icon",{staticClass:"square-icon prev",attrs:{icon:"arrow",size:"32"},nativeOn:{click:function(e){return t.handleClickArrow("prev")}}}):t._e()],1)])]),a("popup-with-draw",{attrs:{dataWithdraw:t.dataWithdraw,type:t.tabActive,currentExchangeRate:t.currentExchangeRate,baseCurrencyExchangeRate:t.baseCurrencyExchangeRate,listAssetNetwork:t.listAssetNetwork,listGasTracker:t.listGasTracker,exchangeRateETH:t.exchangeRateETH,exchangeRateBNB:t.exchangeRateBNB},on:{reloadData:t.reloadData}}),a("popup-deposit",{attrs:{type:t.tabActive,currentExchangeRate:t.currentExchangeRate}}),a("popup-buy-lyn",{attrs:{type:t.tabActive},on:{reloadData:t.init}}),a("popup-transfer-lyn",{attrs:{dataTransfer:t.dataTransfer,typeActive:t.tabActive},on:{reloadData:t.reloadData}}),a("popup-verify",{attrs:{typeAction:t.typeAction,type:t.type2fa,dataWithdraw:t.dataWithdraw,dataTransfer:t.dataTransfer,phoneVerified:t.phoneVerified},on:{callApi:t.handleCallApi}})],1)},d=[],h=a("1da1"),b=a("2909"),v=(a("96cf"),a("99af"),a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-popup",{staticClass:"popup-withdraw",attrs:{open:t.handleOpen,close:t.handleClose,name:"popup-withdraw",width:"600px"}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",[t._v(t._s(t.getTitlePopup))])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content"},[a("el-form",{ref:"ruleForm",attrs:{model:t.withdraw,rules:t.rules,autocomplete:"off",autocorrect:"off",autocapitalize:"none",spellcheck:"false"}},[a("el-form-item",{attrs:{label:t.$t("withdraw.address"),prop:"recipientAddress"}},[a("el-input",{attrs:{placeholder:t.$t("placeholder.address")},model:{value:t.withdraw.recipientAddress,callback:function(e){t.$set(t.withdraw,"recipientAddress",e)},expression:"withdraw.recipientAddress"}}),a("div",{staticClass:"prefix prefix--camera cursor",on:{click:t.handleScanAddress}},[a("base-icon",{attrs:{icon:"icon-scan",size:"24"}})],1)],1),a("el-form-item",{staticClass:"mb-2"},[a("el-input",{class:t.errorAmount?"errorInput":null,attrs:{placeholder:t.$t("placeholder.amount"),autocomplete:"new-password",readonly:t.isReadOnly},nativeOn:{keypress:function(e){return t.onlyNumber(e,"amount")},keyup:function(e){return t.numberFormat(e)}},model:{value:t.withdraw.amount,callback:function(e){t.$set(t.withdraw,"amount",e)},expression:"withdraw.amount"}}),t.errorAmount?a("div",{staticClass:"error error2"},[t._v(t._s(t.$t("wallet.popup.errorAmountLyn")))]):t._e(),a("div",{staticClass:"prefix prefix--amount"},[a("span",[t._v(t._s(t.getUnit))])]),a("div",{staticClass:"be-flex jc-space-between w-100",attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"hide-on-mobile"},[t._v(t._s(t.$t("withdraw.amount"))+" ("+t._s(t.$t("withdraw.minimum"))+": "),a("span",{class:"amount-"+t.getUnit},[t._v(t._s(t.getMinimum+" "+t.getUnit))]),t._v(")")]),a("span",{staticClass:"show-on-mobile"},[t._v(t._s(t.$t("withdraw.amount")))]),a("span",[t._v(t._s(t.$t("withdraw.available"))+": "),a("span",{class:"amount-"+t.getUnit},[t._v(" "+t._s(t._f("truncateToDecimals")(t.getAvailable,t.getUnit))+" "+t._s(t.getUnit))])])])],1),a("div",{staticClass:"be-flex jc-space-between mb-24 tab-amount"},t._l(t.tabAmount,(function(e){return a("div",{key:e,staticClass:"text-base cursor amount-item",class:e===t.tabActive?"active":null,on:{click:function(a){return t.handleSelectTab(e)}}},[a("span",[t._v(t._s(e)+"%")])])})),0),a("el-form-item",{staticClass:"fee",attrs:{label:t.$t("withdraw.fees")}},[a("el-input",{attrs:{disabled:"",placeholder:t.$t("placeholder.fee"),value:t._f("convertAmountDecimal")(t.getTransactionFee,t.getUnit,!1,!0)}}),t.currentExchangeRate?a("div",{staticClass:"coin"},[t._v("~$"+t._s(t._f("convertAmountDecimal")(t.getExchangeRate,"USD")))]):t._e(),"BTC"!==t.type?a("div",{staticClass:"title-edit"},[a("span",{staticClass:"cursor text-hyperlink",on:{click:t.handleOpenEditFee}},[t._v(t._s(t.$t("withdraw.edit"))+" ")])]):t._e()],1),t.dataWithdrawPop&&1==t.dataWithdrawPop.pinEnable?a("el-form-item",{staticClass:"input-password",attrs:{label:t.$t("withdraw.pin-code"),prop:"pin"}},[a("el-input",{attrs:{placeholder:t.$t("placeholder.pin-code"),type:1==t.showPass?"text":"password",autocomplete:"new-password",maxlength:"4"},nativeOn:{keyup:function(e){return t.onlyNumberPin(e)}},model:{value:t.withdraw.pin,callback:function(e){t.$set(t.withdraw,"pin",e)},expression:"withdraw.pin"}}),a("span",{staticClass:"icon-show-password",on:{click:function(e){t.showPass=!t.showPass}}},[a("base-icon",{attrs:{icon:1!=t.showPass?"icon-eye":"icon-eye-off",size:"22"}})],1)],1):t._e()],1)],1),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"btn-default mr-15 text-regular btn-h40",on:{click:t.handleResetForm}},[a("p",[t._v(t._s(t.$t("button.reset")))])]),a("el-button",{staticClass:"btn is-none-border cursor btn-h40 btn-default-bg btn-theme",class:t.getDisableSubmit?"btn--disabled":null,attrs:{loading:t.isLoading},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("button.continue")))])],1),t.isScan?a("popup-scan-address",{on:{scan:t.handleCompleteScanAddress,close:function(e){t.isScan=!1}}}):t._e(),a("popup-verify-pin"),a("popup-verify",{attrs:{type:t.type2fa,data:t.bodyVerify,phoneVerified:1,typeAction:t.typeAction,currency:t.type},on:{close:t.handleReloadData,callApi:t.getDataWithdraw}}),a("popup-edit-fee",{ref:"popup-edit-fee",attrs:{currentExchangeRate:t.currentExchangeRate,baseCurrencyExchangeRate:t.baseCurrencyExchangeRate,listAssetNetwork:t.listAssetNetwork,listGasTracker:t.listGasTracker,currency:t.type},on:{editFee:t.handleEditFee}})],1)}),f=[],m=a("5530"),y=(a("b680"),a("a15b"),a("ac1f"),a("1276"),a("5319"),a("5b81"),a("a9e3"),a("9f48")),g=a("43442"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-popup",{staticClass:"popup-verify",attrs:{name:"popup-base-verify",width:"480px",open:t.handleOpen,close:t.handleClose,isShowFooter:!1}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",[t._v(t._s(t.$t("popup.title.verification"))+" ")])]),a("div",{staticClass:"content"},[t.type&&"APP"==t.type?a("h3",{staticClass:"text-2xl text-center text-semibold title-form"},[t._v(t._s(t.$t("verified.titleContent")))]):t._e(),t.type&&"SMS"==t.type?a("h3",{staticClass:"text-2xl text-center text-semibold title-form"},[t._v(t._s(t.$t("verified.titleContent2")))]):t._e(),t.type&&"EMAIL"==t.type?a("h3",{staticClass:"text-2xl text-center text-semibold title-form"},[t._v(t._s(t.$t("verified.titleContent3")))]):t._e(),a("div",{staticClass:"be-flex verify-code"},[t.type&&"APP"==t.type?a("base-icon",{attrs:{icon:"verify-app",size:"80"}}):t._e(),t.type&&"SMS"==t.type?a("base-icon",{attrs:{icon:"verify-phone",size:"80"}}):t._e(),t.type&&"EMAIL"==t.type?a("base-icon",{attrs:{icon:"verify-email",size:"80"}}):t._e(),a("div",{staticClass:"ml-1 w-100 input-code"},[a("el-form",{ref:"form-verify",attrs:{model:t.form,rules:t.rules},nativeOn:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[a("el-form-item",{staticClass:"no-require-label",attrs:{prop:"code",label:""+t.$t("verify.label")}},[a("el-input",{attrs:{type:"text",maxlength:"6",placeholder:""+t.$t("verify.placeholder")},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code","string"===typeof e?e.trim():e)},expression:"form.code"}})],1)],1)],1)],1),a("el-button",{staticClass:"btn w-100 is-none-border cursor btn-submit btn-theme",class:t.getDisableBtn?"btn--disabled btn-theme":null,attrs:{loading:t.isLoading,disabled:t.getDisableBtn},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("verify.submit"))+" ")]),"APP"!=t.type?a("div",{staticClass:"text-base be-flex jc-space-center mt-24 mb-24 text-grey-130 text-discript"},[t._v(" "+t._s(t.$t("verify.question"))+" Â "),a("span",{staticClass:"text-hyperlink text-semibold cursor",on:{click:t.handleResendCode}},[t._v(" "+t._s(t.$t("verify.re-send"))+" ")])]):t._e(),"SMS"==t.type?a("div",{staticClass:"text-base be-flex jc-space-center mt-12 text-grey-130 note-style use-voice-call",staticStyle:{"padding-bottom":"24px"}},[a("span",{staticClass:"text-hyperlink text-semibold cursor",on:{click:t.handleCallSendCode}},[t._v(" "+t._s(t.$t("verify.voice-call")))])]):t._e()],1)])},C=[],x=a("08ba"),k=a("b047"),_=a.n(k),A=a("4bb5"),T=Object(A["a"])("beAuth"),S=Object(x["a"])("setting"),O=Object(x["a"])("auth"),R=Object(x["a"])("wallet"),D=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.form={code:""},t.isLoading=!1,t.success=0,t.rules={code:[{required:!0,message:t.$t("verify.wrong-code"),trigger:"blur"}]},t.debounceFilter=_()((function(e){"handleResendCode"==e&&t.resendCode(),"handleSubmit"==e&&t.submit()}),400),t}return Object(r["a"])(a,[{key:"getDisableBtn",get:function(){return 6!==this.form.code.length}},{key:"getIcon",get:function(){var t=this.$route.name;return"verify-phone"===t?"verify-phone":"verify-email"===t?"verify-email":"verify-app"}},{key:"handleResendCode",value:function(){this.debounceFilter("handleResendCode")}},{key:"resendCode",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.phoneVerified||"0"!=this.phoneVerified?"WITHDRAW"==this.typeAction?R.sendCodeWithdraw().then((function(){var t=e.$t("verified.resendCodeMess");e.$message.success({message:t,duration:5e3})})):R.verificatySendcode().then((function(){var t=e.$t("verified.resendCodeMess");e.$message.success({message:t,duration:5e3})})):this.verifiedPhoneWidthdrawTransfer();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleCallSendCode",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("data widthdaw",this.dataWithdraw),t.next=3,O.voiceVerify();case 3:e=t.sent,e&&(a=this.$t("notify.send-code-voice"),this.$message.success({message:a,duration:5e3}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleReset",value:function(){this.type="",this.typeAction="",this.form.code="",this.success=0}},{key:"handleClose",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!("TRANSFER"==this.typeAction&&0==this.success||"WITHDRAW"==this.typeAction&&0==this.success)){t.next=3;break}return t.next=3,this.$emit("callApi");case 3:this.handleReset();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleOpen",value:function(){console.log("phone",this.dataWithdraw),this.phoneVerified||"0"!=this.phoneVerified||this.verifiedPhoneWidthdrawTransfer()}},{key:"verifiedPhoneWidthdrawTransfer",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e={email:this.$store.state.beAuth.user.email,type:"SMS",reason:""},S.resendCode(e).then((function(t){console.log("res 1")}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleSubmit",value:function(){this.debounceFilter("handleSubmit")}},{key:"submit",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,this.phoneVerified){t.next=6;break}e={email:this.$store.state.beAuth.user.email,verificationCode:this.form.code,type:"SMS"},O.verifyCode("CODE",Object(m["a"])({},e)).then((function(t){a.isLoading=!1;a.$t("wallet.popup.correct-pin-code");a.$emit("close"),a.$emit("callApi"),a.setOpenPopup({popupName:"popup-base-verify",isOpen:!1}),a.phoneVerified=1,console.log("typeAction",a.typeAction),a.typeAction&&"TRANSFER"==a.typeAction?(console.log("transfer"),a.setOpenPopup({popupName:"popup-transfer-lyn",isOpen:!0})):(console.log("widtdraw"),a.setOpenPopup({popupName:"popup-withdraw",isOpen:!0}))})).catch((function(t){a.isLoading=!1})),t.next=14;break;case 6:if(!this.typeAction||"TRANSFER"!=this.typeAction){t.next=11;break}return t.next=9,R.verifyTransactionTransfer(this.typeAction,this.currency,Object(m["a"])(Object(m["a"])({},this.data),{},{verificationCode:this.form.code})).then((function(){a.success=1,a.isLoading=!1;var t=a.$t("wallet.popup.successTransfer");a.$emit("close"),a.$message.success({message:t,duration:5e3}),a.setOpenPopup({popupName:"popup-base-verify",isOpen:!1})})).catch((function(t){a.isLoading=!1,"INVALID_VERIFICATION"!=t.response.data.status&&"EXPIRED_VERIFICATION"!=t.response.data.status&&a.setOpenPopup({popupName:"popup-base-verify",isOpen:!1})}));case 9:t.next=14;break;case 11:if(!this.typeAction||"WITHDRAW"!=this.typeAction){t.next=14;break}return t.next=14,R.verifyTransaction(this.typeAction,this.currency,Object(m["a"])(Object(m["a"])({},this.data),{},{verificationCode:this.form.code})).then((function(){a.success=1,a.isLoading=!1;var t=a.$t("withdraw.successWithdraw");a.$emit("close"),a.$message.success({message:t,duration:5e3}),a.setOpenPopup({popupName:"popup-base-verify",isOpen:!1})})).catch((function(t){a.isLoading=!1,"INVALID_VERIFICATION"!=t.response.data.status&&"EXPIRED_VERIFICATION"!=t.response.data.status&&a.setOpenPopup({popupName:"popup-base-verify",isOpen:!1})}));case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),a}(Object(u["b"])(y["a"]));Object(l["c"])([T.State("user")],D.prototype,"user",void 0),Object(l["c"])([Object(u["c"])()],D.prototype,"type",void 0),Object(l["c"])([Object(u["c"])()],D.prototype,"data",void 0),Object(l["c"])([Object(u["c"])()],D.prototype,"dataWithdraw",void 0),Object(l["c"])([Object(u["c"])()],D.prototype,"dataTransfer",void 0),Object(l["c"])([Object(u["c"])({required:!0,type:String,default:"TRANSFER"})],D.prototype,"typeAction",void 0),Object(l["c"])([Object(u["c"])()],D.prototype,"phoneVerified",void 0),Object(l["c"])([Object(u["c"])()],D.prototype,"currency",void 0),Object(l["c"])([Object(u["c"])()],D.prototype,"typeActive",void 0),D=Object(l["c"])([u["a"]],D);var $=D,B=$,N=(a("48f8"),a("2877")),E=Object(N["a"])(B,w,C,!1,null,"0a85ff5e",null),j=E.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-popup",{staticClass:"popup-verify",attrs:{name:"popup-base-pin",width:"480px",isShowFooter:!1}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",[t._v(t._s(t.$t("popup.title.verification")))])]),a("div",{staticClass:"content"},[a("h3",{staticClass:"text-2xl text-center text-semibold title-form"},[t._v(t._s(t.getTittle))]),a("div",{staticClass:"be-flex verify-code"},[a("base-icon",{attrs:{icon:t.getIcon,size:"80"}}),a("div",{staticClass:"ml-1 w-100 input-code"},[a("el-form",{ref:"form-verify",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{staticClass:"no-require-label",attrs:{prop:"code",label:""+t.$t("verify.label")}},[a("el-input",{attrs:{type:"text",maxlength:"6",placeholder:""+t.$t("verify.placeholder")},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code","string"===typeof e?e.trim():e)},expression:"form.code"}})],1)],1)],1)],1),a("el-button",{staticClass:"btn w-100 is-none-border cursor btn-theme",class:t.getDisableBtn?"btn--disabled":null,attrs:{loading:t.isLoading},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("verify.submit"))+" ")]),"verify-app"!==t.$route.name?a("div",{staticClass:"text-base be-flex jc-space-center mt-24 mb-24 text-grey-130"},[t._v(" "+t._s(t.$t("verify.question"))+" Â "),a("span",{staticClass:"text-hyperlink text-semibold cursor",on:{click:t.handleResendCode}},[t._v(" "+t._s(t.$t("verify.re-send"))+" ")])]):t._e()],1)])},U=[],L=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.form={code:""},t.isLoading=!1,t.rules={code:[{required:!0,message:t.$t("verify.wrong-code"),trigger:"blur"}]},t}return Object(r["a"])(a,[{key:"getDisableBtn",get:function(){return 6!==this.form.code.length}},{key:"getIcon",get:function(){return"verify-app"}},{key:"getTittle",get:function(){return this.$t("verify.title-pin")}},{key:"handleResendCode",value:function(){console.log("a")}},{key:"handleSubmit",value:function(){console.log("a")}},{key:"handleOpen",value:function(){console.log("open")}},{key:"handleClose",value:function(){console.log("close")}}]),a}(u["d"]);L=Object(l["c"])([u["a"]],L);var W=L,F=W,I=(a("6017"),Object(N["a"])(F,P,U,!1,null,"18cfc064",null)),M=I.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-popup",{staticClass:"popup-edit-fee",attrs:{open:t.handleOpen,close:t.handleClose,name:"popup-edit-fee",width:"480px"}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",[t._v(t._s(t.$t("withdraw.title-popup-fee")))])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content"},[a("el-form",{ref:"edit-fee",attrs:{model:t.form,rules:t.rules,autocomplete:"off",autocorrect:"off",autocapitalize:"none",spellcheck:"false"}},[a("div",{staticClass:"nft-body-base text-desc mb-24 break-word"},[t._v(t._s(t.$t("withdraw.title-edit-fee")))]),a("div",{staticClass:"be-flex jc-space-between mb-24 tab-amount"},t._l(t.tabAmount,(function(e,n){return a("div",{key:n,staticClass:"text-base cursor amount-item",class:e.key===t.tabActive?"active":null,on:{click:function(a){return t.handleSelectTab(e.key)}}},[a("span",[t._v(t._s(t.$t("withdraw."+e.title)))])])})),0),a("el-form-item",{attrs:{label:t.$t("withdraw.gas-price"),prop:"gasPrice"}},[a("el-input",{attrs:{placeholder:t.$t("placeholder.gas-price"),autocomplete:"new-password",readonly:!1},nativeOn:{keypress:function(e){return t.onlyNumber(e,"gasPrice")},keyup:function(e){return t.numberFormat(e)}},model:{value:t.form.gasPrice,callback:function(e){t.$set(t.form,"gasPrice",e)},expression:"form.gasPrice"}})],1),a("el-form-item",{attrs:{label:t.$t("withdraw.gas-limit"),prop:"gasLimit"}},[a("el-input",{attrs:{placeholder:t.$t("placeholder.gas-limit"),autocomplete:"new-password",readonly:!1},nativeOn:{keypress:function(e){return t.onlyNumber(e,"gasLimit")},keyup:function(e){return t.numberFormat(e)}},model:{value:t.form.gasLimit,callback:function(e){t.$set(t.form,"gasLimit",e)},expression:"form.gasLimit"}})],1),a("div",{staticClass:"be-flex jc-space-between total-fee"},[a("div",{staticClass:"text-base text-semibold title"},[t._v(t._s(t.$t("withdraw.fee")))]),a("div",{staticClass:"text-right total"},[a("div",{staticClass:"text-base text-semibold"},[t._v(t._s(t.getTransactionFee)+" "+t._s(t.baseCurrency))]),a("span",{staticClass:"body-small text-desc"},[t._v("~$"+t._s(t.exchangeRate))])])])],1)],1),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"btn-default mr-15 text-regular btn-h40",on:{click:t.handleCancel}},[a("p",[t._v(t._s(t.$t("button.cancel")))])]),a("el-button",{staticClass:"btn is-none-border cursor btn-h40 btn-default-bg btn-theme",class:t.getDisableSubmit?"btn--disabled":null,on:{click:t.handleSubmit}},[t._v(t._s(t.$t("button.save")))])],1)])},V=[],H=a("8a30"),q=a.n(H),K=a("9380"),Y=a.n(K),z=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.tabActive="proposeGasPrice",t.tabActiveOld="proposeGasPrice",t.tabAmount=[{id:0,title:"low",key:"safeGasPrice"},{id:1,title:"medium",key:"proposeGasPrice"},{id:2,title:"high",key:"fastGasPrice"}],t.loading=!1,t.isSubmit=!1,t.form={gasPrice:"",gasLimit:""},t.formOld={gasPrice:"",gasLimit:""},t.rules={gasPrice:[{required:!0,message:t.$t("validate.gas-price-required"),trigger:"blur"}],gasLimit:[{required:!0,message:t.$t("validate.gas-limit-required"),trigger:"blur"}]},t}return Object(r["a"])(a,[{key:"getDisableSubmit",get:function(){return!(this.form.gasPrice&&this.form.gasLimit)}},{key:"baseCurrency",get:function(){return q()(["ETH","LYNK","CLM","USDT","USDC"],this.currency)?"ETH":"BNB"}},{key:"getTransactionFee",get:function(){var t,e=+this.form.gasPrice.replaceAll(",",""),a=+this.form.gasLimit.replaceAll(",","");return null===(t=this.$options.filters)||void 0===t?void 0:t.convertAmountDecimal(e*a/Math.pow(10,9),this.baseCurrency)}},{key:"exchangeRate",get:function(){var t,e=+this.getTransactionFee.replaceAll(",","");return null===(t=this.$options.filters)||void 0===t?void 0:t.convertAmountDecimal(this.baseCurrencyExchangeRate*e,"USD")}},{key:"handleWatchGasTracker",value:function(){this.handleFillGas()}},{key:"handleWatchAssetNetWork",value:function(){this.handleFillGas()}},{key:"watchGasPrice",value:function(t){""===t&&(this.tabActive="")}},{key:"watchGasLimit",value:function(t){""===t&&(this.tabActive="")}},{key:"handleOpen",value:function(){this.formOld=Object(m["a"])({},this.form),this.tabActiveOld=this.tabActive,this.handleFillGas()}},{key:"handleReset",value:function(){this.tabActive="proposeGasPrice",this.isSubmit=!1}},{key:"handleClose",value:function(){this.isSubmit?(this.form=Object(m["a"])({},this.formOld),this.tabActive=this.tabActiveOld):this.tabActive="proposeGasPrice",this.$refs["edit-fee"].clearValidate()}},{key:"handleCancel",value:function(){this.setOpenPopup({popupName:"popup-edit-fee",isOpen:!1})}},{key:"handleFillGas",value:function(){var t=this;if(""!==this.tabActive){var e=q()(["ETH","LYNK","CLM","USDT","USDC"],this.currency)?"ETH":"BSC";if(this.listGasTracker.length&&"BTC"!==this.currency){var a,n=Y()(this.listGasTracker,(function(t){return t.network===e}))[0][this.tabActive];this.form.gasPrice=null===(a=this.$options.filters)||void 0===a?void 0:a.formatNumber(n)}if(this.listAssetNetwork.length){var i,s=Y()(this.listAssetNetwork,(function(e){return e.currency===t.currency}))[0].gasLimit;this.form.gasLimit=null===(i=this.$options.filters)||void 0===i?void 0:i.formatNumber(s)}}}},{key:"handleSelectTab",value:function(t){this.$refs["edit-fee"].clearValidate(),this.tabActive===t?(this.tabActive="",this.form.gasPrice="",this.form.gasLimit=""):(this.tabActive=t,this.handleFillGas())}},{key:"handleSubmit",value:function(){this.tabActiveOld=this.tabActive,this.formOld=Object(m["a"])({},this.form),this.isSubmit=!0,this.$emit("editFee",this.form),this.setOpenPopup({popupName:"popup-edit-fee",isOpen:!1})}},{key:"onlyNumber",value:function(t,e){var a=t.keyCode?t.keyCode:t.which;(a<48||a>57)&&46!==a&&t.preventDefault(),46===a&&q()(this.form[e],".")&&t.preventDefault()}},{key:"numberFormat",value:function(t){var e,a=t,n=a.target.value;n.length>0&&(n=n.replaceAll(",",""),n=null===(e=this.$options.filters)||void 0===e?void 0:e.numberWithCommas(n),this.tabActive="",a.target.value=n)}}]),a}(Object(u["b"])(y["a"]));Object(l["c"])([Object(u["c"])({required:!1,type:Number,default:0})],z.prototype,"baseCurrencyExchangeRate",void 0),Object(l["c"])([Object(u["c"])({required:!1,type:Number,default:0})],z.prototype,"currentExchangeRate",void 0),Object(l["c"])([Object(u["c"])({required:!1,type:Array,default:function(){return[]}})],z.prototype,"listGasTracker",void 0),Object(l["c"])([Object(u["c"])({required:!1,type:Array,default:function(){return[]}})],z.prototype,"listAssetNetwork",void 0),Object(l["c"])([Object(u["c"])({required:!1,type:String,default:function(){return""}})],z.prototype,"currency",void 0),Object(l["c"])([Object(u["e"])("listGasTracker",{immediate:!0,deep:!0})],z.prototype,"handleWatchGasTracker",null),Object(l["c"])([Object(u["e"])("listAssetNetwork",{immediate:!0,deep:!0})],z.prototype,"handleWatchAssetNetWork",null),Object(l["c"])([Object(u["e"])("form.gasPrice")],z.prototype,"watchGasPrice",null),Object(l["c"])([Object(u["e"])("form.gasLimit")],z.prototype,"watchGasLimit",null),z=Object(l["c"])([u["a"]],z);var J=z,Q=J,X=(a("737c"),Object(N["a"])(Q,G,V,!1,null,"260afda8",null)),Z=X.exports,tt=a("2ef0"),et=Object(A["a"])("beBase"),at=Object(A["a"])("beAuth"),nt=Object(x["a"])("wallet"),it=Object(x["a"])("setting"),st=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.tabAmount=[25,50,75,100],t.tabActive=null,t.isScan=!1,t.type2fa="",t.withdraw={recipientAddress:"",amount:"",pin:"",network:""},t.bodyVerify={},t.typeAction="WITHDRAW",t.result="",t.showPass=!1,t.isLoading=!1,t.isReadOnly=!1,t.errorAmount=!1,t.dataWithdrawPop={},t.dataWithdraw2={},t.listNetwork=[],t.transFeeNetwork="",t.transactionFee=0,t.gasPriceCustom=0,t.gasLimitCustom=0,t.isCustomFee=!1,t.rules={recipientAddress:[{required:!0,message:t.$t("validate.wallet-address"),trigger:"blur"}]},t.errorPin=!1,t.debounceFilter=_()((function(e){"handleSubmit"==e&&t.submit(),"handleResetForm"==e&&t.handleReset()}),400),t.callApi={},t.loading=!1,t.phoneVerified="",t}return Object(r["a"])(a,[{key:"watchCurrentExchangeRate",value:function(){var t;this.isCustomFee&&(this.transactionFee=null===(t=this.$options.filters)||void 0===t?void 0:t.convertAmountDecimal(this.gasPriceCustom*this.gasLimitCustom/Math.pow(10,9)*(this.baseCurrencyExchangeRate/this.currentExchangeRate),this.getUnit))}},{key:"watchBaseCurrencyExchangeRate",value:function(){var t;this.isCustomFee&&(this.transactionFee=null===(t=this.$options.filters)||void 0===t?void 0:t.convertAmountDecimal(this.gasPriceCustom*this.gasLimitCustom/Math.pow(10,9)*(this.baseCurrencyExchangeRate/this.currentExchangeRate),this.getUnit))}},{key:"watchAvailable",value:function(){var t;this.tabActive&&(this.withdraw.amount=null===(t=this.$options.filters)||void 0===t?void 0:t.truncateToDecimals(this.getAvailable*(this.tabActive/100),this.type))}},{key:"gasPrice",get:function(){var t=q()(["ETH","LYNK","CLM","USDT","USDC"],this.type)?"ETH":"BSC";return this.listGasTracker.length&&"BTC"!==this.type&&!this.isCustomFee?Object(tt["filter"])(this.listGasTracker,(function(e){return e.network===t}))[0].proposeGasPrice:this.gasPriceCustom}},{key:"gasLimit",get:function(){var t=this;return this.listAssetNetwork.length&&!this.isCustomFee?Object(tt["filter"])(this.listAssetNetwork,(function(e){return e.currency===t.type}))[0].gasLimit:this.gasLimitCustom}},{key:"getTransactionFee",get:function(){var t;return"BTC"!==this.type?this.isCustomFee?this.transactionFee:this.gasPrice*this.gasLimit/Math.pow(10,9)*(this.baseCurrencyExchangeRate/this.currentExchangeRate):null===(t=this.$options.filters)||void 0===t?void 0:t.convertAmountDecimal(this.dataWithdrawPop.transactionFee,this.getUnit)}},{key:"getExchangeRate",get:function(){return this.isCustomFee?this.currentExchangeRate*this.transactionFee:this.currentExchangeRate*this.getTransactionFee}},{key:"getAvailable",get:function(){return"BTC"!==this.type?this.dataWithdraw.originAvailable-this.getTransactionFee:this.dataWithdraw.originAvailable}},{key:"getMinimum",get:function(){var t,e={LYNK:2,CLM:2,USD:2,USDC:2,USDT:2,BNB:5,ETH:8,BTC:8,BUSD:2},a=this.dataWithdraw.withdrawMinUSD/this.currentExchangeRate;return a%1!==0?(Math.ceil(a*Math.pow(10,e[this.type]))/Math.pow(10,e[this.type])).toFixed(e[this.type]):null===(t=this.$options.filters)||void 0===t?void 0:t.convertAmountDecimal(this.dataWithdraw.withdrawMinUSD/this.currentExchangeRate,this.type)}},{key:"getDisableSubmit",get:function(){return 1==this.dataWithdrawPop.pinEnable?!(!this.errorAmount&&this.withdraw.recipientAddress&&this.withdraw.amount&&this.withdraw.pin):!(!this.errorAmount&&this.withdraw.recipientAddress&&this.withdraw.amount)}},{key:"getTitlePopup",get:function(){switch(this.type){case"BTC":return this.$t("withdraw.bitcoin");case"ETH":return this.$t("withdraw.ethereum");case"BNB":return this.$t("withdraw.bnb");case"USDC":return this.$t("withdraw.usdc");case"USDT":return this.$t("withdraw.usdt");case"CLM":return this.$t("withdraw.clm");case"BUSD":return this.$t("withdraw.busd");default:return this.$t("withdraw.lynkey")}}},{key:"getUnit",get:function(){switch(this.type){case"BTC":return"BTC";case"ETH":return"ETH";case"BNB":return"BNB";case"USDT":return"USDT";case"USDC":return"USDC";case"BUSD":return"BUSD";default:return this.coinMain}}},{key:"checkAmount",value:function(t){if(t){var e=t.split(",").join(""),a=this.getMinimum.replaceAll(",","");Number(e)>this.getAvailable||Number(e)<+a?this.errorAmount=!0:this.errorAmount=!1}}},{key:"checkPinCode",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(e){var a,n,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={pin:null===(a=this.$options.filters)||void 0===a?void 0:a.encryptPassword(e)},t.next=3,it.checkPinCode(n).then((function(){i.errorPin=!1})).catch((function(){i.errorPin=!0}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleSelectTab",value:function(t){var e,a=t/100;this.tabActive===t?(this.tabActive=null,this.withdraw.amount=""):(this.tabActive=t,this.withdraw.amount=null===(e=this.$options.filters)||void 0===e?void 0:e.truncateToDecimals(this.getAvailable*a,this.type))}},{key:"handleScanAddress",value:function(){this.isScan=!0,this.setOpenPopup({popupName:"popup-scan-address",isOpen:!0})}},{key:"handleCompleteScanAddress",value:function(t){this.withdraw.recipientAddress=t,this.isScan=!1}},{key:"handleSubmit",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:(this.getDisableSubmit||this.errorAmount)&&(this.getDisableSubmit||this.errorAmount||0!==this.dataWithdrawPop.pinEnable)||(this.dataWithdraw2=Object(m["a"])({},this.withdraw),this.isLoading=!0,this.debounceFilter("handleSubmit"));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleResetForm",value:function(){this.debounceFilter("handleResetForm")}},{key:"submit",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e,a,n,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.checkPinCode(this.withdraw.pin);case 2:this.errorPin||(this.dataWithdraw2.amount=parseFloat(this.withdraw.amount.replace(/,/g,"")),this.withdraw.pin&&(a=null===(e=this.$options.filters)||void 0===e?void 0:e.encryptPassword(this.withdraw.pin),this.dataWithdraw2.pin=a),this.dataWithdraw2.transactionFee=this.dataWithdrawPop.transactionFee,this.dataWithdraw2.originTransactionFee=this.dataWithdrawPop.originTransactionFee,this.dataWithdraw2.exchangeRateETH=this.exchangeRateETH,this.dataWithdraw2.exchangeRateCurrency=this.currentExchangeRate,this.dataWithdraw2.exchangeRateBNB=this.exchangeRateBNB,this.dataWithdraw2.gasPrice=this.gasPrice,this.dataWithdraw2.gasLimit=this.gasLimit,n={email:this.$store.state.beAuth.user.email},it.get2fa(n).then((function(t){console.log("type2fa",t),i.type2fa=t,nt.validateTransaction("withdraw",i.getUnit,i.dataWithdraw2).then((function(t){i.bodyVerify=t,clearInterval(i.callApi),i.isLoading=!1,i.setOpenPopup({popupName:"popup-base-verify",isOpen:!0})})).catch((function(){i.isLoading=!1}))}))),this.isLoading=!1;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleReloadData",value:function(){this.$emit("reloadData"),this.setOpenPopup({popupName:"popup-withdraw",isOpen:!1})}},{key:"handleReset",value:function(){var t;this.isCustomFee=!1,null===(t=this.$refs["popup-edit-fee"])||void 0===t||t.handleReset(),this.loading=!1,this.withdraw={recipientAddress:"",amount:"",pin:"",network:""},this.tabActive=null,this.errorAmount=!1,this.$refs.ruleForm&&this.$refs.ruleForm.clearValidate()}},{key:"handleClose",value:function(){var t,e;null===(t=this.$refs["popup-edit-fee"])||void 0===t||t.handleReset(),null===(e=this.$refs["ruleForm"])||void 0===e||e.clearValidate(),this.isCustomFee=!1,clearInterval(this.callApi)}},{key:"handleOpen",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.handleReset();case 3:this.dataWithdrawPop=this.dataWithdraw,this.loading=!1;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handlePushData",value:function(){this.dataWithdraw&&(this.loading=!1,this.dataWithdrawPop=this.dataWithdraw,console.log("dataWithdrawPop: ",this.dataWithdrawPop))}},{key:"getDataWithdraw",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("ahihi"),t.next=3,nt.getDataWithdraw(this.type.toLowerCase()).then((function(t){e.dataWithdrawPop=t,console.log("phoneVerified",t.phoneVerified)}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onlyNumber",value:function(t,e){var a=t.keyCode?t.keyCode:t.which;(a<48||a>57)&&46!==a&&t.preventDefault(),46===a&&q()(this.withdraw[e],".")&&t.preventDefault()}},{key:"numberFormat",value:function(t){var e,a=t,n=a.target.value;n.length>0&&(n=n.replaceAll(",",""),n=null===(e=this.$options.filters)||void 0===e?void 0:e.numberWithCommas(n),this.tabActive=null,a.target.value=n)}},{key:"onlyNumberPin",value:function(t){var e=t,a=e.target.value;isNaN(a)?e.target.value="":e.target.value=a}},{key:"handleOpenEditFee",value:function(){this.setOpenPopup({popupName:"popup-edit-fee",isOpen:!0})}},{key:"handleEditFee",value:function(t){this.isCustomFee=!0,this.gasPriceCustom=+t.gasPrice.replaceAll(",",""),this.gasLimitCustom=+t.gasLimit.replaceAll(",",""),this.transactionFee=this.gasPriceCustom*this.gasLimitCustom/Math.pow(10,9)*(this.baseCurrencyExchangeRate/this.currentExchangeRate)}}]),a}(Object(u["b"])(y["a"]));Object(l["c"])([et.State("coinMain")],st.prototype,"coinMain",void 0),Object(l["c"])([Object(u["c"])()],st.prototype,"dataWithdraw",void 0),Object(l["c"])([Object(u["c"])({required:!1,type:String,default:""})],st.prototype,"type",void 0),Object(l["c"])([Object(u["c"])({required:!1,type:Number,default:0})],st.prototype,"baseCurrencyExchangeRate",void 0),Object(l["c"])([Object(u["c"])({required:!1,type:Number,default:0})],st.prototype,"currentExchangeRate",void 0),Object(l["c"])([Object(u["c"])({required:!1,type:Number,default:0})],st.prototype,"exchangeRateETH",void 0),Object(l["c"])([Object(u["c"])({required:!1,type:Number,default:0})],st.prototype,"exchangeRateBNB",void 0),Object(l["c"])([Object(u["c"])({required:!1,type:Array,default:function(){return[]}})],st.prototype,"listGasTracker",void 0),Object(l["c"])([Object(u["c"])({required:!1,type:Array,default:function(){return[]}})],st.prototype,"listAssetNetwork",void 0),Object(l["c"])([at.State("user")],st.prototype,"user",void 0),Object(l["c"])([Object(u["e"])("currentExchangeRate")],st.prototype,"watchCurrentExchangeRate",null),Object(l["c"])([Object(u["e"])("baseCurrencyExchangeRate")],st.prototype,"watchBaseCurrencyExchangeRate",null),Object(l["c"])([Object(u["e"])("getAvailable")],st.prototype,"watchAvailable",null),Object(l["c"])([Object(u["e"])("withdraw.amount")],st.prototype,"checkAmount",null),st=Object(l["c"])([Object(u["a"])({components:{PopupScanAddress:g["a"],PopupVerifyPin:M,PopupVerify:j,PopupEditFee:Z}})],st);var rt=st,ot=rt,ct=(a("e37d"),Object(N["a"])(ot,v,f,!1,null,"5bc2b211",null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-popup",{staticClass:"popup-deposit popup-deposit--responsive",attrs:{name:"popup-deposit",width:"620px",open:t.handleOpen,close:t.handleClose,isShowFooter:!1}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",[t._v(t._s(t.getTitlePopup))])]),a("div",{staticClass:"content"},[a("el-form",{attrs:{model:t.deposit}},["BTC"!==this.type?a("el-form-item",[a("el-select",{staticClass:"w-100",model:{value:t.deposit.network,callback:function(e){t.$set(t.deposit,"network",e)},expression:"deposit.network"}},t._l(t.listNetwork,(function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.networkName+" ("+e.network+")"}},[[a("span",{staticClass:"d-ib text-base"},[t._v(t._s(e.networkName+" ("+e.network+")"))])]],2)})),1),a("div",{staticClass:"be-flex jc-space-between w-100",attrs:{slot:"label"},slot:"label"},[a("span",[t._v(t._s(t.$t("withdraw.network")))])])],1):t._e(),a("div",{staticClass:"content-qr",staticStyle:{"text-align":"center"}},[a("qrcode-vue",{attrs:{value:t.addressWallet,size:"200",level:"H"}})],1),a("div",{staticClass:"text-base be-flex jc-space-center",staticStyle:{color:"#605e5c","font-size":"14px"}},[t._v(" "+t._s(t.$t("forgot.deposit11"))+" ")]),a("div",{staticClass:"text-base be-flex jc-space-center text-qr"},[t._v(t._s(this.$t("forgot.text11"))+" "+t._s(t.getTypeCoin))]),a("el-form-item",{staticClass:"form-deposit"},[a("el-input",{ref:"clone",attrs:{placeholder:"Äá»a chá» vÃ­",disabled:""},on:{focus:function(t){return t.target.select()}},model:{value:t.addressWallet,callback:function(e){t.addressWallet=e},expression:"addressWallet"}},[a("template",{staticStyle:{cursor:"pointer"},slot:"append"},[a("span",{staticClass:"hide-on-mobile",on:{click:t.copyToClipboard}},[a("base-icon",{attrs:{icon:"icon-copy",size:"24"}})],1),a("span",{staticClass:"show-on-mobile",on:{click:t.copyToClipboard}},[a("base-icon",{attrs:{icon:"icon-copy-black",size:"24"}})],1)])],2)],1),a("span",{staticClass:"text-sm d-block",staticStyle:{"margin-bottom":"24px","word-break":"break-word","line-height":"20px"}},[t._v(t._s(t.$t("deposit.min"))+": "),a("span",{staticClass:"text-bold"},[t._v(t._s(t.getMinimum)+" "+t._s(t.getTypeCoin))]),t._v(". "+t._s(t.$t("deposit.less-than"))+" "),a("span",{staticClass:"text-bold"},[t._v(t._s(t.getMinimum)+" "+t._s(t.getTypeCoin))]),t._v(" "+t._s(t.$t("deposit.not-refund")))])],1)],1)])},pt=[],dt=a("d7b0"),ht=(Object(x["a"])("wallet"),function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.tabAmount=[25,50,75,100],t.tabActive=null,t.addressWallet="",t.deposit={network:""},t.qrCls="qrcode",t.levelL="H",t.qrText="ThÃ nh test táº¡o qr code",t.depositMinUSD=0,t.listNetwork=[],t.transFeeNetwork="",t.typeDeposit="",t.typeCoin="",t.listNetworkEdit=[],t}return Object(r["a"])(a,[{key:"getTypeCoin",get:function(){switch(this.type){case"BTC":return"BTC";case"ETH":return"ETH";case"LYNK":return"LYNK";case"CLM":return"CLM";case"BNB":return"BNB";case"USDT":return"USDT";case"BUSD":return"BUSD";default:return"USDC"}}},{key:"getIcon",get:function(){switch(this.type){case"LYNK":return"icon-lin";case"BTC":return"icon-btc";case"ETH":return"icon-eth";case"BNB":return"icon-bnb";case"USDT":return"icon-usdt";case"USDC":return"icon-usdc";case"BUSD":return"icon-busd";default:return"icon-clm"}}},{key:"getTitlePopup",get:function(){switch(this.type){case"BTC":return this.$t("deposit.bitcoin");case"ETH":return this.$t("deposit.ethereum");case"BNB":return this.$t("deposit.bnb");case"USDC":return this.$t("deposit.usdc");case"USDT":return this.$t("deposit.usdt");case"CLM":return this.$t("deposit.clm");case"BUSD":return this.$t("deposit.busd");default:return this.$t("deposit.lynkey")}}},{key:"getMinimum",get:function(){var t,e={LYNK:2,CLM:2,USD:2,USDC:2,USDT:2,BNB:5,ETH:8,BTC:8,BUSD:2},a=this.depositMinUSD/this.currentExchangeRate;return a%1!==0?(Math.ceil(a*Math.pow(10,e[this.type]))/Math.pow(10,e[this.type])).toFixed(e[this.type]):null===(t=this.$options.filters)||void 0===t?void 0:t.convertAmountDecimal(a,this.type)}},{key:"copyToClipboard",value:function(){var t=document.createElement("input");t.value=this.addressWallet,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t);var e="";e=this.$t("notify.copy"),this.$message.success({message:e,duration:5e3})}},{key:"getUnit",get:function(){switch(this.type){case"BTC":return"BTC";case"ETH":return"ETH";default:return"LYNK"}}},{key:"handleClose",value:function(){this.depositMinUSD=0,this.addressWallet="",this.deposit.network="",this.listNetwork=[],console.log("sd")}},{key:"handleOpen",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.getWalletAddress(),this.getNetwork();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getNetwork",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null===(e=this.api)||void 0===e||e.getNetwork().then((function(t){a.listNetwork=Y()(t,(function(t){return t.currency===a.type})),1==a.listNetwork.length&&(a.deposit.network=a.listNetwork[0].id),console.log("list",a.listNetwork)})).catch((function(t){console.log(t)}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getWalletAddress",value:function(){var t,e=this,a={currency:this.type};null===(t=this.api)||void 0===t||t.getAddressWallet(a).then((function(t){console.log("res",t),e.addressWallet=t[0].address?t[0].address:"khong co dia chi",e.depositMinUSD=t[0].depositMinUSD||0})).catch((function(t){console.log(t)}))}},{key:"created",value:function(){this.api=Object(x["a"])("main")}},{key:"CoppyValue",value:function(){alert("ok")}},{key:"handleSelectTab",value:function(t){this.tabActive=t}}]),a}(Object(u["b"])(y["a"])));Object(l["c"])([Object(u["c"])({required:!1,type:Number,default:0})],ht.prototype,"currentExchangeRate",void 0),Object(l["c"])([Object(u["c"])({required:!1,type:String,default:""})],ht.prototype,"type",void 0),ht=Object(l["c"])([Object(u["a"])({components:{QrcodeVue:dt["a"]}})],ht);var bt=ht,vt=bt,ft=(a("d661"),Object(N["a"])(vt,ut,pt,!1,null,"496123e4",null)),mt=ft.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-popup",{staticClass:"popup-buy-lyn",attrs:{name:"popup-buy-lyn",width:"600px",open:t.handleOpen,close:t.handleClose}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",[t._v(t._s(t.$t("buy-lyn.title"))+" "+t._s(t.coinMain))])]),a("div",{staticClass:"content"},[a("el-form",{staticClass:"form-buy-lyn",attrs:{model:t.buyLyn}},[a("el-form-item",{staticClass:"list-wallet",attrs:{label:t.$t("label.buy-from")}},[a("el-select",{staticClass:"w-100",attrs:{disabled:""},model:{value:t.buyLyn.address,callback:function(e){t.$set(t.buyLyn,"address",e)},expression:"buyLyn.address"}},[t._l(t.listWallet,(function(e){return a("el-option",{key:e.id,attrs:{value:e.symbol,label:e.name}},[[a("div",{staticClass:"be-flex wallet-item"},[a("base-icon",{attrs:{icon:e.icon,size:"24"}}),a("span",{staticClass:"d-ib",staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.name))])],1)]],2)})),a("div",{staticClass:"suffix",attrs:{slot:"prefix"},slot:"prefix"},[a("base-icon",{attrs:{icon:t.getIcon,size:"24"}})],1)],2)],1),a("el-form-item",{staticClass:"mb-1",attrs:{prop:"amount"}},[a("el-input",{attrs:{placeholder:t.$t("placeholder.amount")},on:{input:t.changeAmount},nativeOn:{keypress:function(e){return t.onlyNumber(e,"amount")},keyup:function(e){return t.numberFormat(e)}},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("div",{staticClass:"prefix prefix--amount"},[a("span",[t._v(t._s(this.type))])]),a("div",{staticClass:"be-flex jc-space-between w-100",attrs:{slot:"label"},slot:"label"},[a("span",[t._v(t._s(t.$t("label.pay-amount")))]),a("span",[t._v(t._s(t.$t("withdraw.available"))+": "),a("span",{class:"amount-"+t.getUnit},[t._v(t._s(t.availableBalance)+" "+t._s(this.type))])])])],1),a("div",{staticClass:"be-flex jc-space-between mb-24 tab-amount"},t._l(t.tabAmount,(function(e){return a("div",{key:e,staticClass:"text-base cursor amount-item",class:e===t.tabActive?"active":null,on:{click:function(a){return t.handleSelectTab(e)}}},[a("span",[t._v(t._s(e)+"%")])])})),0),a("el-form-item",[a("el-input",{attrs:{Tplaceholder:"0"},on:{input:t.changeReceive},nativeOn:{keypress:function(e){return t.onlyNumber(e,"receive")},keyup:function(e){return t.numberFormat(e)}},model:{value:t.receive,callback:function(e){t.receive=e},expression:"receive"}}),a("div",{staticClass:"prefix prefix--amount"},[a("span",[t._v(t._s(t.coinMain))])]),a("div",{staticClass:"be-flex jc-space-between w-100",attrs:{slot:"label"},slot:"label"},[a("span",[t._v(t._s(t.$t("label.receive")))]),a("span",{staticStyle:{color:"#605e5c"}},[t._v(t._s(t.stringExchange)+" ")])])],1)],1)],1),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"btn-default mr-15 text-regular btn-h40",on:{click:t.hanldeReset}},[a("p",[t._v(t._s(t.$t("button.reset")))])]),a("button",{class:t.disableBtn?"btn--disabled btn-default-bg text-regular btn-h40":"btn-default-bg text-regular btn-h40 is-none-border btn-theme",attrs:{disabled:t.disableBtn},on:{click:t.debounceConfirm}},[t._v(" "+t._s(t.$t("button.continue"))+" ")])])])},gt=[],wt=(a("d3b7"),a("25f0"),a("1f2a")),Ct=Object(A["a"])("beBase"),xt=(Object(A["a"])("bcCrowdsale"),Object(A["a"])("beAuth"),Object(x["a"])("crowd-sale")),kt=Object(x["a"])("wallet"),_t=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.wallet=[],t.exchangeRate=[],t.tabAmount=[25,50,75,100],t.tabActive=null,t.isScan=!1,t.amount="",t.receive="",t.disableBtn=!0,t.stringExchange="",t.showError=!1,t.exchange={},t.exchangeBTCToLyn={},t.exchangeBTCToUSD={},t.exchangelynToUSD={},t.typeDeposit="",t.buyLyn={address:0},t.result="",t.disabledAmount=!1,t.disableRecive=!1,t.dataWallet={},t.listWallet=[{id:0,name:"Bitcoin Wallet",symbol:"BTC",icon:"icon-btc"},{id:1,name:"Ethereum Wallet",symbol:"ETH",icon:"icon-eth"},{id:2,name:"Tether Wallet",symbol:"USDT",icon:"icon-usdt",disabled:!0},{id:3,name:"USDC Wallet",symbol:"USDC",icon:"icon-usdc",disabled:!0},{id:4,name:"BNB Wallet",symbol:"BNB",icon:"icon-bnb",disabled:!0},{id:5,name:"BUSD Wallet",symbol:"BUSD",icon:"icon-busd",disabled:!0}],t.tokenAmount="",t.minBit="",t.minEth="",t.minBnb="",t.minUsdt="",t.minUsdc="",t.systemTokenMinToBuy="",t.mintoBuy={},t.handleConfirm=_()((function(t){var e,a,n,i,s=t.amount.toString().replaceAll(",",""),r=t.receive.toString().replaceAll(",",""),o={tokenAddress:null===(e=t.walletDetailLYN[0])||void 0===e?void 0:e.address,tokenCurrency:t.coinMain,tokenNetwork:null===(a=t.walletDetailLYN[0])||void 0===a?void 0:a.network,tokenAmount:r,tokenUsdExchangeRate:t.exchangeBTCToLyn.oneTargetToUsd,paidAddress:null===(n=t.walletDetailBTC[0])||void 0===n?void 0:n.address,paidCurrency:t.type,paidNetwork:null===(i=t.walletDetailBTC[0])||void 0===i?void 0:i.network,paidAmount:s,paidUsdExchangeRate:t.exchangeBTCToLyn.oneSourceToUsd,paidTokenExchangeRate:t.exchangeBTCToLyn.oneSourceToTarget,description:"",isExternal:0,transactionCode:null};null===kt||void 0===kt||kt.buyLyn(o).then((function(){var e=t.$t("buy-lyn.success");t.$message.success({message:e,duration:5e3}),t.$emit("reloadData"),wt["a"].$emit("reloadData"),t.handleClose()})).catch((function(t){console.log("error")}))}),300),t.walletDetailBTC={},t.walletDetailLYN={},t.availableBalance="",t.BTC="BTC",t.ETH="ETH",t.LYNK=t.coinMain,t.USD="USD",t.callApi={},t}return Object(r["a"])(a,[{key:"getIcon",get:function(){var t=this,e=Y()(this.listWallet,(function(e){return e.symbol===t.buyLyn.address}))[0];return null===e||void 0===e?void 0:e.icon}},{key:"getUnit",get:function(){switch(this.buyLyn.address){case"BTC":return"BTC";case"ETH":return"ETH";case"USDT":return"USDT";case"USDC":return"USDC";case"BNB":return"BNB";case"BUSD":return"BUSD";default:return this.coinMain}}},{key:"hanldeReset",value:function(){this.tabActive=null,this.amount="",this.receive="",this.disableRecive=!1,this.disabledAmount=!1}},{key:"handleClose",value:function(){clearInterval(this.callApi),this.setOpenPopup({popupName:"popup-buy-lyn",isOpen:!1}),this.hanldeReset()}},{key:"changeAmount",value:function(t){this.tabActive=null;var e,a=Number(t.replaceAll(",",""));parseFloat(t)>0?this.receive=null===(e=this.$options.filters)||void 0===e?void 0:e.convertAmountDecimal(a*this.exchangeBTCToLyn.oneSourceToTarget,this.coinMain):this.receive="0";console.log("re",this.receive),null==t||""==t||0==a||"0"==this.amount||"0.00"==this.receive?this.disableBtn=!0:this.disableBtn=!1}},{key:"changeReceive",value:function(t){this.tabActive=null;var e,a=Number(t.replaceAll(",",""));(this.disabledAmount=!!t,a>0)?(this.amount=null===(e=this.$options.filters)||void 0===e?void 0:e.convertAmountDecimal(a/this.exchangeBTCToLyn.oneSourceToTarget,this.getUnit),this.tokenAmount=this.amount.toString().replace(",","")):this.amount="0";null==t||""==t||0==a||""==this.amount||"0"==this.amount?this.disableBtn=!0:this.disableBtn=!1}},{key:"checkError",value:function(t){var e=parseFloat(t);this.showError=!(e>0)}},{key:"getExchangeRates",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xt.getExchangeRates();case 2:this.mintoBuy=t.sent,"ETH"==this.type?this.systemTokenMinToBuy=this.mintoBuy.systemToken["system.token.min.crowd.sale.with_eth"]:"BNB"==this.type?this.systemTokenMinToBuy=this.mintoBuy.systemToken["system.token.min.crowd.sale.with_bnb"]:"USDT"==this.type?this.systemTokenMinToBuy=this.mintoBuy.systemToken["system.token.min.crowd.sale.with_usdt"]:"USDC"==this.type?this.systemTokenMinToBuy=this.mintoBuy.systemToken["system.token.min.crowd.sale.with_usdc"]:"BTC"==this.type&&(this.systemTokenMinToBuy=this.mintoBuy.systemToken["system.token.min.crowd.sale.with_btc"]);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleSelectTab",value:function(t){if(this.tabActive===t)this.tabActive=null,this.disableBtn=!0,this.amount="",this.receive="";else{var e,a;this.tabActive=t,this.disableBtn=!1;var n=Number(this.availableBalance.replaceAll(",","")),i=t*n/100;this.amount=null===(e=this.$options.filters)||void 0===e?void 0:e.convertAmountDecimal(i,this.getUnit);var s=Number(this.amount.replaceAll(",",""));this.receive=null===(a=this.$options.filters)||void 0===a?void 0:a.convertAmountDecimal(s*this.exchangeBTCToLyn.oneSourceToTarget,this.coinMain)}}},{key:"onlyNumber",value:function(t,e){var a=t.keyCode?t.keyCode:t.which;(a<48||a>57)&&46!==a&&t.preventDefault(),46===a&&q()(this.buyLyn[e],".")&&t.preventDefault()}},{key:"numberFormat",value:function(t){var e,a=t,n=a.target.value;n.length>0&&(n=n.replaceAll(",",""),n=null===(e=this.$options.filters)||void 0===e?void 0:e.numberWithCommas(n),a.target.value=n)}},{key:"debounceConfirm",value:function(){this.disableBtn=!0,this.handleConfirm(this)}},{key:"getDataReload",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,kt.getExchangeRateTwoCoin(this.type,this.coinMain);case 2:return this.exchangeBTCToLyn=t.sent,t.next=5,kt.getMyWallet({currency:this.type});case 5:return this.walletDetailBTC=t.sent,t.next=8,kt.getMyWallet({currency:this.coinMain});case 8:this.walletDetailLYN=t.sent,n=null===(e=this.$options.filters)||void 0===e?void 0:e.convertAmountDecimal(parseFloat(this.exchangeBTCToLyn.oneSourceToTarget).toFixed(2),this.coinMain),this.stringExchange="1 "+this.type+" = "+n+" "+this.coinMain,this.availableBalance=null===(a=this.$options.filters)||void 0===a?void 0:a.convertAmountDecimal(this.walletDetailBTC[0].assetBalances.availableBalance,this.getUnit),console.log("available",this.availableBalance);case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleOpen",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getExchangeRates();case 2:return this.disableBtn=!0,this.callApi=setInterval(this.getDataReload,15e3),this.buyLyn.address=this.type,t.next=7,kt.getExchangeRateTwoCoin(this.type,this.coinMain);case 7:return this.exchangeBTCToLyn=t.sent,t.next=10,kt.getMyWallet({currency:this.type});case 10:return this.walletDetailBTC=t.sent,t.next=13,kt.getMyWallet({currency:this.coinMain});case 13:this.walletDetailLYN=t.sent,n=null===(e=this.$options.filters)||void 0===e?void 0:e.convertAmountDecimal(parseFloat(this.exchangeBTCToLyn.oneSourceToTarget).toFixed(2),this.coinMain),this.stringExchange="1 "+this.type+" = "+n+" "+this.coinMain,this.availableBalance=null===(a=this.$options.filters)||void 0===a?void 0:a.convertAmountDecimal(this.walletDetailBTC[0].assetBalances.availableBalance,this.getUnit);case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),a}(Object(u["b"])(y["a"]));Object(l["c"])([Object(u["c"])({required:!1,type:String,default:""})],_t.prototype,"type",void 0),Object(l["c"])([Ct.State("coinMain")],_t.prototype,"coinMain",void 0),Object(l["c"])([Object(u["e"])("amount")],_t.prototype,"checkError",null),_t=Object(l["c"])([Object(u["a"])({components:{}})],_t);var At=_t,Tt=At,St=(a("dcb1"),Object(N["a"])(Tt,yt,gt,!1,null,"7086eaf3",null)),Ot=St.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-popup",{staticClass:"popup-transfer-lyn",attrs:{open:t.handleOpen,close:t.handleClose,name:"popup-transfer-lyn",width:"600px"}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",[t._v(t._s(t.$t("wallet.popup.transfer"))+" "+t._s(t.getUnit))])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content"},[a("el-form",{ref:"withdraw",attrs:{model:t.withdraw,rules:t.rules,autocomplete:"off",autocorrect:"off",autocapitalize:"none",spellcheck:"false"}},[a("el-form-item",{attrs:{label:t.$t("withdraw.address"),prop:"recipientAddress"}},[a("el-input",{attrs:{placeholder:t.$t("placeholder.address")},model:{value:t.withdraw.recipientAddress,callback:function(e){t.$set(t.withdraw,"recipientAddress",e)},expression:"withdraw.recipientAddress"}}),t.errorAddress?a("div",{staticClass:"error"},[t._v(t._s(t.$t("wallet.popup.errorMess")))]):t._e(),a("div",{staticClass:"prefix prefix--camera cursor",on:{click:t.handleScanAddress}},[a("base-icon",{attrs:{icon:"icon-scan",size:"24"}})],1)],1),a("el-form-item",{staticClass:"mb-1",attrs:{prop:"amount"}},[a("el-input",{class:t.errorAmount?"errorInput":null,attrs:{placeholder:t.$t("placeholder.amount"),autocomplete:"new-password",readonly:t.isReadOnly},nativeOn:{keypress:function(e){return t.onlyNumber(e,"amount")},keyup:function(e){return t.numberFormat(e)}},model:{value:t.withdraw.amount,callback:function(e){t.$set(t.withdraw,"amount",e)},expression:"withdraw.amount"}}),t.errorAmount?a("div",{staticClass:"error error2"},[t._v(t._s(t.$t("wallet.popup.errorAmountLyn")))]):t._e(),a("div",{staticClass:"prefix prefix--amount"},[a("span",[t._v(t._s(t.getUnit))])]),a("div",{staticClass:"be-flex jc-space-between w-100",attrs:{slot:"label"},slot:"label"},[a("span",[t._v(t._s(t.$t("withdraw.amount")))]),a("span",[t._v(t._s(t.$t("withdraw.available"))+": "),t.dataTransferProp.originAvailable?a("span",{staticClass:"amount-unit",class:"amount-"+t.getUnit},[t._v(t._s(t.getAvailable(t.dataTransferProp.originAvailable))+" "+t._s(t.getUnit))]):t._e()])])],1),a("div",{staticClass:"be-flex jc-space-between mb-24 tab-amount"},t._l(t.tabAmount,(function(e){return a("div",{key:e,staticClass:"text-base cursor amount-item",class:e===t.tabActive?"active":null,on:{click:function(a){return t.handleSelectTab(e)}}},[a("span",[t._v(t._s(e)+"%")])])})),0),a("el-form-item",{attrs:{label:t.$t("withdraw.fees")}},[a("el-input",{attrs:{disabled:"",placeholder:t.$t("placeholder.fee"),value:t.getTransactionFee(t.dataTransferProp.transactionFee)}}),t.dataTransferProp.exchangeRateCurrency?a("div",{staticClass:"coin"},[t._v(" ~$"+t._s(t._f("convertAmountDecimal")(t.dataTransferProp.exchangeRateCurrency*t.dataTransferProp.transactionFee,t.getUnit))+" ")]):t._e()],1),t.dataTransferProp&&1==t.dataTransferProp.pinEnable?a("el-form-item",{staticClass:"input-password",attrs:{label:t.$t("withdraw.pin-code"),prop:"pin"}},[a("el-input",{attrs:{placeholder:t.$t("placeholder.pin-code"),type:1==t.showPass?"text":"password",autocomplete:"new-password",maxlength:"4"},nativeOn:{keyup:function(e){return t.onlyNumberPin(e)}},model:{value:t.withdraw.pin,callback:function(e){t.$set(t.withdraw,"pin",e)},expression:"withdraw.pin"}}),a("span",{staticClass:"icon-show-password",on:{click:function(e){t.showPass=!t.showPass}}},[a("base-icon",{attrs:{icon:1!=t.showPass?"icon-eye":"icon-eye-off",size:"22"}})],1)],1):t._e()],1)],1),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"btn-default mr-15 text-regular btn-h40",on:{click:t.handleResetForm}},[a("p",[t._v(t._s(t.$t("button.reset")))])]),a("el-button",{staticClass:"btn is-none-border cursor btn-h40 btn-default-bg",class:t.disableBtn?"btn--disabled":"btn-theme",attrs:{loading:t.isLoading,disabled:t.disableBtn},on:{click:t.handleSubmit}},[t._v(" "+t._s(t.$t("button.continue"))+" ")])],1),t.isScan?a("popup-scan-address",{on:{scan:t.handleCompleteScanAddress,close:function(e){t.isScan=!1}}}):t._e(),a("popup-verify-transfer",{attrs:{type:t.type2fa,data:t.bodyVerify,typeAction:t.typeAction,typeActive:t.typeActive},on:{close:t.handleReloadData,callApi:t.handleCallApi}})],1)},Dt=[],$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-popup",{staticClass:"popup-verify",attrs:{name:"popup-base-verify-transfer",width:"480px",open:t.handleOpen,close:t.handleClose,isShowFooter:!1}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",[t._v(t._s(t.$t("popup.title.verification")))])]),a("div",{staticClass:"content"},[t.type&&"APP"==t.type?a("h3",{staticClass:"text-2xl text-center text-semibold title-form"},[t._v(t._s(t.$t("verified.titleContent")))]):t._e(),t.type&&"SMS"==t.type?a("h3",{staticClass:"text-2xl text-center text-semibold title-form"},[t._v(t._s(t.$t("verified.titleContent2")))]):t._e(),t.type&&"EMAIL"==t.type?a("h3",{staticClass:"text-2xl text-center text-semibold title-form"},[t._v(t._s(t.$t("verified.titleContent3")))]):t._e(),a("div",{staticClass:"be-flex verify-code"},[t.type&&"APP"==t.type?a("base-icon",{staticClass:"hide-mobile",attrs:{icon:"verify-app",size:"80"}}):t._e(),t.type&&"SMS"==t.type?a("base-icon",{staticClass:"hide-mobile",attrs:{icon:"verify-phone",size:"80"}}):t._e(),t.type&&"EMAIL"==t.type?a("base-icon",{staticClass:"hide-mobile",attrs:{icon:"verify-email",size:"80"}}):t._e(),a("div",{staticClass:"ml-1 w-100 input-code"},[a("el-form",{ref:"form-verify",attrs:{model:t.form,rules:t.rules},nativeOn:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[a("el-form-item",{staticClass:"no-require-label",attrs:{prop:"code",label:""+t.$t("verify.label")}},[a("el-input",{attrs:{type:"text",maxlength:"6",placeholder:""+t.$t("verify.placeholder")},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code","string"===typeof e?e.trim():e)},expression:"form.code"}})],1)],1)],1)],1),a("el-button",{staticClass:"btn w-100 is-none-border cursor btn-submit btn-theme",class:t.getDisableBtn?"btn--disabled":null,attrs:{loading:t.isLoading},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("verify.submit"))+" ")]),"APP"!=t.type?a("div",{staticClass:"text-base be-flex jc-space-center mt-24 mb-24 text-grey-130 text-discript"},[t._v(" "+t._s(t.$t("verify.question"))+" Â "),a("span",{staticClass:"text-hyperlink text-semibold cursor",on:{click:t.handleResendCode}},[t._v(" "+t._s(t.$t("verify.re-send"))+" ")])]):t._e()],1)])},Bt=[],Nt=(Object(x["a"])("setting"),Object(x["a"])("wallet")),Et=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.form={code:""},t.isLoading=!1,t.success=0,t.rules={code:[{required:!0,message:t.$t("verify.wrong-code"),trigger:"blur"}]},t.debounceFilter=_()((function(e){console.log("nameAction",e),"handleResendCode"==e&&t.resendCode(),"handleSubmit"==e&&t.submit()}),400),t}return Object(r["a"])(a,[{key:"getDisableBtn",get:function(){return 6!==this.form.code.length}},{key:"getIcon",get:function(){var t=this.$route.name;return"verify-phone"===t?"verify-phone":"verify-email"===t?"verify-email":"verify-app"}},{key:"handleResendCode",value:function(){this.debounceFilter("handleResendCode")}},{key:"resendCode",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"WITHDRAW"==this.typeAction?Nt.sendCodeWithdraw().then((function(){var t=e.$t("verified.resendCodeMess");e.$message.success({message:t,duration:5e3})})):Nt.verificatySendcode().then((function(){var t=e.$t("verified.resendCodeMess");e.$message.success({message:t,duration:5e3})}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleReset",value:function(){this.form={code:""},this.success=0}},{key:"handleClose",value:function(){("TRANSFER"==this.typeAction&&0==this.success||"WITHDRAW"==this.typeAction&&0==this.success)&&this.$emit("callApi"),this.handleReset()}},{key:"handleOpen",value:function(){console.log("type",this.typeAction)}},{key:"handleSubmit",value:function(){this.debounceFilter("handleSubmit")}},{key:"submit",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,!this.typeAction||"TRANSFER"!==this.typeAction){t.next=6;break}return t.next=4,Nt.verifyTransactionTransfer(this.typeAction,this.typeActive,Object(m["a"])(Object(m["a"])({},this.data),{},{verificationCode:this.form.code})).then((function(){e.success=1,e.isLoading=!1;var t=e.$t("wallet.popup.successTransfer");e.$emit("close"),e.$message.success({message:t,duration:5e3}),e.setOpenPopup({popupName:"popup-base-verify-transfer",isOpen:!1})})).catch((function(t){e.isLoading=!1,"INVALID_VERIFICATION"!=t.response.data.status&&"EXPIRED_VERIFICATION"!=t.response.data.status&&e.setOpenPopup({popupName:"popup-base-verify-transfer",isOpen:!1})}));case 4:t.next=9;break;case 6:if(!this.typeAction||"WITHDRAW"!==this.typeAction){t.next=9;break}return t.next=9,Nt.verifyTransaction(this.typeAction,this.typeActive,Object(m["a"])(Object(m["a"])({},this.data),{},{verificationCode:this.form.code})).then((function(){e.success=1,e.isLoading=!1;var t=e.$t("withdraw.successWithdraw");e.$emit("close"),e.$message.success({message:t,duration:5e3}),e.setOpenPopup({popupName:"popup-base-verify-transfer",isOpen:!1})})).catch((function(t){e.isLoading=!1,"INVALID_VERIFICATION"!=t.response.data.status&&"EXPIRED_VERIFICATION"!=t.response.data.status&&e.setOpenPopup({popupName:"popup-base-verify-transfer",isOpen:!1})}));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),a}(Object(u["b"])(y["a"]));Object(l["c"])([Object(u["c"])()],Et.prototype,"type",void 0),Object(l["c"])([Object(u["c"])()],Et.prototype,"data",void 0),Object(l["c"])([Object(u["c"])({required:!0,type:String,default:"TRANSFER"})],Et.prototype,"typeAction",void 0),Object(l["c"])([Object(u["c"])()],Et.prototype,"currency",void 0),Object(l["c"])([Object(u["c"])()],Et.prototype,"typeActive",void 0),Et=Object(l["c"])([u["a"]],Et);var jt=Et,Pt=jt,Ut=(a("ea1e"),Object(N["a"])(Pt,$t,Bt,!1,null,"2dca870a",null)),Lt=Ut.exports,Wt=Object(A["a"])("beBase"),Ft=Object(x["a"])("wallet"),It=Object(x["a"])("setting"),Mt=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.tabAmount=[25,50,75,100],t.tabActive=null,t.isScan=!1,t.type2fa="",t.withdraw={recipientAddress:"",amount:"",pin:"",transactionFee:"",exchangeRateETH:"",exchangeRateBNB:"",exchangeRateCurrency:""},t.bodyVerify={},t.loading=!1,t.isLoading=!1,t.result="",t.typeAction="TRANSFER",t.showPass=!1,t.isReadOnly=!1,t.errorAddress=!1,t.errorAmount=!1,t.disableBtn=!0,t.dataWithdraw={},t.rules={recipientAddress:[{required:!0,message:t.$t("wallet.popup.wrong-address"),trigger:"change"}]},t.dataTransferProp={},t.errorPin=!0,t.debounceFilter=_()((function(e){"handleSubmit"==e&&t.submit(),"handleResetForm"==e&&t.handleReset()}),400),t.stringScan="",t.callApi={},t.debounceValidateAddress=_()(function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return n={recipientAddress:a},e.next=4,Ft.validateLynV2(t.typeActive.toLowerCase(),n).then((function(){t.errorAddress=!1,t.checkDisableBtn()})).catch((function(){t.errorAddress=!0}));case 4:e.next=7;break;case 6:t.errorAddress=!1;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),500),t}return Object(r["a"])(a,[{key:"getTransactionFee",value:function(t){var e,a="";return a=(null===(e=this.$options.filters)||void 0===e?void 0:e.convertAmountDecimal(t,this.getUnit))+" "+this.getUnit,a}},{key:"getUnit",get:function(){return this.typeActive}},{key:"getAvailable",value:function(t){var e,a="";t&&(a=null===(e=this.$options.filters)||void 0===e?void 0:e.convertAmountDecimal(t,this.typeActive));return a}},{key:"checkAmount",value:function(t){if(t){var e=t.split(",").join("");Number(e)>this.dataTransfer.originAvailable?this.errorAmount=!0:this.errorAmount=!1}else this.tabActive=null;this.checkDisableBtn()}},{key:"checkPin",value:function(t){this.checkDisableBtn()}},{key:"checkPinCode",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(e){var a,n,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={pin:null===(a=this.$options.filters)||void 0===a?void 0:a.encryptPassword(e)},t.next=3,It.checkPinCode(n).then((function(){i.errorPin=!1})).catch((function(t){i.errorPin=!0}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleSelectTab",value:function(t){var e,a=t/100;this.tabActive===t?(this.tabActive=null,this.withdraw.amount=""):(this.tabActive=t,this.withdraw.amount=null===(e=this.$options.filters)||void 0===e?void 0:e.convertAmountDecimal(this.dataTransfer.originAvailable*a,this.typeActive))}},{key:"validateForm",value:function(){var t=this.$refs.withdraw,e=!1;return t.validate((function(t){e=t})),e}},{key:"handleResetForm",value:function(){this.debounceFilter("handleResetForm")}},{key:"handleSubmit",value:function(){this.dataWithdraw=Object(m["a"])({},this.withdraw);var t=this.validateForm();(t&&!this.errorAmount||t&&!this.errorAmount&&0===this.dataTransfer.pinEnable)&&this.debounceFilter("handleSubmit")}},{key:"submit",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e,a,n,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.checkPinCode(this.withdraw.pin);case 3:this.errorPin||(this.dataWithdraw.amount=parseFloat(this.withdraw.amount.replace(/,/g,"")),this.withdraw.pin&&(a=null===(e=this.$options.filters)||void 0===e?void 0:e.encryptPassword(this.withdraw.pin),this.dataWithdraw.pin=a),this.dataWithdraw.transactionFee=this.dataTransferProp.transactionFee,this.dataWithdraw.originTransactionFee=this.dataTransferProp.originTransactionFee,this.dataWithdraw.exchangeRateETH=this.dataTransferProp.exchangeRateETH,this.dataWithdraw.exchangeRateCurrency=this.dataTransferProp.exchangeRateCurrency,this.dataWithdraw.exchangeRateBNB=this.dataTransferProp.exchangeRateBNB,n={email:this.$store.state.beAuth.user.email},It.get2fa(n).then((function(t){i.type2fa=t,Ft.validateTransactionTransfer("transfer",i.getUnit,i.dataWithdraw).then((function(t){i.bodyVerify=t,i.isLoading=!1,clearInterval(i.callApi),i.setOpenPopup({popupName:"popup-base-verify-transfer",isOpen:!0})})).catch((function(t){i.isLoading=!1,console.log(t)}))}))),this.isLoading=!1;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleScanAddress",value:function(){this.isScan=!0,this.setOpenPopup({popupName:"popup-scan-address",isOpen:!0})}},{key:"handleCompleteScanAddress",value:function(t){this.withdraw.recipientAddress=t,this.isScan=!1}},{key:"handleReset",value:function(){this.withdraw={recipientAddress:"",amount:"",pin:"",transactionFee:"",exchangeRateETH:"",exchangeRateBNB:"",exchangeRateCurrency:""},this.tabActive=null,this.errorAddress=!1,this.errorAmount=!1,this.disableBtn=!0,this.type2fa="",this.loading=!1,this.$refs.withdraw&&this.$refs.withdraw.clearValidate()}},{key:"handleClose",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,clearInterval(this.callApi);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleReloadData",value:function(){this.$emit("reloadData"),this.setOpenPopup({popupName:"popup-transfer-lyn",isOpen:!1})}},{key:"handleOpen",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.handleReset();case 3:return t.next=5,this.handlePushData();case 5:return t.next=7,this.handleCallApi();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handlePushData",value:function(){this.dataTransfer&&(this.loading=!1,this.dataTransferProp=this.dataTransfer)}},{key:"handleCallApi",value:function(){this.callApi=setInterval(this.getExchangeRate,5e3)}},{key:"onlyNumber",value:function(t,e){var a=t.keyCode?t.keyCode:t.which;(a<48||a>57)&&46!==a&&t.preventDefault(),46===a&&q()(this.withdraw[e],".")&&t.preventDefault()}},{key:"numberFormat",value:function(t){var e,a=t,n=a.target.value;n.length>0&&(n=n.replaceAll(",",""),n=null===(e=this.$options.filters)||void 0===e?void 0:e.numberWithCommas(n),this.tabActive=null,a.target.value=n)}},{key:"handleChangeAddress",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.debounceValidateAddress(e);case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"checkDisableBtn",value:function(){1==this.dataTransferProp.pinEnable?this.withdraw.recipientAddress&&this.withdraw.amount&&this.withdraw.pin&&!this.errorAddress?this.disableBtn=!1:this.disableBtn=!0:0==this.dataTransferProp.pinEnable&&(this.withdraw.recipientAddress&&this.withdraw.amount&&!this.errorAddress?this.disableBtn=!1:this.disableBtn=!0)}},{key:"onlyNumberPin",value:function(t){var e=t,a=e.target.value;isNaN(a)?e.target.value="":e.target.value=a}},{key:"getExchangeRate",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ft.getLynInfo(this.typeActive.toLowerCase());case 2:e=t.sent,this.dataTransferProp=e;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),a}(Object(u["b"])(y["a"]));Object(l["c"])([Wt.State("coinMain")],Mt.prototype,"coinMain",void 0),Object(l["c"])([Object(u["c"])({required:!1,type:String,default:""})],Mt.prototype,"type",void 0),Object(l["c"])([Object(u["c"])()],Mt.prototype,"dataTransfer",void 0),Object(l["c"])([Object(u["c"])()],Mt.prototype,"typeActive",void 0),Object(l["c"])([Object(u["e"])("withdraw.amount")],Mt.prototype,"checkAmount",null),Object(l["c"])([Object(u["e"])("withdraw.pin")],Mt.prototype,"checkPin",null),Object(l["c"])([Object(u["e"])("withdraw.recipientAddress")],Mt.prototype,"handleChangeAddress",null),Mt=Object(l["c"])([Object(u["a"])({components:{PopupScanAddress:g["a"],PopupVerifyTransfer:Lt}})],Mt);var Gt=Mt,Vt=Gt,Ht=(a("a84d"),Object(N["a"])(Vt,Rt,Dt,!1,null,"261a2643",null)),qt=Ht.exports,Kt=a("6cd4"),Yt=a.n(Kt),zt=a("3b19"),Jt=Object(x["a"])("wallet"),Qt=Object(A["a"])("beBase"),Xt=Object(A["a"])("beAuth"),Zt=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.roundCurrentPopup={},t.listRoundPopup=[],t.listenerCrowd=null,t.type2fa="SMS",t.phoneVerified=!0,t.typeAction="",t.isNext=!0,t.isPrev=!1,t.tabs=[{id:1,title:"Bitcoin",currency:"BTC",routeName:"WalletBtc"},{id:2,title:"Ethereum",currency:"ETH",routeName:"WalletEth"},{id:3,title:"BNB",currency:"BNB",routeName:"WalletBnb"},{id:4,title:"Tether",currency:"USDT",routeName:"WalletUsdt"},{id:5,title:"USDC",currency:"USDC",routeName:"WalletUsdc"},{id:6,title:"Binance USD",currency:"BUSD",routeName:"WalletBusd"}],t.tabActive="",t.listener=null,t.wallet=[],t.vesting={},t.exchangeRate=[],t.dataTransfer={},t.dataWithdraw={},t.refGasTracker=null,t.listGasTracker=[],t.refAssetNetwork=null,t.listAssetNetwork=[],t.routeTabActive={WalletLyn:"LYNK",WalletClm:"CLM",WalletBtc:"BTC",WalletEth:"ETH",WalletBnb:"BNB",WalletUsdt:"USDT",WalletUsdc:"USDC",WalletBusd:"BUSD"},t}return Object(r["a"])(a,[{key:"getStatusCanBuy",get:function(){var t=q()(this.user.roundsUserCanBuy,this.roundCurrentPopup.id);return t}},{key:"getTabs",get:function(){if("LYNK"===this.coinMain){var t={id:0,title:"LynKey",currency:"LYNK",routeName:"WalletLyn"};return[t].concat(Object(b["a"])(this.tabs))}var e={id:0,title:"CleverMe",currency:"CLM",routeName:"WalletClm"};return[e].concat(Object(b["a"])(this.tabs))}},{key:"getTitle",get:function(){switch(this.tabActive){case"LYNK":return this.$t("wallet.Linkey");case"BTC":return this.$t("wallet.Bitcoin");case"ETH":return this.$t("wallet.Ethereum");case"BNB":return this.$t("wallet.Bnb");case"USDT":return this.$t("wallet.Usdt");case"USDC":return this.$t("wallet.Usdc");case"BUSD":return this.$t("wallet.Busd");default:return this.$t("wallet.Cleverme")}}},{key:"getIcon",get:function(){switch(this.tabActive){case"LYNK":return"icon-lin";case"BTC":return"icon-btc";case"ETH":return"icon-eth";case"BNB":return"icon-bnb";case"USDT":return"icon-usdt";case"USDC":return"icon-usdc";case"BUSD":return"icon-busd";default:return"icon-clm"}}},{key:"getUnit",get:function(){switch(this.tabActive){case"LYNK":return"LYNK";case"BTC":return"BTC";case"ETH":return"ETH";case"BNB":return"BNB";case"USDT":return"USDT";case"USDC":return"USDC";case"BUSD":return"BUSD";default:return"CLM"}}},{key:"getClassUnit",get:function(){switch(this.tabActive){case"LYNK":return"amount-lyn";case"BTC":return"amount-btc";case"ETH":return"amount-eth";case"BNB":return"amount-bnb";case"USDT":return"amount-usdt";case"USDC":return"amount-usdc";case"BUSD":return"amount-busd";default:return"amount-clm"}}},{key:"numOfBallance",get:function(){var t=this,e=Y()(this.wallet,(function(e){return e.currency===t.tabActive}))[0];return(null===e||void 0===e?void 0:e.assetBalances.balance)||0}},{key:"numOfLockedAmount",get:function(){var t=this,e=Y()(this.wallet,(function(e){return e.currency===t.tabActive}))[0];return(null===e||void 0===e?void 0:e.assetBalances.totalLockedAmount)||0}},{key:"numOfAvaiBalance",get:function(){var t=this,e=Y()(this.wallet,(function(e){return e.currency===t.tabActive}))[0];return(null===e||void 0===e?void 0:e.assetBalances.availableBalance)||0}},{key:"numOfStaking",get:function(){var t=this,e=Y()(this.wallet,(function(e){return e.currency===t.tabActive}))[0];return(null===e||void 0===e?void 0:e.assetBalances.lockedStakingAmount)||0}},{key:"currentExchangeRate",get:function(){var t=this,e=Y()(this.exchangeRate,(function(e){return e.currency===t.tabActive}))[0];return+(null===e||void 0===e?void 0:e.exchangeRate)||0}},{key:"baseCurrencyExchangeRate",get:function(){var t,e,a,n=["LYNK","USDC","USDT","ETH","CLM"],i=["BUSD","BNB"],s={};return q()(n,this.tabActive)?(s=Y()(this.exchangeRate,(function(t){return"ETH"===t.currency}))[0],+(null===(t=s)||void 0===t?void 0:t.exchangeRate)||0):q()(i,this.tabActive)?(s=Y()(this.exchangeRate,(function(t){return"BNB"===t.currency}))[0],+(null===(e=s)||void 0===e?void 0:e.exchangeRate)||0):(s=Y()(this.exchangeRate,(function(t){return"BTC"===t.currency}))[0],+(null===(a=s)||void 0===a?void 0:a.exchangeRate)||0)}},{key:"exchangeRateETH",get:function(){var t=Y()(this.exchangeRate,(function(t){return"ETH"===t.currency}))[0];return+(null===t||void 0===t?void 0:t.exchangeRate)||0}},{key:"exchangeRateBNB",get:function(){var t=Y()(this.exchangeRate,(function(t){return"BNB"===t.currency}))[0];return+(null===t||void 0===t?void 0:t.exchangeRate)||0}},{key:"handleCallApi",value:function(){this.setOpenPopup({popupName:"popup-change-phone",isOpen:!1})}},{key:"created",value:function(){this.handleTurnOnFirebase(),this.handleGetGasTracker(),this.handleGetAssetNetwork();var t=zt["a"].database().ref("exchange_rates"),e=this;this.listener=t.on("value",(function(t){e.exchangeRate=t.val()})),this.tabActive=this.routeTabActive[this.$route.name],this.init()}},{key:"destroyed",value:function(){var t=zt["a"].database().ref("exchange_rates");t.off("value",this.listener);var e=zt["a"].database().ref("crowd-sales");e.off("value",this.listenerCrowd);var a=zt["a"].database().ref("gas_trackers");a.off("value",this.refGasTracker);var n=zt["a"].database().ref("asset_networks");n.off("value",this.refAssetNetwork)}},{key:"handleGetGasTracker",value:function(){var t=this,e=zt["a"].database().ref("gas_trackers");this.refGasTracker=e.on("value",(function(e){t.listGasTracker=e.val(),console.log(t.listGasTracker)}))}},{key:"handleGetAssetNetwork",value:function(){var t=this,e=zt["a"].database().ref("asset_networks");this.refAssetNetwork=e.on("value",(function(e){t.listAssetNetwork=e.val()}))}},{key:"handleTurnOnFirebase",value:function(){var t=zt["a"].database().ref("crowd-sales"),e=this;this.listenerCrowd=t.on("value",(function(t){e.listRoundPopup=t.val();var a=Y()(t.val(),(function(t){return t.isActive}));a.length?e.roundCurrentPopup=a[0]:(e.roundCurrentPopup=null,e.handleGetRoundNext())}))}},{key:"handleGetRoundNext",value:function(){var t=this,e=zt["a"].database().ref("crowd-sales");if(e.off("value",this.listener),!this.roundCurrentPopup){var a=this.listRoundPopup[0],n=this.listRoundPopup[this.listRoundPopup.length-1],i=Date.now(),s=new Date(a.fromDate.time).getTime(),r=new Date(n.toDate.time).getTime();i>r&&(this.roundCurrentPopup=n),i<s&&(this.roundCurrentPopup=this.listRoundPopup[0]),i>s&&i<r&&Yt()(this.listRoundPopup,(function(e){var a=new Date(e.fromDate.time).getTime();if(i<a)return t.roundCurrentPopup=e,!1}))}}},{key:"init",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jt.getMyWallet({currency:this.tabActive});case 3:if(this.wallet=t.sent,"LYNK"!==this.tabActive&&"CLM"!==this.tabActive){t.next=8;break}return t.next=7,Jt.getInfoVesting({userId:this.user.userId});case 7:this.vesting=t.sent;case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"reloadData",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,wt["a"].$emit("callAcountTransaction");case 2:return t.next=4,this.init();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleChangeTab",value:function(t){this.isNext=!0,this.isPrev=!1,this.tabActive=t.currency,this.init(),this.$router.push({name:t.routeName})}},{key:"handleClose",value:function(){this.setOpenPopup({popupName:"popup-change-phone",isOpen:!1}),this.setOpenPopup({popupName:"popup-place-bid",isOpen:!1})}},{key:"handleContinue",value:function(){this.setOpenPopup({popupName:"popup-base-verify",isOpen:!0})}},{key:"open",value:function(){this.$t("wallet.popup.errPhoneverified");this.setOpenPopup({popupName:"popup-change-phone",isOpen:!0})}},{key:"handleOpenPopup",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(e){var a,n,i,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("popup-transfer-lyn"!=e){t.next=6;break}return this.typeAction="TRANSFER",t.next=4,Jt.getLynInfo(this.tabActive.toLowerCase()).then((function(t){if(console.log(t),s.phoneVerified=t.phoneVerified,s.dataTransfer=t,s.dataWithdraw=t,"VERIFIED"!=t.kycStatus){var a=s.$t("wallet.popup.errorGetLyn2");s.$message.error({message:a,duration:5e3})}else if(t.originAvailable<=0){var n=s.$t("wallet.popup.errorGetLyn4");s.$message.error({message:n,duration:5e3})}else 0==t.phoneVerified?s.open():s.setOpenPopup({popupName:e,isOpen:!0})}));case 4:t.next=28;break;case 6:if("popup-withdraw"!=e){t.next=17;break}if(!q()(this.currencyCanWithDraw,this.tabActive)&&this.currencyCanWithDraw.length){t.next=13;break}return this.typeAction="WITHDRAW",t.next=11,Jt.getDataWithdraw(this.tabActive.toLowerCase()).then((function(t){if(s.dataWithdraw=t,s.phoneVerified=t.phoneVerified,console.log("dataWithdraw: ",s.dataWithdraw),"VERIFIED"!=t.kycStatus){var a=s.$t("wallet.popup.errorGetLyn2");s.$message.error({message:a,duration:5e3})}else if(t.originAvailable<=0){var n=s.$t("wallet.popup.errorGetLyn4");s.$message.error({message:n,duration:5e3})}else 0==t.phoneVerified?s.open():s.setOpenPopup({popupName:e,isOpen:!0})}));case 11:t.next=15;break;case 13:a=this.$t("notify.function-not-available"),this.$message.error({message:a,duration:5e3});case 15:t.next=28;break;case 17:if("popup-buy-lyn"!=e){t.next=27;break}if(this.getStatusCanBuy){t.next=24;break}return n=this.$t("notify.can-not-buy-lyn"),this.$message.error({message:n,duration:5e3}),t.abrupt("return");case 24:this.numOfBallance<=0?(i=this.$t("buy-lyn.fail"),this.$message.error({message:i,duration:5e3})):this.setOpenPopup({popupName:e,isOpen:!0});case 25:t.next=28;break;case 27:this.setOpenPopup({popupName:e,isOpen:!0});case 28:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleClickArrow",value:function(t){var e=this.$refs["wrap-card"],a="prev"===t?0:500;e.scrollTo({top:0,left:a,behavior:"smooth"}),this.isNext="next"!==t,this.isPrev="prev"!==t}}]),a}(Object(u["b"])(y["a"]));Object(l["c"])([Qt.State("coinMain")],Zt.prototype,"coinMain",void 0),Object(l["c"])([Xt.State("moduleConfig")],Zt.prototype,"moduleConfig",void 0),Object(l["c"])([Xt.State("currencyCanWithDraw")],Zt.prototype,"currencyCanWithDraw",void 0),Object(l["c"])([Xt.State("user")],Zt.prototype,"user",void 0),Zt=Object(l["c"])([Object(u["a"])({components:{PopupWithDraw:lt,PopupDeposit:mt,PopupBuyLyn:Ot,PopupTransferLyn:qt,PopupVerify:j}})],Zt);var te=Zt,ee=te,ae=(a("2afb"),Object(N["a"])(ee,p,d,!1,null,"439a322c",null)),ne=ae.exports,ie=a("c2bb"),se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-white mb-24 wallet-header"},[a("base-popup",{staticClass:"popup-wallet-header",attrs:{name:"popup-change-phone",width:"480px",isShowFooter:!1,close:t.handleClose}},[a("div",{staticClass:"title-popup",attrs:{slot:"title"},slot:"title"},[a("span",[t._v(t._s(t.$t("popup.title.verification-phone")))])]),a("div",{staticClass:"form"},[a("el-form",{ref:"form-phone",staticClass:"form-item"},[a("el-form-item",{staticStyle:{"line-height":"24px","margin-top":"-2px"},attrs:{prop:"country"}},["TRANSFER"==this.typeAction?a("span",{staticStyle:{"word-break":"break-word",color:"#0a0b0d"}},[t._v(t._s(t.$t("wallet.popup.errPhoneverified"))+" "+t._s(t.$t("wallet.popup.transfer-transaction")))]):a("span",{staticStyle:{"word-break":"break-word",color:"#0a0b0d"}},[t._v(t._s(t.$t("wallet.popup.errPhoneverified"))+t._s(t.$t("wallet.popup.widthdaw-transaction"))+" ")])])],1),a("hr",{staticClass:"hr"}),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"btn-default mr-15 text-regular btn-h40",on:{click:t.handleClose}},[a("p",[t._v(t._s(t.$t("button.cancel")))])]),a("el-button",{staticClass:"btn is-none-border cursor btn-h40 btn-default-bg btn-theme",on:{click:t.handleContinue}},[t._v(t._s(t.$t("button.verify")))])],1)],1)]),a("div",{staticClass:"be-flex be-flex-column wallet-header-mobile__above"},[a("div",{staticClass:"wallet-header-mobile__above-tabs be-flex hide-scroll"},t._l(t.getTabs,(function(e){return a("div",{key:e.id,staticClass:"tab-item cursor",class:t.tabActive===e.currency?"tab-active":null,on:{click:function(a){return t.handleChangeTab(e)}}},[a("span",{staticClass:"text-body-small"},[t._v(t._s(e.title))])])})),0),a("div",{staticClass:"wallet-header-mobile__above-btn be-flex hide-scroll"},[t.moduleConfig.Deposit?a("button",{staticClass:"btn-default-bg mr-15 text-regular btn is-none-border btn-cus-mobile",on:{click:function(e){return t.handleOpenPopup("popup-deposit")}}},[t._v(" "+t._s(t.$t("wallet.button.deposit"))+" "+t._s(t.getUnit)+" ")]):t._e(),t.moduleConfig.Withdraw?a("button",{staticClass:"btn-default mr-15 text-regular btn-cus-mobile",on:{click:function(e){return t.handleOpenPopup("popup-withdraw")}}},[a("p",[t._v(t._s(t.$t("wallet.button.withdraw"))+" "+t._s(t.getUnit))])]):t._e(),t.moduleConfig.Transfer?a("button",{staticClass:"btn-default mr-15 text-regular btn-cus-mobile",on:{click:function(e){return t.handleOpenPopup("popup-transfer-lyn")}}},[a("p",[t._v(t._s(t.$t("wallet.button.transfer"))+" "+t._s(t.getUnit))])]):t._e(),"LYNK"!==t.tabActive&&"CLM"!==t.tabActive&&t.moduleConfig.Crowdsale?a("button",{staticClass:"btn-default mr-15 text-regular btn-cus-mobile",on:{click:function(e){return t.handleOpenPopup("popup-buy-lyn")}}},[a("p",[t._v(t._s(t.$t("wallet.button.buy"))+" "+t._s(t.coinMain))])]):t._e()])]),a("div",{staticClass:"wallet-header-mobile__below"},[a("div",{staticClass:"be-flex be-flex-column wallet-header-mobile__below-amount",class:t.tabActive===t.coinMain?" wallet-header-mobile__below-amount--fix":null},[a("div",{staticClass:"amount-wallet"},[a("div",{staticClass:"be-flex align-center above",style:{height:"LYNK"===t.tabActive?"55px":"auto"}},[a("base-icon",{style:{display:"LYNK"===t.tabActive?"display:inline-flex":"block"},attrs:{icon:t.getIcon,size:"40"}}),a("div",{staticClass:"title"},[a("span",{staticClass:"d-block text-0xl text-semibold title-coin"},[t._v(t._s(t.getTitle))]),a("span",{staticClass:"text-xs",staticStyle:{color:"#5b616e"}},[t._v(t._s(t.$t("wallet.balance")))])])],1),a("div",{staticClass:"amount be-flex jc-space-between align-end"},[a("span",{staticClass:"d-ib text-0xl text-semibold",class:t.getClassUnit},[t._v(t._s(t._f("convertAmountDecimal")(t.numOfBallance,t.getUnit))+" "+t._s(t.hideBalance?"...":t.getUnit))]),a("span",{staticClass:"text-base amount-exchange"},[t._v("~$"+t._s(t._f("convertAmountDecimal")(t.numOfBallance*t.currentExchangeRate,"USD")))])])]),t.tabActive===t.coinMain?a("div",{staticClass:"amount-lock amount-lock--border"},[a("div",{staticClass:"be-flex align-center above"},[a("base-icon",{staticStyle:{color:"#000"},attrs:{icon:"icon-available",size:"40"}}),a("div",{staticClass:"title"},[a("span",{staticClass:"d-block text-0xl text-semibold title-coin"},[t._v(t._s(t.$t("wallet.available")))]),a("span",{staticClass:"text-xs",staticStyle:{color:"#5b616e"}},[t._v(t._s(t.$t("withdraw.available")))])])],1),a("div",{staticClass:"amount be-flex jc-space-between align-end"},[a("span",{staticClass:"d-ib text-0xl text-semibold"},[t._v(t._s(t._f("convertAmountDecimal")(t.numOfAvaiBalance,t.getUnit))+" "+t._s(t.getUnit))]),a("span",{staticClass:"text-base amount-exchange"},[t._v("~$"+t._s(t._f("convertAmountDecimal")(t.numOfAvaiBalance*t.currentExchangeRate,"USD")))])])]):t._e(),a("div",{staticClass:"amount-lock--border amount-lock"},[a("div",{staticClass:"be-flex align-center above"},[a("base-icon",{staticStyle:{color:"#000"},attrs:{icon:"icon-lock",size:"40"}}),a("div",{staticClass:"title"},[a("span",{staticClass:"d-block text-0xl text-semibold title-coin"},[t._v(t._s(t.$t("wallet.lock")))]),a("span",{staticClass:"text-xs",staticStyle:{color:"#5b616e"}},[t._v(t._s(t.$t("wallet.withdrawal-request")))])])],1),a("div",{staticClass:"amount be-flex jc-space-between align-end"},[a("span",{staticClass:"d-ib text-0xl text-semibold"},[t._v(t._s(t._f("convertAmountDecimal")(t.numOfLockedAmount,t.getUnit))+" "+t._s(t.hideLocked?"...":t.getUnit))]),a("span",{staticClass:"text-base amount-exchange"},[t._v("~$"+t._s(t._f("convertAmountDecimal")(t.numOfLockedAmount*t.currentExchangeRate,"USD")))])])]),a("div",{staticClass:"amount-vesting",class:t.tabActive===t.coinMain?"amount-lock--border":null},[a("div",{staticClass:"be-flex align-center above"},[a("base-icon",{staticStyle:{color:"#000"},attrs:{icon:"icon-staking",size:"40"}}),a("div",{staticClass:"title"},[a("span",{staticClass:"d-block text-0xl text-semibold title-coin"},[t._v(t._s(t.$t("wallet.staking")))]),a("span",{staticClass:"text-xs",staticStyle:{color:"#5b616e"}},[t._v(t._s(t.$t("wallet.staking-title")))])])],1),a("div",{staticClass:"amount be-flex jc-space-between align-end"},[a("span",{staticClass:"d-ib text-0xl text-semibold"},[t._v(t._s(t._f("convertAmountDecimal")(t.numOfStaking,this.tabActive))+" "+t._s(this.tabActive))]),a("span",{staticClass:"text-base amount-exchange"},[t._v("~$"+t._s(t._f("convertAmountDecimal")(t.numOfStaking*t.currentExchangeRate,"USD")))])])]),t.tabActive===t.coinMain?a("div",{staticClass:"amount-vesting"},[a("div",{staticClass:"be-flex align-center above"},[a("base-icon",{staticStyle:{color:"#000"},attrs:{icon:"icon-vesting",size:"40"}}),a("div",{staticClass:"title"},[a("span",{staticClass:"d-block text-0xl text-semibold title-coin"},[t._v(t._s(t.$t("wallet.vesting-title")))]),t.vesting&&t.vesting.nextVestingDate?a("span",{staticClass:"text-xs",staticStyle:{color:"#5b616e"}},[t._v(t._s(t.$t("wallet.next-release"))+" "+t._s(t._f("formatMMDDYYWithoutHours")(t.vesting&&t.vesting.nextVestingDate)))]):a("span",[t._v(" Â ")])])],1),a("div",{staticClass:"amount be-flex jc-space-between align-end"},[a("span",{staticClass:"d-ib text-0xl text-semibold"},[t._v(t._s(t._f("convertAmountDecimal")(t.vesting&&t.totalVesting,t.coinMain))+" "+t._s(t.hideVesting?"...":t.coinMain))]),a("span",{staticClass:"text-base amount-exchange"},[t._v("~$"+t._s(t._f("convertAmountDecimal")(t.vesting&&t.vesting.totalAmountInUsd,"USD")))])])]):t._e()])]),a("popup-with-draw",{attrs:{dataWithdraw:t.dataWithdraw,type:t.tabActive,currentExchangeRate:t.currentExchangeRate,baseCurrencyExchangeRate:t.baseCurrencyExchangeRate,listAssetNetwork:t.listAssetNetwork,listGasTracker:t.listGasTracker,exchangeRateETH:t.exchangeRateETH,exchangeRateBNB:t.exchangeRateBNB},on:{reloadData:t.reloadData}}),a("popup-deposit",{attrs:{type:t.tabActive,currentExchangeRate:t.currentExchangeRate}}),a("popup-buy-lyn",{attrs:{type:t.tabActive},on:{reloadData:t.init}}),a("popup-transfer-lyn",{attrs:{dataTransfer:t.dataTransfer,typeActive:t.tabActive},on:{reloadData:t.reloadData}}),a("popup-verify",{attrs:{typeAction:t.typeAction,type:t.type2fa,dataWithdraw:t.dataWithdraw,dataTransfer:t.dataTransfer,phoneVerified:t.phoneVerified},on:{callApi:t.handleCallApi}})],1)},re=[],oe=Object(x["a"])("wallet"),ce=Object(A["a"])("beBase"),le=Object(A["a"])("beAuth"),ue=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.roundCurrentPopup={},t.listRoundPopup=[],t.listenerCrowd=null,t.type2fa="SMS",t.phoneVerified=!0,t.typeAction="",t.tabs=[{id:1,title:"Bitcoin",currency:"BTC",routeName:"WalletBtc"},{id:2,title:"Ethereum",currency:"ETH",routeName:"WalletEth"},{id:3,title:"BNB",currency:"BNB",routeName:"WalletBnb"},{id:4,title:"Tether",currency:"USDT",routeName:"WalletUsdt"},{id:5,title:"USDC",currency:"USDC",routeName:"WalletUsdc"},{id:6,title:"Binance USD",currency:"BUSD",routeName:"WalletBusd"}],t.tabActive="",t.listener=null,t.wallet=[],t.vesting={},t.exchangeRate=[],t.dataTransfer={},t.dataWithdraw={},t.refGasTracker=null,t.listGasTracker=[],t.refAssetNetwork=null,t.listAssetNetwork=[],t.routeTabActive={WalletLyn:"LYNK",WalletClm:"CLM",WalletBtc:"BTC",WalletEth:"ETH",WalletBnb:"BNB",WalletUsdt:"USDT",WalletUsdc:"USDC",WalletBusd:"BUSD"},t.hideBalance=!1,t.hideLocked=!1,t.hideVesting=!1,t}return Object(r["a"])(a,[{key:"getStatusCanBuy",get:function(){var t=q()(this.user.roundsUserCanBuy,this.roundCurrentPopup.id);return t}},{key:"getTabs",get:function(){if("LYNK"===this.coinMain){var t={id:0,title:"LynKey",currency:"LYNK",routeName:"WalletLyn"};return[t].concat(Object(b["a"])(this.tabs))}var e={id:0,title:"CleverMe",currency:"CLM",routeName:"WalletClm"};return[e].concat(Object(b["a"])(this.tabs))}},{key:"getTitle",get:function(){switch(this.tabActive){case"LYNK":return this.$t("wallet.Linkey");case"BTC":return this.$t("wallet.Bitcoin");case"ETH":return this.$t("wallet.Ethereum");case"BNB":return this.$t("wallet.Bnb");case"USDT":return this.$t("wallet.Usdt");case"USDC":return this.$t("wallet.Usdc");case"BUSD":return this.$t("wallet.Busd");default:return this.$t("wallet.Cleverme")}}},{key:"getIcon",get:function(){switch(this.tabActive){case"LYNK":return"icon-lin";case"BTC":return"icon-btc";case"ETH":return"icon-eth";case"BNB":return"icon-bnb";case"USDT":return"icon-usdt";case"USDC":return"icon-usdc";case"BUSD":return"icon-busd";default:return"icon-clm"}}},{key:"getUnit",get:function(){switch(this.tabActive){case"LYNK":return"LYNK";case"BTC":return"BTC";case"ETH":return"ETH";case"BNB":return"BNB";case"USDT":return"USDT";case"USDC":return"USDC";case"BUSD":return"BUSD";default:return"CLM"}}},{key:"getClassUnit",get:function(){switch(this.tabActive){case"LYNK":return"amount-lyn";case"BTC":return"amount-btc";case"ETH":return"amount-eth";case"BNB":return"amount-bnb";case"USDT":return"amount-usdt";case"USDC":return"amount-usdc";case"BUSD":return"amount-busd";default:return"amount-clm"}}},{key:"numOfBallance",get:function(){var t=this,e=Y()(this.wallet,(function(e){return e.currency===t.tabActive}))[0],a=(null===e||void 0===e?void 0:e.assetBalances.balance.toString().length)>=9,n=(null===e||void 0===e?void 0:e.assetBalances.balance.toFixed(2).toString().length)>=9,i=(null===e||void 0===e?void 0:e.assetBalances.balance.toFixed(8).toString().length)>=9;return"LYNK"===this.tabActive||"BUSD"===this.tabActive||"USDC"===this.tabActive||"CLM"===this.tabActive||"USDT"===this.tabActive?this.hideBalance=n&&window.innerWidth<400:"BTC"===this.tabActive||"ETH"===this.tabActive?this.hideBalance=i&&window.innerWidth<400:this.hideBalance=a&&window.innerWidth<400,(null===e||void 0===e?void 0:e.assetBalances.balance)||0}},{key:"numOfLockedAmount",get:function(){var t=this,e=Y()(this.wallet,(function(e){return e.currency===t.tabActive}))[0],a=(null===e||void 0===e?void 0:e.assetBalances.totalLockedAmount.toString().length)>=9,n=(null===e||void 0===e?void 0:e.assetBalances.totalLockedAmount.toFixed(2).toString().length)>=9,i=(null===e||void 0===e?void 0:e.assetBalances.totalLockedAmount.toFixed(8).toString().length)>=9;return"LYNK"===this.tabActive||"BUSD"===this.tabActive||"USDC"===this.tabActive||"CLM"===this.tabActive||"USDT"===this.tabActive?this.hideLocked=n&&window.innerWidth<400:"BTC"===this.tabActive?this.hideLocked=i&&window.innerWidth<400:this.hideLocked=a&&window.innerWidth<400,(null===e||void 0===e?void 0:e.assetBalances.totalLockedAmount)||0}},{key:"numOfAvaiBalance",get:function(){var t=this,e=Y()(this.wallet,(function(e){return e.currency===t.tabActive}))[0];return(null===e||void 0===e?void 0:e.assetBalances.availableBalance)||0}},{key:"totalVesting",get:function(){if(this.vesting){var t=null!==this.vesting.totalAmount&&this.vesting.totalAmount.toString().length>=9,e=null!==this.vesting.totalAmount&&this.vesting.totalAmount.toFixed(2).toString().length>=9;this.tabActive===this.coinMain?this.hideVesting=e&&window.innerWidth<400:this.hideVesting=t&&window.innerWidth<400}return this.vesting.totalAmount}},{key:"currentExchangeRate",get:function(){var t=this,e=Y()(this.exchangeRate,(function(e){return e.currency===t.tabActive}))[0];return+(null===e||void 0===e?void 0:e.exchangeRate)||0}},{key:"numOfStaking",get:function(){var t=this,e=Y()(this.wallet,(function(e){return e.currency===t.tabActive}))[0];return(null===e||void 0===e?void 0:e.assetBalances.lockedStakingAmount)||0}},{key:"baseCurrencyExchangeRate",get:function(){var t,e,a,n=["LYNK","USDC","USDT","ETH","CLM"],i=["BUSD","BNB"],s={};return q()(n,this.tabActive)?(s=Y()(this.exchangeRate,(function(t){return"ETH"===t.currency}))[0],+(null===(t=s)||void 0===t?void 0:t.exchangeRate)||0):q()(i,this.tabActive)?(s=Y()(this.exchangeRate,(function(t){return"BNB"===t.currency}))[0],+(null===(e=s)||void 0===e?void 0:e.exchangeRate)||0):(s=Y()(this.exchangeRate,(function(t){return"BTC"===t.currency}))[0],+(null===(a=s)||void 0===a?void 0:a.exchangeRate)||0)}},{key:"exchangeRateETH",get:function(){var t=Y()(this.exchangeRate,(function(t){return"ETH"===t.currency}))[0];return+(null===t||void 0===t?void 0:t.exchangeRate)||0}},{key:"exchangeRateBNB",get:function(){var t=Y()(this.exchangeRate,(function(t){return"BNB"===t.currency}))[0];return+(null===t||void 0===t?void 0:t.exchangeRate)||0}},{key:"handleCallApi",value:function(){this.setOpenPopup({popupName:"popup-change-phone",isOpen:!1})}},{key:"created",value:function(){this.handleTurnOnFirebase(),this.handleGetGasTracker(),this.handleGetAssetNetwork();var t=zt["a"].database().ref("exchange_rates"),e=this;this.listener=t.on("value",(function(t){e.exchangeRate=t.val()})),this.tabActive=this.routeTabActive[this.$route.name],this.init()}},{key:"destroyed",value:function(){var t=zt["a"].database().ref("exchange_rates");t.off("value",this.listener);var e=zt["a"].database().ref("crowd-sales");e.off("value",this.listenerCrowd);var a=zt["a"].database().ref("gas_trackers");a.off("value",this.refGasTracker);var n=zt["a"].database().ref("asset_networks");n.off("value",this.refAssetNetwork)}},{key:"handleGetGasTracker",value:function(){var t=this,e=zt["a"].database().ref("gas_trackers");this.refGasTracker=e.on("value",(function(e){t.listGasTracker=e.val()}))}},{key:"handleGetAssetNetwork",value:function(){var t=this,e=zt["a"].database().ref("asset_networks");this.refAssetNetwork=e.on("value",(function(e){t.listAssetNetwork=e.val()}))}},{key:"handleTurnOnFirebase",value:function(){var t=zt["a"].database().ref("crowd-sales"),e=this;this.listenerCrowd=t.on("value",(function(t){e.listRoundPopup=t.val();var a=Y()(t.val(),(function(t){return t.isActive}));a.length?e.roundCurrentPopup=a[0]:(e.roundCurrentPopup=null,e.handleGetRoundNext())}))}},{key:"handleGetRoundNext",value:function(){var t=this,e=zt["a"].database().ref("crowd-sales");if(e.off("value",this.listener),!this.roundCurrentPopup){var a=this.listRoundPopup[0],n=this.listRoundPopup[this.listRoundPopup.length-1],i=Date.now(),s=new Date(a.fromDate.time).getTime(),r=new Date(n.toDate.time).getTime();i>r&&(this.roundCurrentPopup=n),i<s&&(this.roundCurrentPopup=this.listRoundPopup[0]),i>s&&i<r&&Yt()(this.listRoundPopup,(function(e){var a=new Date(e.fromDate.time).getTime();if(i<a)return t.roundCurrentPopup=e,!1}))}}},{key:"init",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe.getMyWallet({currency:this.tabActive});case 3:if(this.wallet=t.sent,"LYNK"!==this.tabActive&&"CLM"!==this.tabActive){t.next=8;break}return t.next=7,oe.getInfoVesting({userId:this.user.userId});case 7:this.vesting=t.sent;case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"reloadData",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,wt["a"].$emit("callAcountTransaction");case 2:return t.next=4,this.init();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleChangeTab",value:function(t){this.tabActive=t.currency,this.init(),this.$router.push({name:t.routeName})}},{key:"handleClose",value:function(){this.setOpenPopup({popupName:"popup-change-phone",isOpen:!1}),this.setOpenPopup({popupName:"popup-place-bid",isOpen:!1})}},{key:"handleContinue",value:function(){this.setOpenPopup({popupName:"popup-base-verify",isOpen:!0})}},{key:"open",value:function(){this.$t("wallet.popup.errPhoneverified");this.setOpenPopup({popupName:"popup-change-phone",isOpen:!0})}},{key:"handleOpenPopup",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(e){var a,n,i,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("popup-transfer-lyn"!=e){t.next=6;break}return this.typeAction="TRANSFER",t.next=4,oe.getLynInfo(this.tabActive.toLowerCase()).then((function(t){if(s.phoneVerified=t.phoneVerified,s.dataTransfer=t,s.dataWithdraw=t,"VERIFIED"!=t.kycStatus){var a=s.$t("wallet.popup.errorGetLyn2");s.$message.error({message:a,duration:5e3})}else if(t.originAvailable<=0){var n=s.$t("wallet.popup.errorGetLyn4");s.$message.error({message:n,duration:5e3})}else 0==t.phoneVerified?s.open():s.setOpenPopup({popupName:e,isOpen:!0})}));case 4:t.next=28;break;case 6:if("popup-withdraw"!=e){t.next=17;break}if(!q()(this.currencyCanWithDraw,this.tabActive)&&this.currencyCanWithDraw.length){t.next=13;break}return this.typeAction="WITHDRAW",t.next=11,oe.getDataWithdraw(this.tabActive.toLowerCase()).then((function(t){if(s.dataWithdraw=t,s.phoneVerified=t.phoneVerified,console.log("dataWithdraw: ",s.dataWithdraw),"VERIFIED"!=t.kycStatus){var a=s.$t("wallet.popup.errorGetLyn2");s.$message.error({message:a,duration:5e3})}else if(t.originAvailable<=0){var n=s.$t("wallet.popup.errorGetLyn4");s.$message.error({message:n,duration:5e3})}else 0==t.phoneVerified?s.open():s.setOpenPopup({popupName:e,isOpen:!0})}));case 11:t.next=15;break;case 13:a=this.$t("notify.function-not-available"),this.$message.error({message:a,duration:5e3});case 15:t.next=28;break;case 17:if("popup-buy-lyn"!=e){t.next=27;break}if(this.getStatusCanBuy){t.next=24;break}return n=this.$t("notify.can-not-buy-lyn"),this.$message.error({message:n,duration:5e3}),t.abrupt("return");case 24:this.numOfBallance<=0?(i=this.$t("buy-lyn.fail"),this.$message.error({message:i,duration:5e3})):this.setOpenPopup({popupName:e,isOpen:!0});case 25:t.next=28;break;case 27:this.setOpenPopup({popupName:e,isOpen:!0});case 28:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),a}(Object(u["b"])(y["a"]));Object(l["c"])([ce.State("coinMain")],ue.prototype,"coinMain",void 0),Object(l["c"])([le.State("moduleConfig")],ue.prototype,"moduleConfig",void 0),Object(l["c"])([le.State("currencyCanWithDraw")],ue.prototype,"currencyCanWithDraw",void 0),Object(l["c"])([le.State("user")],ue.prototype,"user",void 0),ue=Object(l["c"])([Object(u["a"])({components:{PopupVerify:j,PopupTransferLyn:qt,PopupDeposit:mt,PopupBuyLyn:Ot,PopupWithDraw:lt}})],ue);var pe=ue,de=pe,he=(a("dd4d"),Object(N["a"])(de,se,re,!1,null,"beae532a",null)),be=he.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100 bg-white wallet-table"},[a("div",{staticClass:"be-flex align-center jc-space-between wallet-table__above"},[a("div",{staticClass:"wallet-table__above-tabs be-flex"},t._l(t.getTabs,(function(e){return a("div",{key:e.id,staticClass:"tab-item cursor",class:t.tabActive===e.id?"tab-active":null,on:{click:function(a){return t.handleChangeTab(e)}}},[a("span",{staticClass:"text-base"},[t._v(t._s(t.$t("wallet."+e.title)))])])})),0)]),a("div",{staticClass:"wallet-table__respon"},[a("div",{staticClass:"wallet-table__respon_content"},[t._l(t.data,(function(e){return a("div",{key:e.id,staticClass:"transaction",on:{click:function(a){return t.handleRowClick(e)}}},[a("div",{staticClass:"transaction-icon"},[a("base-icon",{staticClass:"d-iflex",attrs:{icon:t.renderIcon(e),size:"40"}})],1),a("div",{staticClass:"transaction-detail"},[a("div",{staticClass:"transaction-detail-above"},[a("span",{staticClass:"transaction-detail-above__title"},[t._v(t._s(t._f("convertTextUppercase")(e.transactionType)))]),e.creditAmount?a("span",{staticClass:"transaction-detail-above__amount-increase"},[e.transactionAmount>1e3||e.transactionAmount<-1e3?a("span",[t._v(" +"+t._s(t.handleNumber(e.transactionAmount))+"..."+t._s(e.creditCurrency)+" ")]):a("span",[t._v(" "+t._s(t._f("convertAmountDecimal")(e.transactionAmount,e.creditCurrency))+" "+t._s(e.creditCurrency)+" ")])]):a("span",{staticClass:"transaction-detail-above__amount-decrease"},[e.transactionAmount>1e3||e.transactionAmount<-1e3?a("span",[t._v(" "+t._s(t.handleNumber(e.transactionAmount))+"..."+t._s(e.debitCurrency)+" ")]):a("span",[t._v(" "+t._s(t._f("convertAmountDecimal")(e.transactionAmount,e.debitCurrency))+" "+t._s(e.debitCurrency)+" ")])])]),a("div",{staticClass:"transaction-detail-below"},[a("span",{staticClass:"transaction-detail-below__date"},[t._v(" "+t._s(t._f("formatMMDDYY")(e.transactionMillisecond))+" ")]),a("span",{staticClass:"transaction-detail-below__amount-usd"},[t._v(" ~$"+t._s(t._f("convertAmountDecimal")(e.transactionAmountToUsd,"USD"))+" ")])])]),a("br",{staticStyle:{clear:"both"}})])})),t.data.length<1?a("div",{staticClass:"wallet-table__empty"},[a("base-icon",{attrs:{icon:"no-data",size:"100"}}),a("p",{staticClass:"wallet-table__empty_text"},[t._v(t._s(t.$t("notify.no-data")))])],1):t._e()],2)]),a("div",{staticClass:"wallet-pagination__respon"},[a("el-pagination",{attrs:{"current-page":t.query.page,"page-sizes":[10,20,50,100],"page-size":t.query.limit,"pager-count":3,layout:"prev, pager, next",background:"","popper-class":"abc",total:t.dataPagination.totalElements},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.query,"page",e)},"update:current-page":function(e){return t.$set(t.query,"page",e)}}}),a("div",{staticClass:"page-size-custom"},[a("el-select",{attrs:{placeholder:"Select","popper-class":"page-size-dropdown"},model:{value:t.pageSizeValue,callback:function(e){t.pageSizeValue=e},expression:"pageSizeValue"}},t._l(t.pageSize,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("popup-detail-trans-respon",{attrs:{rowCurrent:t.rowCurrent}})],1)},fe=[],me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-popup",{staticClass:"popup-detail-trans",attrs:{name:"popup-detail-trans-respon",width:"335px",isShowFooter:!1}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",[t._v(t._s(t._f("convertTextUppercase")(t.rowCurrent.transactionType)))])]),a("div",{staticClass:"content"},[a("div",{staticClass:"content__header be-flex be-flex-column"},[a("base-icon",{staticStyle:{display:"inline-flex","margin-bottom":"12px"},attrs:{icon:t.getIconStatus,size:"64"}}),t.isCreditAmount?a("span",{staticClass:"amount-increase text-xl text-bold",staticStyle:{"margin-bottom":"4px"}},[t._v("+"+t._s(t._f("convertAmountDecimal")(t.rowCurrent.transactionAmount,t.rowCurrent.creditCurrency))+" "+t._s(t.rowCurrent.creditCurrency))]):a("span",{staticClass:"amount-decrease text-xl text-bold",staticStyle:{"margin-bottom":"4px"}},[t._v(" "+t._s(t._f("convertAmountDecimal")(t.rowCurrent.transactionAmount,t.rowCurrent.debitCurrency))+" "+t._s(t.rowCurrent.debitCurrency))]),(t.isCreditAmount,a("span",{staticClass:"amount-exchange-small"},[t._v("~$"+t._s(t._f("convertAmountDecimal")(t.rowCurrent.transactionAmountToUsd,"USD")))]))],1),a("div",{staticClass:"content__main"},[a("div",{staticClass:"be-flex jc-space-between align-center row-item"},[a("span",{staticClass:"title"},[t._v(t._s(t.$t("wallet.popup.trans-id")))]),a("span",{staticClass:"be-flex align-center"},[a("span",{staticClass:"text-base color-primary"},[t._v(" "+t._s(t._f("formatTransactionCode")(t.rowCurrent.transactionCode,6,6)))]),a("span",{staticClass:"icon-copy cursor",staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.handleCopyTransaction(t.rowCurrent.transactionCode)}}},[a("base-icon",{attrs:{icon:"icon-copy",size:"24"}})],1)])]),a("div",{staticClass:"be-flex jc-space-between align-center row-item"},[a("span",{staticClass:"title"},[t._v(t._s(t.$t("wallet.popup.date")))]),a("span",{staticClass:"text-base color-primary"},[t._v(" "+t._s(t._f("formatMMDDYY")(t.rowCurrent.transactionMillisecond))+" ")])]),t.isShowTo?a("div",{staticClass:"be-flex jc-space-between align-center row-item"},[a("span",{staticClass:"title"},[t._v(t._s(t.$t("wallet.popup.to")))]),a("div",{staticClass:"be-flex align-center"},[a("base-icon",{staticStyle:{"margin-right":"8px"},attrs:{icon:t.getIcon,size:"20"}}),a("div",[a("span",{staticClass:"text-base color-primary"},[t._v(t._s(t._f("formatTransactionCode")(t.rowCurrent.creditAddress,6,6)))]),a("span",{staticClass:"icon-copy cursor",staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.handleCopyTransaction(t.rowCurrent.creditAddress)}}},[a("base-icon",{attrs:{icon:"icon-copy",size:"24"}})],1)])],1)]):t._e(),t.isShowFee?a("div",{staticClass:"be-flex jc-space-between align-center row-item"},[a("span",{staticClass:"title"},[t._v(t._s(t.$t("wallet.popup.fees")))]),a("span",[a("span",{staticClass:"amount-decrease"},[t._v("-"+t._s(t._f("convertAmountDecimal")(t.rowCurrent.debitFee,t.rowCurrent.debitCurrency))+" "+t._s(t.rowCurrent.debitCurrency))]),a("span",{staticClass:"amount-exchange-small"},[t._v(" (~$"+t._s(t._f("convertAmountDecimal")(t.rowCurrent.debitFee*t.rowCurrent.debitUsdExchangeRate,"USD"))+")")])])]):t._e(),t.isShowFrom?a("div",{staticClass:"be-flex jc-space-between align-center row-item"},[a("span",{staticClass:"title"},[t._v(t._s(t.$t("wallet.popup.from")))]),a("div",{staticClass:"be-flex align-center"},[a("base-icon",{staticStyle:{"margin-right":"8px"},attrs:{icon:t.getIcon,size:"20"}}),"TRANSFER"!==t.rowCurrent.transactionType?a("div",[a("span",{staticClass:"text-base color-primary"},[t._v(" "+t._s(t._f("formatTransactionCode")(t.rowCurrent.creditAddress,6,6)))]),a("span",{staticClass:"icon-copy cursor",staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.handleCopyTransaction(t.rowCurrent.creditAddress)}}},[a("base-icon",{attrs:{icon:"icon-copy",size:"24"}})],1)]):a("div",[a("span",{staticClass:"text-base color-primary"},[t._v(" "+t._s(t._f("formatTransactionCode")(t.rowCurrent.debitAddress,6,6)))]),a("span",{staticClass:"icon-copy cursor",staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.handleCopyTransaction(t.rowCurrent.debitAddress)}}},[a("base-icon",{attrs:{icon:"icon-copy",size:"24"}})],1)])],1)]):t._e(),t.includeTypeStaking?a("div",{staticClass:"be-flex jc-space-between align-center row-item"},[a("span",{staticClass:"title text-body-small"},[t._v("Package")]),a("span",{staticClass:"text-base text-regular color-primary"},[t._v(" "+t._s(t.rowCurrent.itemName)+" ")])]):t._e(),a("div",{staticClass:"be-flex jc-space-between align-center row-item"},[a("span",{staticClass:"title"},[t._v(t._s(t.$t("wallet.popup.status")))]),a("span",{staticClass:"status text-xs",class:t.checkType(t.rowCurrent.status)},[t._v(t._s(t.checkTransactionStatus(t.rowCurrent.status)))])]),"WITHDRAW"===t.rowCurrent.transactionType&&"REJECTED"===t.rowCurrent.status?a("div",{staticClass:"be-flex jc-space-between align-center row-item"},[a("span",{staticClass:"title"},[t._v(t._s(t.$t("wallet.popup.reason")))]),a("span",[t._v(t._s(t.rowCurrent.rejectedReason))])]):t._e()])])])},ye=[],ge=Object(A["a"])("beBase"),we=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(r["a"])(a,[{key:"getTitlePopup",get:function(){var t=["CROWDSALE","BONUS_SIGN_UP","BONUS_CROWDSALE","BONUS_FIRST_TRANS","BONUS_AFFILIATE","BONUS_BIG_BACKER","BONUS_EARLY_BACKER","BONUS_SIGN_UP_REFERRAL","NFT_SALE","NFT_TRANSFER","ROYALTIES_FEE"];return q()(t,this.rowCurrent.transactionType)?this.$t("wallet.popup.".concat(this.rowCurrent.transactionType)):this.$t("wallet.popup.".concat(this.rowCurrent.transactionType))+" "+(this.rowCurrent.debitCurrency||this.rowCurrent.creditCurrency)}},{key:"isCreditAmount",get:function(){return this.rowCurrent.creditAmount>this.rowCurrent.debitAmount}},{key:"isIncludeTypeBounus",get:function(){var t=["BONUS_SIGN_UP","BONUS_CROWDSALE","BONUS_FIRST_TRANS","BONUS_AFFILIATE","BONUS_BIG_BACKER","BONUS_EARLY_BACKER","BONUS_SIGN_UP_REFERRAL"];return q()(t,this.rowCurrent.transactionType)}},{key:"isIncludeTypeNFT",get:function(){var t=["ROYALTIES_FEE","NFT_TRANSFER","NFT_SALE"];return q()(t,this.rowCurrent.transactionType)}},{key:"getIcon",get:function(){if(this.rowCurrent.creditAmount)switch(this.rowCurrent.creditCurrency){case"LYNK":return"icon-lin";case"BTC":return"icon-btc";case"ETH":return"icon-eth";case"BNB":return"icon-bnb";case"USDT":return"icon-usdt";case"USDC":return"icon-usdc";case"BUSD":return"icon-busd";default:return"icon-clm"}else switch(this.rowCurrent.debitCurrency){case"LYNK":return"icon-lin";case"BTC":return"icon-btc";case"ETH":return"icon-eth";case"BNB":return"icon-bnb";case"USDT":return"icon-usdt";case"USDC":return"icon-usdc";case"BUSD":return"icon-busd";default:return"icon-clm"}}},{key:"getIconStatus",get:function(){switch(this.rowCurrent.transactionType){case"DEPOSIT":return"SUCCESS"===this.rowCurrent.status?"icon-deposit-success":"icon-deposit";case"DAILY_PROFIT":return"SUCCESS"===this.rowCurrent.status?"icon-deposit-success":"icon-deposit";case"INTEREST_CREDIT":return"SUCCESS"===this.rowCurrent.status?"icon-staking-popup":"icon-deposit";case"CROWDSALE":return"SUCCESS"===this.rowCurrent.status?"icon-deposit-success":"icon-deposit";case"WITHDRAW":return"SUCCESS"===this.rowCurrent.status?"icon-withdraw-success":"FAILED"===this.rowCurrent.status?"icon-withdraw-failed":"icon-withdraw";case"TRANSFER":return"SUCCESS"===this.rowCurrent.status?"icon-transfer-success":"icon-transfer";case"ROYALTIES_FEE":return"icon-fee-royalties";case"NFT_TRANSFER":return"icon-transfer-nft";case"NFT_SALE":return this.rowCurrent.transactionAmount<0?"icon-buy-nft":"icon-sell-nft";case"SWAP":return"SUCCESS"===this.rowCurrent.status?"icon-transfer-success":"icon-transfer";case"STAKE":return"stake";case"UNSTAKE":case"STAKING_REWARDS":return"unstake";case"STAKING_FEE":return"SUCCESS"===this.rowCurrent.status?"icon-staking-popup":"icon-deposit";default:return"SUCCESS"===this.rowCurrent.status?"icon-bonus-success":"icon-bonus"}}},{key:"includeTypeStaking",get:function(){return q()(["STAKE","UNSTAKE","STAKING_REWARDS"],this.rowCurrent.transactionType)}},{key:"isShowTo",get:function(){var t=["DEPOSIT","DAILY_PROFIT","CROWDSALE","TRANSFER","SWAP","STAKE","UNSTAKE","STAKING_REWARDS","NFT_SALE"];return!q()(t,this.rowCurrent.transactionType)&&!this.isIncludeTypeBounus&&this.isIncludeTypeNFT||"TRANSFER"===this.rowCurrent.transactionType&&this.rowCurrent.debitAmount}},{key:"isShowFrom",get:function(){var t=["DEPOSIT","DAILY_PROFIT","CROWDSALE","WITHDRAW","TRANSFER","SWAP","STAKE","UNSTAKE","STAKING_REWARDS","NFT_SALE"];return!q()(t,this.rowCurrent.transactionType)&&!this.isIncludeTypeBounus&&this.isIncludeTypeNFT||"TRANSFER"===this.rowCurrent.transactionType&&this.rowCurrent.creditAmount}},{key:"isShowFee",get:function(){var t=["ROYALTIES_FEE","DEPOSIT","CROWDSALE","NFT_STAKING","TRANSFER","SWAP","UNSTAKE","STAKING_REWARDS","STAKING_FEE","INTEREST_CREDIT"];return!q()(t,this.rowCurrent.transactionType)&&!this.isIncludeTypeBounus&&!this.isIncludeTypeNFT||"TRANSFER"===this.rowCurrent.transactionType&&!this.rowCurrent.creditAmount}},{key:"checkType",value:function(t){return"PENDING"===t?"status-pending status-pending-bg":"FAILED"===t?"status-error status-error-bg":"PROCESSING"===t?"status-warning status-warning-bg":"REJECTED"===t?"status-reject status-reject-bg":"status-success status-success-bg"}},{key:"checkTransactionStatus",value:function(t){switch(t){case"SUCCESS":return this.$i18n.t("wallet.table.succsess");case"PENDING":return this.$i18n.t("wallet.table.pending");case"PROCESSING":return this.$i18n.t("wallet.table.processing");case"REJECTED":return this.$i18n.t("wallet.table.rejected");default:return this.$i18n.t("wallet.table.failed")}}},{key:"handleCopyTransaction",value:function(t){var e="",a=document.createElement("input");a.value=t,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),e=this.$t("notify.copy"),this.$message.success({message:e,duration:5e3})}}]),a}(Object(u["b"])(y["a"]));Object(l["c"])([Object(u["c"])({required:!0,type:Object,default:{}})],we.prototype,"rowCurrent",void 0),Object(l["c"])([ge.State("coinMain")],we.prototype,"coinMain",void 0),we=Object(l["c"])([Object(u["a"])({components:{}})],we);var Ce=we,xe=Ce,ke=(a("9a27"),Object(N["a"])(xe,me,ye,!1,null,"0b219459",null)),_e=ke.exports,Ae=a("8ac5"),Te=a("13ea"),Se=a.n(Te),Oe=a("0554"),Re=a("6d3f"),De=a("dc94"),$e=Object(x["a"])("wallet"),Be=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.tabs=[{id:0,title:"transactions",transactionType:null},{id:1,title:"withdrawal-request",transactionType:"WITHDRAW"}],t.tabActive=0,t.data=[],t.dataPagination={},t.rowCurrent={},t.listRound=[],t.pageSizeValue=10,t.pageSize=[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}],t.isLoading=!1,t.isConflictClick=!1,t.currencyObj={WalletLyn:"LYNK",WalletClm:"CLM",WalletBtc:"BTC",WalletEth:"ETH",WalletBnb:"BNB",WalletUsdt:"USDT",WalletUsdc:"USDC",WalletBusd:"BUSD"},t.widthColStatus=120,t.widthColType=150,t.query={page:1,limit:10,transactionType:null,total:0},t}return Object(r["a"])(a,[{key:"handleChangeLimit",value:function(t){this.query.limit=t,this.handleSizeChange(t)}},{key:"handleWatchRoute",value:function(t){this.query.transactionType=null,this.tabActive=0,this.resetQuery(),this.init()}},{key:"getTabs",get:function(){var t=this.$route.name;return"WalletLyn"===t||"WalletClm"===t?this.tabs:[{id:0,title:"transactions",transactionType:null},{id:1,title:"withdrawal-request",transactionType:"WITHDRAW"}]}},{key:"isShowVesting",get:function(){var t=this.$route.name;return"WalletLyn"===t||"WalletClm"===t}},{key:"getIndex",get:function(){return this.query.limit*(this.query.page-1)+1}},{key:"getPaginationInfo",get:function(){return 0===this.tabActive?this.$t("wallet.paginationInfo"):this.$t("wallet.paginationInfoRq")}},{key:"created",value:function(){var t=this;if(this.widthColStatus="en"===window.localStorage.getItem("bc-lang")?120:140,this.widthColType="en"===window.localStorage.getItem("bc-lang")?200:220,!Se()(this.$route.query)){var e=this.$route.query;$e.getDetailTransaction(e).then((function(e){t.rowCurrent=e[0],t.setOpenPopup({popupName:"popup-detail-trans-respon",isOpen:!0})}))}this.init(),this.getListRound(),wt["a"].$on("changeLang",(function(e){t.widthColStatus="en"===e?120:140,t.widthColType="en"===e?200:220})),wt["a"].$on("reloadData",(function(){t.init()})),wt["a"].$on("callAcountTransaction",(function(){t.init()}))}},{key:"destroyed",value:function(){wt["a"].$off("changeLang"),wt["a"].$off("reloadData"),wt["a"].$off("callAcountTransaction")}},{key:"init",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.isLoading=!0,e=this.currencyObj[this.$route.name],a=Object(m["a"])(Object(m["a"])({},this.query),{},{total:null,currency:e}),2===this.tabActive){t.next=12;break}return t.next=7,$e.getListTransaction(a);case 7:n=t.sent,this.data=n.content||[],this.dataPagination={totalElements:n.totalElements,totalPages:n.totalPages},console.log("215",this.dataPagination),this.query.total=n.totalElements||0;case 12:this.isLoading=!1,t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](0),console.log(t.t0),this.isLoading=!1;case 19:case"end":return t.stop()}}),t,this,[[0,15]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"getListRound",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$e.getListRoundCrowdsale();case 3:e=t.sent,this.listRound=Y()(e,(function(t){return t.totalVestingMonth})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"resetQuery",value:function(){this.query=Object(m["a"])(Object(m["a"])({},this.query),{},{page:1,limit:20,total:0})}},{key:"checkType",value:function(t){return"PENDING"===t?"status-pending":"FAILED"===t?"status-error":"PROCESSING"===t?"status-warning":"REJECTED"===t?"status-reject":"status-success"}},{key:"checkTransactionStatus",value:function(t){switch(t){case"SUCCESS":return this.$i18n.t("wallet.table.succsess");case"PENDING":return this.$i18n.t("wallet.table.pending");case"PROCESSING":return this.$i18n.t("wallet.table.processing");case"REJECTED":return this.$i18n.t("wallet.table.rejected");default:return this.$i18n.t("wallet.table.failed")}}},{key:"checkTransactionType",value:function(t){switch(t){case"DEPOSIT":return this.$i18n.t("wallet.table.deposit");case"NFT_STAKING":return this.$i18n.t("wallet.table.staking");case"WITHDRAW":return this.$i18n.t("wallet.table.withdraw");case"TRANSFER":return this.$i18n.t("wallet.table.transfer");case"CROWDSALE":return this.$i18n.t("wallet.table.crowdsale");case"BUY":return this.$i18n.t("wallet.table.buy");case"BONUS_SIGN_UP":return this.$i18n.t("wallet.table.bonus-sign-up");case"BONUS_CROWDSALE":return this.$i18n.t("wallet.table.bonus-crowdsale");case"BONUS_FIRST_TRANS":return this.$i18n.t("wallet.table.bonus-first-trans");case"BONUS_AFFILIATE":return this.$i18n.t("wallet.table.bonus-affiliate");case"BONUS_BIG_BACKER":return this.$i18n.t("wallet.table.bonus-big-backer");case"BONUS_EARLY_BACKER":return this.$i18n.t("wallet.table.bonus-early-backer");case"BONUS_SIGN_UP_REFERRAL":return this.$i18n.t("wallet.table.bonus-sign-up-referral");case"NFT_SALE":return this.$i18n.t("wallet.table.nft-sale");case"NFT_TRANSFER":return this.$i18n.t("wallet.table.nft-transfer");case"ROYALTIES_FEE":return this.$i18n.t("wallet.table.royalties-fee");default:return this.$i18n.t("wallet.table.sell")}}},{key:"handleSizeChange",value:function(t){this.query.page=1,this.query.limit=t,this.init()}},{key:"handleCurrentChange",value:function(t){this.query.page=t,this.init()}},{key:"handleRowClick",value:function(t){this.isConflictClick?this.isConflictClick=!1:(this.rowCurrent=t,this.setOpenPopup({popupName:"popup-detail-trans-respon",isOpen:!0}))}},{key:"handleChangeTab",value:function(t){this.tabActive=t.id,this.query.transactionType=t.transactionType,this.resetQuery(),this.init()}},{key:"handleCopyTransaction",value:function(t){this.isConflictClick=!0;var e="",a=document.createElement("input");a.value=t.transactionCode,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),e=this.$t("notify.copy"),this.$message.success({message:e,duration:5e3})}},{key:"renderIcon",value:function(t){switch(t.transactionType){case"DEPOSIT":return"icon-deposit-success-res";case"CROWDSALE":return"icon-deposit-success-res";case"WITHDRAW":return"icon-withdraw";case"TRANSFER":return"icon-transfer";case"SWAP":return"icon-transfer-success";case"ROYALTIES_FEE":return"icon-fee-royalties";case"NFT_TRANSFER":return"icon-transfer-nft";case"NFT_SALE":return t.transactionAmount<0?"icon-buy-nft":"icon-sell-nft";default:return"SUCCESS"===t.status?"icon-bonus-success":"icon-bonus"}}},{key:"handleNumber",value:function(t){if(t<0&&console.log("negative",t),t>1e3){while(t>1e3)t/=10;t=Math.floor(t)}else if(t<-1e3){while(t<-1e3)t/=10;t=Math.ceil(t)}return t}}]),a}(Object(u["b"])(y["a"]));Object(l["c"])([Object(u["e"])("pageSizeValue")],Be.prototype,"handleChangeLimit",null),Object(l["c"])([Object(u["e"])("$route.name")],Be.prototype,"handleWatchRoute",null),Be=Object(l["c"])([Object(u["a"])({components:{PopupDetailTransRespon:_e,VestingList:Ae["a"],EmptyBlock:Oe["a"],BaseIcon:Re["a"],BasePagination:De["a"]}})],Be);var Ne=Be,Ee=Ne,je=(a("3108"),Object(N["a"])(Ee,ve,fe,!1,null,"73b395b0",null)),Pe=je.exports,Ue=Object(A["a"])("beBase"),Le=(Object(A["a"])("bcWallet"),function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(r["a"])(a,[{key:"created",value:function(){}}]),a}(u["d"]));Object(l["c"])([Ue.State("coinMain")],Le.prototype,"coinMain",void 0),Object(l["c"])([Ue.State("isDesktop")],Le.prototype,"isDesktop",void 0),Le=Object(l["c"])([Object(u["a"])({components:{MobileWalletHeader:be,WalletHeader:ne,WalletTable:ie["default"],MobileWalletTable:Pe}})],Le);var We=Le,Fe=We,Ie=(a("7aa1"),Object(N["a"])(Fe,n,i,!1,null,"471a36b5",null));e["default"]=Ie.exports},6017:function(t,e,a){"use strict";a("d252")},"737c":function(t,e,a){"use strict";a("d31d")},"7aa1":function(t,e,a){"use strict";a("b1a8")},"7b835":function(t,e,a){},"996e":function(t,e,a){},"9a27":function(t,e,a){"use strict";a("efb9")},a84d:function(t,e,a){"use strict";a("7b835")},af76:function(t,e,a){},b1a8:function(t,e,a){},d252:function(t,e,a){},d31d:function(t,e,a){},d661:function(t,e,a){"use strict";a("1794")},dcb1:function(t,e,a){"use strict";a("4224")},dd4d:function(t,e,a){"use strict";a("996e")},e37d:function(t,e,a){"use strict";a("4046")},e663:function(t,e,a){},ea1e:function(t,e,a){"use strict";a("187e")},efb9:function(t,e,a){}}]);