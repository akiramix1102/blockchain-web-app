(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f429e1e"],{"0304":function(e,t,n){},"0552":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isDesktop?n("div",{staticClass:"m-auto bc-crowd-sale"},[n("div",{staticClass:"be-flex bc-crowd-sale__above mb-24"},[n("buy-lyn"),n("time-progress")],1),n("div",{staticClass:"be-flex bc-crowd-sale__middle mb-24"},[n("table-round")],1),n("div",{staticClass:"be-flex bc-crowd-sale__below mb-24"},[n("table-transaction")],1)]):n("div",{staticClass:"bc-crowd-sale-mobile"},[n("p",{staticClass:"title-crowdsale"},[e._v("Crowdsale")]),n("div",{},[n("BuyLynMobile",{staticClass:"mb-24"}),n("TimeProgressMobile",{staticClass:"mb-24"})],1),n("div",{},[n("TableRoundMobile",{staticClass:"mb-24"})],1),n("div",{},[n("TableTransactionMobile",{staticClass:"mb-24"})],1)])},i=[],s=n("d4ec"),o=n("bee2"),r=n("262e"),l=n("2caf"),c=n("9ab4"),u=n("1b40"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("h3",{staticClass:"mb-24 text-2xl text-bold uppercase"},[e._v(e._s(e.$t("crowd-sale.buy"))+" "+e._s("LYNK"===e.coinMain?"LYNK":"CLM"))]),n("el-form",{staticClass:"form-buy-lyn",attrs:{model:e.buyLyn}},[n("el-form-item",{staticClass:"list-wallet",attrs:{label:e.$t("label.buy-from")}},[n("el-select",{staticClass:"w-100",attrs:{disabled:!e.isActiveRound},on:{change:e.handleSelectWallet},model:{value:e.buyLyn.address,callback:function(t){e.$set(e.buyLyn,"address",t)},expression:"buyLyn.address"}},[e._l(e.listWallet,(function(t){return n("el-option",{key:t.id,attrs:{value:t.symbol,label:t.name}},[[n("div",{staticClass:"be-flex wallet-item"},[n("base-icon",{attrs:{icon:t.icon,size:"24"}}),n("span",{staticClass:"d-ib",staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.name))])],1)]],2)})),n("div",{staticClass:"suffix",attrs:{slot:"prefix"},slot:"prefix"},[n("base-icon",{attrs:{icon:e.getIcon,size:"24"}})],1)],2)],1),n("el-form-item",{staticClass:"mb-1"},[n("el-input",{attrs:{disabled:!e.isActiveRound,placeholder:e.$t("placeholder.amount")},on:{input:e.handleEneterAmount},nativeOn:{keypress:function(t){return e.onlyNumber(t,"amount")},keyup:function(t){return e.numberFormat(t)}},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}}),n("div",{staticClass:"prefix prefix--amount"},[n("span",[e._v(e._s(e.getUnit))])]),n("div",{staticClass:"be-flex jc-space-between w-100",attrs:{slot:"label"},slot:"label"},[n("span",[e._v(e._s(e.$t("label.pay-amount")))]),n("span",[e._v(e._s(e.$t("withdraw.available"))+": "),n("span",{class:"amount-"+e.getUnit},[e._v(e._s(e.available)+" "+e._s(e.getUnit))])])])],1),n("div",{staticClass:"be-flex jc-space-between mb-24 tab-amount"},e._l(e.tabAmount,(function(t){return n("div",{key:t,staticClass:"text-base cursor amount-item",class:t===e.tabActive?"active":null,on:{click:function(n){return e.handleSelectTab(t)}}},[n("span",[e._v(e._s(t)+"%")])])})),0),n("el-form-item",[n("el-input",{attrs:{disabled:!e.isActiveRound,Tplaceholder:"0"},on:{input:e.handleEneterReceive},nativeOn:{keypress:function(t){return e.onlyNumber(t,"receive")},keyup:function(t){return e.numberFormat(t)}},model:{value:e.receive,callback:function(t){e.receive=t},expression:"receive"}}),n("div",{staticClass:"prefix prefix--amount"},[n("span",{staticStyle:{color:"#5b616e"}},[e._v(e._s("LYNK"===e.coinMain?"LYNK":"CLM"))])]),n("div",{staticClass:"be-flex jc-space-between w-100",attrs:{slot:"label"},slot:"label"},[n("span",[e._v(e._s(e.$t("label.receive")))]),n("span",{staticStyle:{color:"#605e5c"}},[e._v("1 "+e._s(e.getUnit)+" = "+e._s(e.fillValue)+" "+e._s("LYNK"===e.coinMain?"LYNK":"CLM")+" ")])])],1),n("el-button",{staticClass:"is-none-border",class:e.disableBtn?"btn--disabled btn-default-bg text-bold btn-h48 w-100 btn":"btn-default-bg text-bold btn-h48 w-100 btn",staticStyle:{"font-size":"16px"},attrs:{loading:e.isLoading,disabled:e.disableBtn,type:"button"},on:{click:e.debounceConfirm}},[e._v(" "+e._s(e.$t("button.buy"))+" "+e._s("LYNK"===e.coinMain?"LYNK":"CLM")+" ")])],1)],1)},h=[],b=n("1da1"),v=(n("96cf"),n("ac1f"),n("5319"),n("5b81"),n("d3b7"),n("25f0"),n("b680"),n("a9e3"),n("b047")),m=n.n(v),f=n("9380"),p=n.n(f),y=n("8a30"),g=n.n(y),T=n("08ba"),w=n("1f2a"),k=n("4bb5"),C=Object(k["a"])("beBase"),_=Object(k["a"])("beAuth"),x=Object(k["a"])("bcCrowdsale"),D=Object(T["a"])("wallet"),A=Object(T["a"])("crowd-sale"),S=function(e){Object(r["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.tabAmount=[25,50,75,100],e.tabActive=null,e.isScan=!1,e.buyLyn={address:"BTC",amount:"",receive:""},e.disableBtn=!0,e.amount="",e.receive="",e.exchageToLynk={},e.disablePayAmount=!1,e.disableRecive=!1,e.checkButton=!0,e.result="",e.available=0,e.oneSourceToTarget=0,e.isLoading=!1,e.listWallet=[{id:0,name:"Bitcoin Wallet",symbol:"BTC",icon:"icon-btc"},{id:1,name:"Ethereum Wallet",symbol:"ETH",icon:"icon-eth"},{id:2,name:"Tether Wallet",symbol:"USDT",icon:"icon-usdt",disabled:!0},{id:3,name:"USDC Wallet",symbol:"USDC",icon:"icon-usdc",disabled:!0},{id:4,name:"BNB Wallet",symbol:"BNB",icon:"icon-bnb",disabled:!0},{id:5,name:"BUSD Wallet",symbol:"BUSD",icon:"icon-busd",disabled:!0}],e.BTC="BTC",e.ETH="ETH",e.LYNK=e.coinMain,e.USD="USD",e.callApi={},e.walletDetailLYN={},e.addressCurrency={},e.exchangeToUSD={},e.lynToUsd="",e.exchangeBTCToLyn={},e.exchangelynToUSD={},e.oneTargetToSource="",e.paidAddress="",e.paidNetwork="",e.walletActive="",e.fillValue="",e.constSetimeout={},e.minBit="",e.minEth="",e.minBnb="",e.minUsdt="",e.minUsdc="",e.mintoBuy={},e.systemTokenMinToBuy="",e.typeCoin="",e.tokenAddress="",e.tokenUsdExchangeRate="",e.handleConfirm=m()((function(e){var t;if(!e.getStatusCanBuy){var n=e.$t("notify.can-not-buy-lyn");return e.$message.error({message:n,duration:5e3}),void(e.isLoading=!1)}var a=e.amount.toString().replaceAll(",",""),i=e.receive.toString().replaceAll(",",""),s={tokenAddress:e.tokenAddress,tokenCurrency:e.coinMain,tokenNetwork:null===(t=e.walletDetailLYN[0])||void 0===t?void 0:t.network,tokenAmount:i,tokenUsdExchangeRate:e.exchageToLynk.oneTargetToUsd,paidAddress:e.paidAddress,paidCurrency:e.typeCoin,paidNetwork:e.paidNetwork,paidAmount:a,paidUsdExchangeRate:e.exchageToLynk.oneSourceToUsd,paidTokenExchangeRate:e.exchangeBTCToLyn.oneSourceToTarget,description:"",isExternal:0,transactionCode:null};null===D||void 0===D||D.buyLyn(s).then((function(){var t=e.$t("buy-lyn.success");e.$message.success({message:t,duration:5e3}),e.tabActive=null,e.amount="",e.receive="",e.isLoading=!1,e.$forceUpdate(),w["a"].$emit("reloadTable")})).catch((function(t){e.isLoading=!1,console.log(t.response)}))}),500),e.tokenAmount="",e}return Object(o["a"])(n,[{key:"changeAddress",value:function(e){this.amount="",this.receive="";var t=e.toString();this.handleSelectWallet(t),this.handleEneterAmount(this.amount)}},{key:"getStatusCanBuy",get:function(){var e=g()(this.user.roundsUserCanBuy,this.roundCurrent.id);return e}},{key:"getIcon",get:function(){var e=this,t=p()(this.listWallet,(function(t){return t.symbol===e.buyLyn.address}))[0];return null===t||void 0===t?void 0:t.icon}},{key:"getUnit",get:function(){switch(this.buyLyn.address){case"BTC":return"BTC";case"ETH":return"ETH";case"USDT":return"USDT";case"USDC":return"USDC";case"BNB":return"BNB";case"BUSD":return"BUSD";default:return"LYNK"}}},{key:"created",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D.getMyWallet({currency:this.coinMain});case 2:return this.walletDetailLYN=e.sent,this.tokenAddress=null===(t=this.walletDetailLYN[0])||void 0===t?void 0:t.address,w["a"].$on("activeRound",(function(e){console.log("active round",e)})),e.next=7,this.handleSelectWallet("BTC");case 7:this.callApi=setInterval(this.testLoad,1e4);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getExchangeRates",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A.getExchangeRates();case 2:this.mintoBuy=e.sent,this.minBit=this.mintoBuy.systemToken["system.token.min.crowd.sale.with_btc"],this.minEth=this.mintoBuy.systemToken["system.token.min.crowd.sale.with_eth"],this.minBnb=this.mintoBuy.systemToken["system.token.min.crowd.sale.with_bnb"],this.minUsdt=this.mintoBuy.systemToken["system.token.min.crowd.sale.with_usdt"],this.minUsdc=this.mintoBuy.systemToken["system.token.min.crowd.sale.with_usdc"];case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"testLoad",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.handleEneterAmount(this.amount),t=this.buyLyn.address.toString(),e.prev=2,e.next=5,D.getExchangeRateTwoCoin(t,this.coinMain);case 5:return this.exchageToLynk=e.sent,this.exchangeBTCToLyn=this.exchageToLynk,this.oneSourceToTarget=this.exchageToLynk.oneSourceToTarget,this.oneTargetToSource=this.exchageToLynk.oneTargetToSource,this.fillValue=null===(n=this.$options.filters)||void 0===n?void 0:n.convertAmountDecimal(this.oneSourceToTarget.toFixed(2),this.coinMain),e.next=12,D.getMyWallet({currency:t});case 12:i=e.sent,this.typeCoin=t,this.tabActive=null,s=p()(i,(function(e){return e.currency===t}))[0],this.available=null===(a=this.$options.filters)||void 0===a?void 0:a.convertAmountDecimal(s.assetBalances.availableBalance,this.getUnit),this.paidAddress=s.address,this.paidNetwork=s.network,e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](2),console.log(e.t0);case 24:case"end":return e.stop()}}),e,this,[[2,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleSelectWallet",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.getExchangeRateTwoCoin(t,this.coinMain);case 3:return this.exchageToLynk=e.sent,this.exchangeBTCToLyn=this.exchageToLynk,this.oneSourceToTarget=this.exchageToLynk.oneSourceToTarget,this.oneTargetToSource=this.exchageToLynk.oneTargetToSource,this.fillValue=null===(n=this.$options.filters)||void 0===n?void 0:n.convertAmountDecimal(this.oneSourceToTarget.toFixed(2),this.coinMain),e.next=10,D.getMyWallet({currency:t});case 10:i=e.sent,this.typeCoin=t,this.tabActive=null,s=p()(i,(function(e){return e.currency===t}))[0],this.available=null===(a=this.$options.filters)||void 0===a?void 0:a.convertAmountDecimal(s.assetBalances.availableBalance,this.getUnit),this.paidAddress=s.address,this.paidNetwork=s.network,"ETH"==t?this.systemTokenMinToBuy=this.minEth:"BNB"==t?this.systemTokenMinToBuy=this.minBnb:"USDT"==t?this.systemTokenMinToBuy=this.minUsdt:"USDC"==t?this.systemTokenMinToBuy=this.minUsdc:"BTC"==t&&(this.systemTokenMinToBuy=this.minBit),console.log("mintobuy",this.systemTokenMinToBuy),e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,this,[[0,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroyed",value:function(){clearInterval(this.callApi),clearTimeout(this.constSetimeout)}},{key:"debounceConfirm",value:function(){this.disableBtn=!0,this.isLoading=!0,this.handleConfirm(this)}},{key:"handleEneterAmount",value:function(e){var t,n=Number(e.replaceAll(",",""));parseFloat(e)>0?this.receive=null===(t=this.$options.filters)||void 0===t?void 0:t.convertAmountDecimal(n*this.oneSourceToTarget,this.coinMain):this.receive="0";null==e||""==e||0==n||""==this.receive||"0.00"==this.receive?this.disableBtn=!0:this.disableBtn=!1,this.tabActive=null}},{key:"handleEneterReceive",value:function(e){this.tabActive=null;var t,n=Number(e.replaceAll(",",""));n>0?(this.tokenAmount=this.amount.toString().replace(",",""),this.amount=null===(t=this.$options.filters)||void 0===t?void 0:t.convertAmountDecimal(Number(n/this.exchangeBTCToLyn.oneSourceToTarget),this.getUnit)):this.amount="0";null==e||""==e||0==n||""==this.amount||"0"==this.amount?this.disableBtn=!0:this.disableBtn=!1}},{key:"handleSelectTab",value:function(e){if(this.isActiveRound)if(this.tabActive===e)this.disableBtn=!0,this.tabActive=null,this.amount="",this.receive="";else{var t,n;this.disableBtn=!1,this.tabActive=e;var a=Number(this.available.replaceAll(",","")),i=e*a/100;this.amount=null===(t=this.$options.filters)||void 0===t?void 0:t.convertAmountDecimal(i,this.getUnit);var s=Number(this.amount.replaceAll(",",""));this.receive=null===(n=this.$options.filters)||void 0===n?void 0:n.convertAmountDecimal(s*this.exchangeBTCToLyn.oneSourceToTarget,this.coinMain)}}},{key:"onlyNumber",value:function(e,t){var n=e.keyCode?e.keyCode:e.which;(n<48||n>57)&&46!==n&&e.preventDefault(),46===n&&g()(this.buyLyn[t],".")&&e.preventDefault()}},{key:"numberFormat",value:function(e){var t,n=e,a=n.target.value;a.length>0&&(a=a.replaceAll(",",""),a=null===(t=this.$options.filters)||void 0===t?void 0:t.numberWithCommas(a),n.target.value=a)}}]),n}(u["d"]);Object(c["c"])([C.State("coinMain")],S.prototype,"coinMain",void 0),Object(c["c"])([x.State("isActiveRound")],S.prototype,"isActiveRound",void 0),Object(c["c"])([x.State("listRound")],S.prototype,"listRound",void 0),Object(c["c"])([x.State("roundCurrent")],S.prototype,"roundCurrent",void 0),Object(c["c"])([_.State("user")],S.prototype,"user",void 0),Object(c["c"])([Object(u["e"])("buyLyn.address")],S.prototype,"changeAddress",null),S=Object(c["c"])([u["a"]],S);var L=S,B=L,O=(n("32c4"),n("2877")),R=Object(O["a"])(B,d,h,!1,null,"24b706af",null),j=R.exports,M=function(){var e=this,t=e.$createElement;e._self._c;return e._e()},E=[],U=(n("b0c0"),n("1276"),n("a15b"),n("fb6a"),n("3b19")),$=n("51f5"),N=n.n($),I=n("6cd4"),Y=n.n(I),W=Object(k["a"])("bcCrowdsale"),K=function(e){Object(r["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.listRound=[],e.timing=null,e.day=0,e.hour=0,e.minute=0,e.second=0,e.roundCurrent={},e.isLoading=!0,e.progressbar=0,e.countDownDate=0,e.listener=null,e.listener1=null,e.isEndOn=!1,e.isEndRound=!1,e.arrTotalInvestor=["0","0","0","0","0","0","0"],e.top3=[],e}return Object(o["a"])(n,[{key:"getLang",get:function(){return"en"===window.localStorage.getItem("bc-lang")}},{key:"getRoundNumber",get:function(){var e;return null===(e=this.roundCurrent)||void 0===e?void 0:e.name}},{key:"getIsEndRound",get:function(){var e=this,t=N()(this.listRound,(function(t){return t.id===e.roundCurrent.id}));return t===this.listRound.length-1}},{key:"mounted",value:function(){this.handleTurnOnFirebase()}},{key:"destroyed",value:function(){var e=U["a"].database().ref("crowdsales_dashboard"),t=U["a"].database().ref("crowd-sales");e.off("value",this.listener1),t.off("value",this.listener)}},{key:"handleTurnOnFirebase",value:function(){var e=U["a"].database().ref("crowdsales_dashboard"),t=U["a"].database().ref("crowd-sales"),n=this;this.listener1=e.on("value",(function(e){var t=e.val(),a=t.totalInvestor;n.arrTotalInvestor=(new Array(8-(a+"").length).join("0")+a).split(""),n.top3=t.data.slice(0,3),n.isLoading=!1})),this.listener=t.on("value",(function(e){console.log("round get firebase",e.val()),n.listRound=e.val(),n.setListRound(e.val());var t=p()(e.val(),(function(e){return e.isActive}));console.log("roundActive",t),t.length?(n.roundCurrent=t[0],n.isEndOn=!0,n.progressbar=1e3*n.roundCurrent.percentageSold/10,n.handleGetData(),n.setIsActiveRound(!0)):(n.roundCurrent=null,n.isEndOn=!1,n.handleGetRoundNext(),n.setIsActiveRound(!1))}))}},{key:"handleGetRoundNext",value:function(){var e=this,t=U["a"].database().ref("crowd-sales");if(t.off("value",this.listener),!this.roundCurrent){var n=this.listRound[0],a=this.listRound[this.listRound.length-1],i=Date.now(),s=new Date(n.fromDate.time).getTime(),o=new Date(a.toDate.time).getTime();i>o&&(this.day="00",this.hour="00",this.minute="00",this.second="00",this.roundCurrent=a,this.isEndOn=!0,this.isLoading=!1),i<s&&(this.roundCurrent=this.listRound[0],this.progressbar=1e3*this.roundCurrent.percentageSold/10,this.handleGetData("from")),i>s&&i<o&&(Y()(this.listRound,(function(t){var n=new Date(t.fromDate.time).getTime();if(i<n)return e.roundCurrent=t,!1})),this.isEndOn=!1,this.progressbar=1e3*this.roundCurrent.percentageSold/10,this.handleGetData("from"))}}},{key:"handleGetData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"to",t=this;this.countDownDate="to"===e?new Date(this.roundCurrent.toDate.time).getTime():new Date(this.roundCurrent.fromDate.time).getTime(),this.setroundCurrent(this.roundCurrent),this.timing=setInterval((function(){var e=(new Date).getTime(),n=t.countDownDate-e;if(n<=0&&!t.isEndOn&&(console.log("vao day 1"),t.countDownDate=new Date(t.roundCurrent.toDate.time).getTime(),t.handleTurnOnFirebase(),t.isEndOn=!0,t.isLoading=!1),n<=0&&t.isEndOn&&!t.getIsEndRound)return t.isLoading=!0,t.handleTurnOnFirebase(),t.isEndOn=!0,void(t.isLoading=!1);if(n<=0&&t.isEndOn&&t.getIsEndRound){clearInterval(t.timing);var a=U["a"].database().ref("crowd-sales");return a.off("value",t.listener),t.setIsActiveRound(!1),void(t.isLoading=!1)}t.day=Math.floor(n/864e5)>=10?Math.floor(n/864e5):0===Math.floor(n/864e5)?"0":"0"+Math.floor(n/864e5),t.hour=Math.floor(n%864e5/36e5)>=10?Math.floor(n%864e5/36e5):0===Math.floor(n%864e5/36e5)?"0":"0"+Math.floor(n%864e5/36e5),t.minute=Math.floor(n%36e5/6e4)>=10?Math.floor(n%36e5/6e4):0===Math.floor(n%36e5/6e4)?"0":"0"+Math.floor(n%36e5/6e4),t.second=Math.floor(n%6e4/1e3)>=10?Math.floor(n%6e4/1e3):0===Math.floor(n%6e4/1e3)?"0":"0"+Math.floor(n%6e4/1e3)}),1e3),this.isLoading=!1}},{key:"beforeDestroy",value:function(){clearInterval(this.timing)}}]),n}(u["d"]);Object(c["c"])([W.Action("setIsActiveRound")],K.prototype,"setIsActiveRound",void 0),Object(c["c"])([W.Action("setroundCurrent")],K.prototype,"setroundCurrent",void 0),Object(c["c"])([W.Action("setListRound")],K.prototype,"setListRound",void 0),K=Object(c["c"])([u["a"]],K);var F=K,q=F,z=(n("a32b"),Object(O["a"])(q,M,E,!1,null,"9017d5cc",null)),H=z.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-round"},[n("h3",{staticClass:"mb-24 text-2xl text-bold"},[e._v(e._s(e.$t("crowd-sale.round")))]),n("base-table",{staticClass:"base-table",attrs:{data:e.listRound,showPagination:!1}},[n("el-table-column",{attrs:{label:e.$t("crowd-sale.table.round"),prop:"name",width:"140"}}),n("el-table-column",{attrs:{label:e.$t("crowd-sale.table.start-date"),prop:"fromDate",width:"ru"===e.selectLanguage()?140:160},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e._f("formatMMDDYYWithoutHours")(t.row.fromDate.time)))])]}}])}),n("el-table-column",{attrs:{label:e.$t("crowd-sale.table.end-date"),prop:"toDate",width:"ru"===e.selectLanguage()?180:160},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e._f("formatMMDDYYWithoutHours")(t.row.toDate.time)))])]}}])}),n("el-table-column",{attrs:{label:e.$t("crowd-sale.table.price"),prop:"price",align:"right",width:"124"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v("$"+e._s(e._f("convertAmountDecimal")(t.row.price,"USD")))])]}}])}),n("el-table-column",{attrs:{label:e.$t("crowd-sale.table.sold"),prop:"totalSold",align:"right",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.totalSold<t.row.totalAmount?n("span",[e._v(e._s(e._f("formatNumber")(t.row.totalSold)))]):n("span",[e._v(e._s(e._f("formatNumber")(t.row.totalAmount)))])]}}])}),n("el-table-column",{attrs:{label:e.$t("crowd-sale.table.remain"),prop:"totalAvailable",align:"right",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.totalAvailable>0?n("span",[e._v(e._s(e._f("formatNumber")(t.row.totalAvailable)))]):n("span",[e._v("0")])]}}])}),n("el-table-column",{attrs:{label:e.$t("crowd-sale.table.progress"),prop:"percentageSold",align:"right",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e._f("convertAmountDecimal")(1e3*t.row.percentageSold/10,"PERCENT"))+"%")])]}}])})],1)],1)},G=[],V=function(e){Object(r["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.listRound=[],e.listener=null,e}return Object(o["a"])(n,[{key:"created",value:function(){var e=this,t=U["a"].database().ref("crowd-sales");this.listener=t.on("value",(function(t){console.log("data",t.val()),e.listRound=t.val()}))}},{key:"destroyed",value:function(){var e=U["a"].database().ref("crowd-sales");e.off("value",this.listener)}},{key:"selectLanguage",value:function(){return window.localStorage.getItem("bc-lang")}}]),n}(u["d"]);V=Object(c["c"])([u["a"]],V);var J=V,Q=J,X=(n("e2c2"),Object(O["a"])(Q,P,G,!1,null,"3ef44bf1",null)),Z=X.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-100 table-transaction"},[n("h3",{staticClass:"mb-24 text-2xl text-bold"},[e._v(e._s(e.$t("crowd-sale.trasnsaction")))]),n("base-table",{staticClass:"base-table table-transaction-custom",attrs:{data:e.data,isLoading:e.isLoading,showPagination:!1,paginationInfo:e.getPaginationInfo},on:{sizeChange:e.handleSizeChange,currentChange:e.handleCurrentChange}},[n("el-table-column",{attrs:{label:"#",type:"index",align:"center",width:"40"}}),n("el-table-column",{attrs:{label:e.$t("crowd-sale.table.date"),prop:"transactionDate",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e._f("formatMMDDYY")(t.row.transactionDate.time)))])]}}])}),n("el-table-column",{attrs:{label:e.$t("crowd-sale.table.email"),prop:"userEmail"}}),n("el-table-column",{attrs:{label:e.$t("crowd-sale.table.price"),align:"right",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.roundName)+" - $"+e._s(e._f("convertAmountDecimal")(t.row.tokenUsdExchangeRate,"USD")))])]}}])}),n("el-table-column",{attrs:{label:e.$t("crowd-sale.table.paid"),prop:"paid",align:"right",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticClass:"amount-decrease"},[e._v("-"+e._s(e._f("convertAmountDecimal")(t.row.paidAmount,t.row.paidCurrency))+" "+e._s(t.row.paidCurrency))]),n("span",{staticClass:"d-block amount-exchange-small"},[e._v("~$"+e._s(e._f("convertAmountDecimal")(t.row.paidAmount*t.row.paidUsdExchangeRate,"USD")))])]}}])}),n("el-table-column",{attrs:{label:e.$t("crowd-sale.table.amount"),prop:"amount",align:"right",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticClass:"amount-increase"},[e._v("+"+e._s(e._f("convertAmountDecimal")(t.row.tokenAmount,t.row.tokenCurrency))+" "+e._s(t.row.tokenCurrency))]),n("span",{staticClass:"d-block amount-exchange-small"},[e._v("~$"+e._s(e._f("convertAmountDecimal")(t.row.tokenAmount*t.row.tokenUsdExchangeRate,"USD")))])]}}])})],1)],1)},te=[],ne=function(e){Object(r["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.data=[],e.query={page:1,limit:10,total:0},e.isLoading=!1,e.listener=null,e}return Object(o["a"])(n,[{key:"getPaginationInfo",get:function(){return this.$t("crowd-sale.table.paginationInfo")}},{key:"created",value:function(){var e=this;this.init(),w["a"].$on("reloadTable",(function(t){e.init()}))}},{key:"destroyed",value:function(){var e=U["a"].database().ref("crowdsale_transactions");e.off("value",this.listener)}},{key:"init",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{t=U["a"].database().ref("crowdsale_transactions"),n=this,this.listener=t.on("value",(function(e){n.data=e.val()}))}catch(a){this.isLoading=!1,console.log(a)}case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleSizeChange",value:function(e){this.query.page=1,this.query.limit=e,this.init()}},{key:"handleCurrentChange",value:function(e){this.query.page=e,this.init()}}]),n}(u["d"]);ne=Object(c["c"])([u["a"]],ne);var ae=ne,ie=ae,se=(n("d079"),Object(O["a"])(ie,ee,te,!1,null,"4c5fa301",null)),oe=se.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("h3",{staticClass:"mb-24 text-bold",staticStyle:{"font-size":"20px"}},[e._v(e._s(e.$t("crowd-sale.buy"))+" "+e._s("LYNK"===e.coinMain?"LYNK":"CLM"))]),n("el-form",{staticClass:"form-buy-lyn",attrs:{model:e.buyLyn}},[n("el-form-item",{staticClass:"list-wallet",attrs:{label:e.$t("label.buy-from")}},[n("el-select",{staticClass:"w-100",attrs:{disabled:!e.isActiveRound},on:{change:e.handleSelectWallet},model:{value:e.buyLyn.address,callback:function(t){e.$set(e.buyLyn,"address",t)},expression:"buyLyn.address"}},[e._l(e.listWallet,(function(t){return n("el-option",{key:t.id,attrs:{value:t.symbol,label:t.name}},[[n("div",{staticClass:"be-flex wallet-item"},[n("base-icon",{attrs:{icon:t.icon,size:"24"}}),n("span",{staticClass:"d-ib",staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.name))])],1)]],2)})),n("div",{staticClass:"suffix",attrs:{slot:"prefix"},slot:"prefix"},[n("base-icon",{attrs:{icon:e.getIcon,size:"24"}})],1)],2)],1),n("el-form-item",{staticClass:"mb-1"},[n("el-input",{attrs:{disabled:!e.isActiveRound,placeholder:e.$t("placeholder.amount")},on:{input:e.handleEneterAmount},nativeOn:{keypress:function(t){return e.onlyNumber(t,"amount")},keyup:function(t){return e.numberFormat(t)}},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}}),n("div",{staticClass:"prefix prefix--amount"},[n("span",[e._v(e._s(e.getUnit))])]),n("div",{staticClass:"be-flex jc-space-between w-100",attrs:{slot:"label"},slot:"label"},[n("span",[e._v(e._s(e.$t("label.pay-amount")))]),n("span",{staticStyle:{color:"#5b616e"}},[e._v(e._s(e.$t("withdraw.available"))+": "),n("span",{class:"amount-"+e.getUnit},[e._v(e._s(e.available)+" "+e._s(e.getUnit))])])])],1),n("div",{staticClass:"be-flex jc-space-between mb-24 tab-amount"},e._l(e.tabAmount,(function(t){return n("div",{key:t,staticClass:"text-base cursor amount-item",class:t===e.tabActive?"active":null,on:{click:function(n){return e.handleSelectTab(t)}}},[n("span",[e._v(e._s(t)+"%")])])})),0),n("el-form-item",[n("el-input",{attrs:{disabled:!e.isActiveRound,Tplaceholder:"0"},on:{input:e.handleEneterReceive},nativeOn:{keypress:function(t){return e.onlyNumber(t,"receive")},keyup:function(t){return e.numberFormat(t)}},model:{value:e.receive,callback:function(t){e.receive=t},expression:"receive"}}),n("div",{staticClass:"prefix prefix--amount"},[n("span",{staticStyle:{color:"#0a0b0d"}},[e._v(e._s("LYNK"===e.coinMain?"LYNK":"CLM"))])]),n("div",{staticClass:"be-flex jc-space-between w-100",attrs:{slot:"label"},slot:"label"},[n("span",[e._v(e._s(e.$t("label.receive")))]),n("span",{staticStyle:{color:"#5b616e"}},[e._v("1 "+e._s(e.getUnit)+" = "+e._s(e.fillValue)+" "+e._s("LYNK"===e.coinMain?"LYNK":"CLM")+" ")])])],1),n("el-button",{staticClass:"is-none-border",class:e.disableBtn?"btn--disabled btn-default-bg text-bold btn-h48 w-100 btn":"btn-default-bg text-bold btn-h48 w-100 btn",staticStyle:{"font-size":"16px"},attrs:{loading:e.isLoading,disabled:e.disableBtn,type:"button"},on:{click:e.debounceConfirm}},[e._v(" "+e._s(e.$t("button.buy"))+" "+e._s("LYNK"===e.coinMain?"LYNK":"CLM")+" ")])],1)],1)},le=[],ce=Object(k["a"])("beBase"),ue=Object(k["a"])("beAuth"),de=Object(k["a"])("bcCrowdsale"),he=Object(T["a"])("wallet"),be=Object(T["a"])("crowd-sale"),ve=function(e){Object(r["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.tabAmount=[25,50,75,100],e.tabActive=null,e.isScan=!1,e.buyLyn={address:"BTC",amount:"",receive:""},e.disableBtn=!0,e.amount="",e.receive="",e.exchageToLynk={},e.disablePayAmount=!1,e.disableRecive=!1,e.checkButton=!0,e.result="",e.available=0,e.oneSourceToTarget=0,e.isLoading=!1,e.listWallet=[{id:0,name:"Bitcoin Wallet",symbol:"BTC",icon:"icon-btc"},{id:1,name:"Ethereum Wallet",symbol:"ETH",icon:"icon-eth"},{id:2,name:"Tether Wallet",symbol:"USDT",icon:"icon-usdt",disabled:!0},{id:3,name:"USDC Wallet",symbol:"USDC",icon:"icon-usdc",disabled:!0},{id:4,name:"BNB Wallet",symbol:"BNB",icon:"icon-bnb",disabled:!0},{id:5,name:"BUSD Wallet",symbol:"BUSD",icon:"icon-busd",disabled:!0}],e.BTC="BTC",e.ETH="ETH",e.LYNK=e.coinMain,e.USD="USD",e.callApi={},e.walletDetailLYN={},e.addressCurrency={},e.exchangeToUSD={},e.lynToUsd="",e.exchangeBTCToLyn={},e.exchangelynToUSD={},e.oneTargetToSource="",e.paidAddress="",e.paidNetwork="",e.walletActive="",e.fillValue="",e.constSetimeout={},e.minBit="",e.minEth="",e.minBnb="",e.minUsdt="",e.minUsdc="",e.mintoBuy={},e.systemTokenMinToBuy="",e.typeCoin="",e.tokenAddress="",e.tokenUsdExchangeRate="",e.handleConfirm=m()((function(e){var t;if(!e.getStatusCanBuy){var n=e.$t("notify.can-not-buy-lyn");return e.$message.error({message:n,duration:5e3}),void(e.isLoading=!1)}var a=e.amount.toString().replaceAll(",",""),i=e.receive.toString().replaceAll(",",""),s={tokenAddress:e.tokenAddress,tokenCurrency:e.coinMain,tokenNetwork:null===(t=e.walletDetailLYN[0])||void 0===t?void 0:t.network,tokenAmount:i,tokenUsdExchangeRate:e.exchageToLynk.oneTargetToUsd,paidAddress:e.paidAddress,paidCurrency:e.typeCoin,paidNetwork:e.paidNetwork,paidAmount:a,paidUsdExchangeRate:e.exchageToLynk.oneSourceToUsd,paidTokenExchangeRate:e.exchangeBTCToLyn.oneSourceToTarget,description:"",isExternal:0,transactionCode:null};null===he||void 0===he||he.buyLyn(s).then((function(){var t=e.$t("buy-lyn.success");e.$message.success({message:t,duration:5e3}),e.tabActive=null,e.amount="",e.receive="",e.isLoading=!1,e.$forceUpdate(),w["a"].$emit("reloadTable")})).catch((function(t){e.isLoading=!1,console.log(t.response)}))}),500),e.tokenAmount="",e}return Object(o["a"])(n,[{key:"changeAddress",value:function(e){this.amount="",this.receive="";var t=e.toString();this.handleSelectWallet(t),this.handleEneterAmount(this.amount)}},{key:"getStatusCanBuy",get:function(){var e=g()(this.user.roundsUserCanBuy,this.roundCurrent.id);return e}},{key:"getIcon",get:function(){var e=this,t=p()(this.listWallet,(function(t){return t.symbol===e.buyLyn.address}))[0];return null===t||void 0===t?void 0:t.icon}},{key:"getUnit",get:function(){switch(this.buyLyn.address){case"BTC":return"BTC";case"ETH":return"ETH";case"USDT":return"USDT";case"USDC":return"USDC";case"BNB":return"BNB";case"BUSD":return"BUSD";default:return"LYNK"}}},{key:"created",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,he.getMyWallet({currency:this.coinMain});case 2:return this.walletDetailLYN=e.sent,this.tokenAddress=null===(t=this.walletDetailLYN[0])||void 0===t?void 0:t.address,w["a"].$on("activeRound",(function(e){console.log("active round",e)})),e.next=7,this.handleSelectWallet("BTC");case 7:this.callApi=setInterval(this.testLoad,1e4);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getExchangeRates",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,be.getExchangeRates();case 2:this.mintoBuy=e.sent,this.minBit=this.mintoBuy.systemToken["system.token.min.crowd.sale.with_btc"],this.minEth=this.mintoBuy.systemToken["system.token.min.crowd.sale.with_eth"],this.minBnb=this.mintoBuy.systemToken["system.token.min.crowd.sale.with_bnb"],this.minUsdt=this.mintoBuy.systemToken["system.token.min.crowd.sale.with_usdt"],this.minUsdc=this.mintoBuy.systemToken["system.token.min.crowd.sale.with_usdc"];case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"testLoad",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.handleEneterAmount(this.amount),t=this.buyLyn.address.toString(),e.prev=2,e.next=5,he.getExchangeRateTwoCoin(t,this.coinMain);case 5:return this.exchageToLynk=e.sent,this.exchangeBTCToLyn=this.exchageToLynk,this.oneSourceToTarget=this.exchageToLynk.oneSourceToTarget,this.oneTargetToSource=this.exchageToLynk.oneTargetToSource,this.fillValue=null===(n=this.$options.filters)||void 0===n?void 0:n.convertAmountDecimal(this.oneSourceToTarget.toFixed(2),this.coinMain),e.next=12,he.getMyWallet({currency:t});case 12:i=e.sent,this.typeCoin=t,this.tabActive=null,s=p()(i,(function(e){return e.currency===t}))[0],this.available=null===(a=this.$options.filters)||void 0===a?void 0:a.convertAmountDecimal(s.assetBalances.availableBalance,this.getUnit),this.paidAddress=s.address,this.paidNetwork=s.network,e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](2),console.log(e.t0);case 24:case"end":return e.stop()}}),e,this,[[2,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleSelectWallet",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.getExchangeRateTwoCoin(t,this.coinMain);case 3:return this.exchageToLynk=e.sent,this.exchangeBTCToLyn=this.exchageToLynk,this.oneSourceToTarget=this.exchageToLynk.oneSourceToTarget,this.oneTargetToSource=this.exchageToLynk.oneTargetToSource,this.fillValue=null===(n=this.$options.filters)||void 0===n?void 0:n.convertAmountDecimal(this.oneSourceToTarget.toFixed(2),this.coinMain),e.next=10,he.getMyWallet({currency:t});case 10:i=e.sent,this.typeCoin=t,this.tabActive=null,s=p()(i,(function(e){return e.currency===t}))[0],this.available=null===(a=this.$options.filters)||void 0===a?void 0:a.convertAmountDecimal(s.assetBalances.availableBalance,this.getUnit),this.paidAddress=s.address,this.paidNetwork=s.network,"ETH"==t?this.systemTokenMinToBuy=this.minEth:"BNB"==t?this.systemTokenMinToBuy=this.minBnb:"USDT"==t?this.systemTokenMinToBuy=this.minUsdt:"USDC"==t?this.systemTokenMinToBuy=this.minUsdc:"BTC"==t&&(this.systemTokenMinToBuy=this.minBit),console.log("mintobuy",this.systemTokenMinToBuy),e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,this,[[0,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroyed",value:function(){clearInterval(this.callApi),clearTimeout(this.constSetimeout)}},{key:"debounceConfirm",value:function(){this.disableBtn=!0,this.isLoading=!0,this.handleConfirm(this)}},{key:"handleEneterAmount",value:function(e){var t,n=Number(e.replaceAll(",",""));parseFloat(e)>0?this.receive=null===(t=this.$options.filters)||void 0===t?void 0:t.convertAmountDecimal(n*this.oneSourceToTarget,this.coinMain):this.receive="0";null==e||""==e||0==n||""==this.receive||"0.00"==this.receive?this.disableBtn=!0:this.disableBtn=!1,this.tabActive=null}},{key:"handleEneterReceive",value:function(e){this.tabActive=null;var t,n=Number(e.replaceAll(",",""));n>0?(this.tokenAmount=this.amount.toString().replace(",",""),this.amount=null===(t=this.$options.filters)||void 0===t?void 0:t.convertAmountDecimal(Number(n/this.exchangeBTCToLyn.oneSourceToTarget),this.getUnit)):this.amount="0";null==e||""==e||0==n||""==this.amount||"0"==this.amount?this.disableBtn=!0:this.disableBtn=!1}},{key:"handleSelectTab",value:function(e){if(this.isActiveRound)if(this.tabActive===e)this.disableBtn=!0,this.tabActive=null,this.amount="",this.receive="";else{var t,n;this.disableBtn=!1,this.tabActive=e;var a=Number(this.available.replaceAll(",","")),i=e*a/100;this.amount=null===(t=this.$options.filters)||void 0===t?void 0:t.convertAmountDecimal(i,this.getUnit);var s=Number(this.amount.replaceAll(",",""));this.receive=null===(n=this.$options.filters)||void 0===n?void 0:n.convertAmountDecimal(s*this.exchangeBTCToLyn.oneSourceToTarget,this.coinMain)}}},{key:"onlyNumber",value:function(e,t){var n=e.keyCode?e.keyCode:e.which;(n<48||n>57)&&46!==n&&e.preventDefault(),46===n&&g()(this.buyLyn[t],".")&&e.preventDefault()}},{key:"numberFormat",value:function(e){var t,n=e,a=n.target.value;a.length>0&&(a=a.replaceAll(",",""),a=null===(t=this.$options.filters)||void 0===t?void 0:t.numberWithCommas(a),n.target.value=a)}}]),n}(u["d"]);Object(c["c"])([ce.State("coinMain")],ve.prototype,"coinMain",void 0),Object(c["c"])([de.State("isActiveRound")],ve.prototype,"isActiveRound",void 0),Object(c["c"])([de.State("listRound")],ve.prototype,"listRound",void 0),Object(c["c"])([de.State("roundCurrent")],ve.prototype,"roundCurrent",void 0),Object(c["c"])([ue.State("user")],ve.prototype,"user",void 0),Object(c["c"])([Object(u["e"])("buyLyn.address")],ve.prototype,"changeAddress",null),ve=Object(c["c"])([u["a"]],ve);var me=ve,fe=me,pe=(n("2fdd"),Object(O["a"])(fe,re,le,!1,null,"677b8110",null)),ye=pe.exports,ge=function(){var e=this,t=e.$createElement;e._self._c;return e._e()},Te=[],we=Object(k["a"])("bcCrowdsale"),ke=function(e){Object(r["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.listRound=[],e.timing=null,e.day=0,e.hour=0,e.minute=0,e.second=0,e.roundCurrent={},e.isLoading=!0,e.progressbar=0,e.countDownDate=0,e.listener=null,e.listener1=null,e.isEndOn=!1,e.isEndRound=!1,e.arrTotalInvestor=["0","0","0","0","0","0","0"],e.top3=[],e}return Object(o["a"])(n,[{key:"getLang",get:function(){return"en"===window.localStorage.getItem("bc-lang")}},{key:"getRoundNumber",get:function(){var e;return null===(e=this.roundCurrent)||void 0===e?void 0:e.name}},{key:"getIsEndRound",get:function(){var e=this,t=N()(this.listRound,(function(t){return t.id===e.roundCurrent.id}));return t===this.listRound.length-1}},{key:"mounted",value:function(){this.handleTurnOnFirebase()}},{key:"destroyed",value:function(){var e=U["a"].database().ref("crowdsales_dashboard"),t=U["a"].database().ref("crowd-sales");e.off("value",this.listener1),t.off("value",this.listener)}},{key:"handleTurnOnFirebase",value:function(){var e=U["a"].database().ref("crowdsales_dashboard"),t=U["a"].database().ref("crowd-sales"),n=this;this.listener1=e.on("value",(function(e){var t=e.val(),a=t.totalInvestor;n.arrTotalInvestor=(new Array(8-(a+"").length).join("0")+a).split(""),n.top3=t.data.slice(0,3),n.isLoading=!1})),this.listener=t.on("value",(function(e){console.log("round get firebase",e.val()),n.listRound=e.val(),n.setListRound(e.val());var t=p()(e.val(),(function(e){return e.isActive}));console.log("roundActive",t),t.length?(n.roundCurrent=t[0],n.isEndOn=!0,n.progressbar=1e3*n.roundCurrent.percentageSold/10,n.handleGetData(),n.setIsActiveRound(!0)):(n.roundCurrent=null,n.isEndOn=!1,n.handleGetRoundNext(),n.setIsActiveRound(!1))}))}},{key:"handleGetRoundNext",value:function(){var e=this,t=U["a"].database().ref("crowd-sales");if(t.off("value",this.listener),!this.roundCurrent){var n=this.listRound[0],a=this.listRound[this.listRound.length-1],i=Date.now(),s=new Date(n.fromDate.time).getTime(),o=new Date(a.toDate.time).getTime();i>o&&(this.day="00",this.hour="00",this.minute="00",this.second="00",this.roundCurrent=a,this.isEndOn=!0,this.isLoading=!1),i<s&&(this.roundCurrent=this.listRound[0],this.progressbar=1e3*this.roundCurrent.percentageSold/10,this.handleGetData("from")),i>s&&i<o&&(Y()(this.listRound,(function(t){var n=new Date(t.fromDate.time).getTime();if(i<n)return e.roundCurrent=t,!1})),this.isEndOn=!1,this.progressbar=1e3*this.roundCurrent.percentageSold/10,this.handleGetData("from"))}}},{key:"handleGetData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"to",t=this;this.countDownDate="to"===e?new Date(this.roundCurrent.toDate.time).getTime():new Date(this.roundCurrent.fromDate.time).getTime(),this.setroundCurrent(this.roundCurrent),this.timing=setInterval((function(){var e=(new Date).getTime(),n=t.countDownDate-e;if(n<=0&&!t.isEndOn&&(console.log("vao day 1"),t.countDownDate=new Date(t.roundCurrent.toDate.time).getTime(),t.handleTurnOnFirebase(),t.isEndOn=!0,t.isLoading=!1),n<=0&&t.isEndOn&&!t.getIsEndRound)return t.isLoading=!0,t.handleTurnOnFirebase(),t.isEndOn=!0,void(t.isLoading=!1);if(n<=0&&t.isEndOn&&t.getIsEndRound){clearInterval(t.timing);var a=U["a"].database().ref("crowd-sales");return a.off("value",t.listener),t.setIsActiveRound(!1),void(t.isLoading=!1)}t.day=Math.floor(n/864e5)>=10?Math.floor(n/864e5):0===Math.floor(n/864e5)?"0":"0"+Math.floor(n/864e5),t.hour=Math.floor(n%864e5/36e5)>=10?Math.floor(n%864e5/36e5):0===Math.floor(n%864e5/36e5)?"0":"0"+Math.floor(n%864e5/36e5),t.minute=Math.floor(n%36e5/6e4)>=10?Math.floor(n%36e5/6e4):0===Math.floor(n%36e5/6e4)?"0":"0"+Math.floor(n%36e5/6e4),t.second=Math.floor(n%6e4/1e3)>=10?Math.floor(n%6e4/1e3):0===Math.floor(n%6e4/1e3)?"0":"0"+Math.floor(n%6e4/1e3)}),1e3),this.isLoading=!1}},{key:"beforeDestroy",value:function(){clearInterval(this.timing)}}]),n}(u["d"]);Object(c["c"])([we.Action("setIsActiveRound")],ke.prototype,"setIsActiveRound",void 0),Object(c["c"])([we.Action("setroundCurrent")],ke.prototype,"setroundCurrent",void 0),Object(c["c"])([we.Action("setListRound")],ke.prototype,"setListRound",void 0),ke=Object(c["c"])([u["a"]],ke);var Ce=ke,_e=Ce,xe=(n("c5c9"),Object(O["a"])(_e,ge,Te,!1,null,"27fef179",null)),De=xe.exports,Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-round"},[n("h3",{staticClass:"text-bold mb-24",staticStyle:{"font-size":"20px"}},[e._v(e._s(e.$t("crowd-sale.round")))]),e._l(e.listRound,(function(t){return n("div",{key:t.created,staticClass:"container"},[n("div",{staticClass:"column-1"},[n("p",{staticClass:"round-name"},[n("span",{staticClass:"text-semibold",staticStyle:{float:"left"}},[e._v(e._s(e.$t("crowd-sale.round"))+" "+e._s(t.id)+" ")]),n("span",{staticStyle:{float:"left"}},[e._v("  ($"+e._s(t.price)+") ")])]),n("p",{staticClass:"date"},[e._v(e._s(e._f("formatMMDDYYWithoutHours")(t.fromDate.time))+" - "+e._s(e._f("formatMMDDYYWithoutHours")(t.toDate.time)))])]),n("div",{staticClass:"column-2"},[n("p",{staticClass:"price text-semibold"},[e._v(e._s(t.totalSold)+" LYNK")]),n("p",{staticClass:"progress"},[e._v(e._s(e._f("convertAmountDecimal")(1e3*t.percentageSold/10,"PERCENT"))+"%")])])])}))],2)},Se=[],Le=function(e){Object(r["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.listRound=[],e.listener=null,e}return Object(o["a"])(n,[{key:"created",value:function(){var e=this,t=U["a"].database().ref("crowd-sales");this.listener=t.on("value",(function(t){console.log("data",t.val()),e.listRound=t.val(),console.log(e.listRound)}))}},{key:"destroyed",value:function(){var e=U["a"].database().ref("crowd-sales");e.off("value",this.listener)}}]),n}(u["d"]);Le=Object(c["c"])([u["a"]],Le);var Be=Le,Oe=Be,Re=(n("8f7a"),Object(O["a"])(Oe,Ae,Se,!1,null,"1c244984",null)),je=Re.exports,Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-100 table-transaction"},[n("h3",{staticClass:"text-bold mb-24",staticStyle:{"font-size":"20px"}},[e._v(e._s(e.$t("crowd-sale.transaction")))]),n("div",{staticClass:"w",staticStyle:{display:"flex","flex-direction":"column"}},[e._l(e.data,(function(t){return n("div",{key:t.email,staticClass:"container"},[n("div",{staticClass:"column-1"},[n("p",{staticClass:"userEmail text-semibold"},[e._v(e._s(t.userEmail))]),n("p",{staticClass:"date"},[e._v(e._s(e._f("formatMMDDYY")(t.transactionDate.time)))])]),n("div",{staticClass:"column-2"},[n("p",{staticClass:"amount-decrease paid"},[e._v("-"+e._s(e._f("convertAmountDecimal")(t.paidAmount,t.paidCurrency))+" "+e._s(t.paidCurrency))]),n("p",{staticClass:"amount-increase token"},[e._v("+"+e._s(e._f("convertAmountDecimal")(t.tokenAmount,t.tokenCurrency))+" "+e._s(t.tokenCurrency))])])])})),n("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.query.page,"page-sizes":[10,20,30,50],"page-size":e.query.limit,layout:"sizes, prev, pager, next",background:"",total:e.query.total,"pager-count":"3"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.query,"page",t)},"update:current-page":function(t){return e.$set(e.query,"page",t)}}})],2)])},Ee=[],Ue=n("5530"),$e=n("2ef0"),Ne=Object(T["a"])("crowd-sale"),Ie=function(e){Object(r["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.data=[],e.dataBackup=[],e.query={page:1,limit:10,total:0},e.isLoading=!1,e.tabActive=0,e.listener=null,e.dataPagination={},e.listRound=[],e}return Object(o["a"])(n,[{key:"getPaginationInfo",get:function(){return this.$t("crowd-sale.table.paginationInfo")}},{key:"created",value:function(){var e=this;this.init(),w["a"].$on("reloadTable",(function(t){e.init()})),this.getListRound(),w["a"].$on("reloadData",(function(){e.init()}))}},{key:"destroyed",value:function(){var e=U["a"].database().ref("crowdsale_transactions");e.off("value",this.listener),w["a"].$off("reloadData")}},{key:"paginationData",value:function(){var e=Object($e["cloneDeep"])(this.dataBackup);this.data=Object($e["cloneDeep"])(e.slice((this.query.page-1)*this.query.limit,this.query.page*this.query.limit))}},{key:"init",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{t=U["a"].database().ref("crowdsale_transactions"),n=this,this.listener=t.on("value",(function(e){n.dataBackup=Object($e["cloneDeep"])(e.val()),n.query.total=n.dataBackup.length,n.paginationData()}))}catch(a){this.isLoading=!1,console.log(a)}case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getListRound",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne.getListRoundCrowdsale();case 3:t=e.sent,this.listRound=p()(t,(function(e){return e.totalVestingMonth})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetQuery",value:function(){this.query=Object(Ue["a"])(Object(Ue["a"])({},this.query),{},{page:1,limit:20,total:0})}},{key:"handleSizeChange",value:function(e){this.query.limit=e,this.paginationData()}},{key:"handleCurrentChange",value:function(e){this.query.page=e,this.paginationData()}}]),n}(u["d"]);Ie=Object(c["c"])([u["a"]],Ie);var Ye=Ie,We=Ye,Ke=(n("1adb"),Object(O["a"])(We,Me,Ee,!1,null,"2a29a2ba",null)),Fe=Ke.exports,qe=Object(k["a"])("beAuth"),ze=Object(k["a"])("beBase"),He=function(e){Object(r["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"created",value:function(){}}]),n}(u["d"]);Object(c["c"])([qe.State("moduleConfig")],He.prototype,"moduleConfig",void 0),Object(c["c"])([ze.State("isDesktop")],He.prototype,"isDesktop",void 0),He=Object(c["c"])([Object(u["a"])({components:{BuyLyn:j,TimeProgress:H,TableRound:Z,TableTransaction:oe,BuyLynMobile:ye,TimeProgressMobile:De,TableRoundMobile:je,TableTransactionMobile:Fe}})],He);var Pe=He,Ge=Pe,Ve=(n("f968"),Object(O["a"])(Ge,a,i,!1,null,"55159c72",null));t["default"]=Ve.exports},"0d6b":function(e,t,n){},"1adb":function(e,t,n){"use strict";n("3494")},"2fdd":function(e,t,n){"use strict";n("c864")},"32c4":function(e,t,n){"use strict";n("0304")},"342c":function(e,t,n){},3494:function(e,t,n){},"7b0e":function(e,t,n){},"7bcb":function(e,t,n){},"8f7a":function(e,t,n){"use strict";n("342c")},a32b:function(e,t,n){"use strict";n("7b0e")},a8ee:function(e,t,n){},c5c9:function(e,t,n){"use strict";n("f1d3")},c864:function(e,t,n){},d079:function(e,t,n){"use strict";n("7bcb")},e2c2:function(e,t,n){"use strict";n("0d6b")},f1d3:function(e,t,n){},f968:function(e,t,n){"use strict";n("a8ee")}}]);