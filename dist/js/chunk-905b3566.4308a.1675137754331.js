(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-905b3566"],{"7265a":function(e,t,a){"use strict";a("d9c1")},c1e9:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"setting-profile"},[a("el-form",{ref:"profile",staticClass:"form-profile",attrs:{rules:e.rules,model:e.form}},[a("div",{staticClass:"box1"},[a("div",{staticClass:"change-avatar"},[a("div",{staticClass:"left avatar"},[e.form.avatar?a("img",{attrs:{src:e.form.avatar}}):a("base-icon",{staticStyle:{display:"inline-flex","margin-right":"24px"},attrs:{icon:"default-avatar",size:"80"}}),a("div",{staticClass:"box-text"},[a("span",{staticClass:"title"},[e._v(e._s(e.$t("setting.profile.title1")))]),a("span",{staticClass:"discript"},[e._v(e._s(e.$t("setting.profile.discript1")))]),a("span",{staticClass:"remove",on:{click:e.remove}},[e._v(e._s(e.$t("setting.profile.remove")))])])],1),a("div",{staticClass:"right"},[a("el-upload",{ref:"avatarUpload",staticClass:"upload-demo mb-2 text-center skills",attrs:{action:e.form.avatar?e.form.avatar:"","auto-upload":!1,"show-file-list":!1,"on-change":e.handleChangeFile,accept:".jpg, .jpeg, .png, .bmp"}},[a("div",{staticClass:"btn-action btn-upload cursor"},[e._v(e._s(e.$t("setting.profile.upload")))])])],1)]),e.isLogin?a("div",{staticClass:"change-password"},[a("div",{staticClass:"left"},[a("div",{staticClass:"title"},[e._v(e._s(e.$t("setting.profile.title2")))]),a("div",{staticClass:"discript"},[e._v(" "+e._s(e.$t("setting.profile.discript2"))+" "),a("span",{staticClass:"link",on:{click:e.handleLink}},[e._v(e._s(e.$t("setting.profile.link")))])])]),a("div",{staticClass:"right btn-action btn-change-password cursor",on:{click:e.handleChangePassword}},[e._v(" "+e._s(e.$t("setting.profile.changePassword"))+" ")])]):e._e()]),a("div",{staticClass:"line"}),a("div",{staticClass:"be-flex content"},[a("div",{staticClass:"mt-24 side-bar"},[a("div",{staticClass:"cursor mb-24 side-bar__item",class:"my-profile"===e.tabActive?"tab-active":null,on:{click:function(t){e.tabActive="my-profile"}}},[a("span",{staticClass:"text-base text-desc"},[e._v(e._s(e.$t("setting.profile.my-profile")))])]),a("div",{staticClass:"cursor mb-24 side-bar__item",class:"profile-nft"===e.tabActive?"tab-active":null,on:{click:function(t){e.tabActive="profile-nft"}}},[a("span",{staticClass:"text-base text-desc"},[e._v(e._s(e.$t("setting.profile.profile-nft")))])]),a("div",{staticClass:"cursor side-bar__item",class:"social-info"===e.tabActive?"tab-active":null,on:{click:function(t){e.tabActive="social-info"}}},[a("span",{staticClass:"text-base text-desc"},[e._v(e._s(e.$t("setting.profile.social-info")))])])]),"my-profile"===e.tabActive?a("div",{staticClass:"my-profile"},[a("div",{staticClass:"be-flex jc-space-between align-center cursor big-title",on:{click:function(t){e.isShowInfoAccount=!e.isShowInfoAccount}}},[a("span",[e._v(e._s(e.$t("setting.profile.bigTitle1")))]),a("base-icon",{staticClass:"d-iflex",class:e.isShowInfoAccount?null:"rotate",attrs:{icon:"icon-arrow-down-black",size:"24"}})],1),a("div",{staticClass:"wrap",class:e.isShowInfoAccount?"show":null},[a("div",{staticClass:"label"},[e._v(e._s(e.$t("setting.profile.label1")))]),a("el-form-item",{staticClass:"box-input",attrs:{prop:"displayName"}},[a("el-input",{attrs:{placeholder:e.$t("setting.profile.label1"),clearable:""},model:{value:e.form.displayName,callback:function(t){e.$set(e.form,"displayName",t)},expression:"form.displayName"}})],1),a("div",{staticClass:"label"},[e.isLogin?a("span",[e._v(e._s(e.$t("setting.profile.label2")))]):a("span",[e._v(e._s(e.$t("setting.profile.label-address")))])]),e.isLogin?a("el-form-item",{staticClass:"box-input",attrs:{prop:"email"}},[a("el-input",{attrs:{placeholder:e.$t("setting.profile.label2"),disabled:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1):a("el-form-item",{staticClass:"box-input",attrs:{prop:"email"}},[a("el-input",{attrs:{placeholder:e.$t("setting.profile.label-address"),disabled:""},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),e.walletAddress?a("div",{staticClass:"label"},[e.walletAddress?a("span",[e._v(e._s(e.$t("setting.profile.label2")))]):e._e()]):e._e(),e.walletAddress?a("el-form-item",{staticClass:"box-input",attrs:{prop:"email"}},[1===e.form.emailVerified?a("el-input",{attrs:{disabled:"",type:"email",placeholder:e.$t("setting.profile.label2")},scopedSlots:e._u([{key:"suffix",fn:function(){return[e._v(e._s(e.$t("setting.profile.verified-icon")))]},proxy:!0}],null,!1,2834288523),model:{value:e.emailLength,callback:function(t){e.emailLength=t},expression:"emailLength"}}):e._e(),0===e.form.emailVerified?a("el-input",{attrs:{type:"email",placeholder:e.$t("setting.profile.label2"),clearable:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}):e._e()],1):e._e(),e.msg?a("span",{staticClass:"validate-email"},[e._v(e._s(e.msg))]):e._e()],1),a("div",{staticClass:"line",staticStyle:{"border-color":"transparent"}}),e.isLogin?a("div",{staticClass:"be-flex jc-space-between align-center cursor big-title mt-60",on:{click:function(t){e.isShowPersonalDetail=!e.isShowPersonalDetail}}},[a("span",[e._v(e._s(e.$t("setting.profile.bigTitle2")))]),a("base-icon",{staticClass:"d-iflex",class:e.isShowPersonalDetail?null:"rotate",attrs:{icon:"icon-arrow-down-black",size:"24"}})],1):e._e(),e.isLogin?a("div",{staticClass:"wrap",class:e.isShowPersonalDetail?"show":null},[a("div",{staticClass:"box-left inline",staticStyle:{"margin-right":"16px"}},[a("div",{staticClass:"label"},[e._v(e._s(e.$t("setting.profile.label3"))+" "),a("span",{staticClass:"required"},[e._v("*")])]),a("el-form-item",{staticClass:"box-input mini-box",attrs:{prop:"firstName"}},[a("el-input",{attrs:{placeholder:e.$t("setting.profile.label3"),clearable:"",disabled:e.disable},model:{value:e.form.firstName,callback:function(t){e.$set(e.form,"firstName",t)},expression:"form.firstName"}})],1)],1),a("div",{staticClass:"box-right inline"},[a("div",{staticClass:"label"},[e._v(e._s(e.$t("setting.profile.label4"))+" "),a("span",{staticClass:"required"},[e._v("*")])]),a("el-form-item",{staticClass:"box-input mini-box",attrs:{prop:"lastName"}},[a("el-input",{attrs:{placeholder:e.$t("setting.profile.label4"),clearable:"",disabled:e.disable},model:{value:e.form.lastName,callback:function(t){e.$set(e.form,"lastName",t)},expression:"form.lastName"}})],1)],1),a("div",{staticClass:"label"},[e._v(e._s(e.$t("setting.profile.label5")))]),a("el-form-item",{attrs:{prop:"birthday"}},[a("el-date-picker",{staticClass:"box-input",class:e.errorBirhday?"input-birthday":null,attrs:{"value-format":"yyyy-MM-dd",format:"MM/dd/yyyy",type:"date",placeholder:e.$t("setting.profile.label5"),clearable:"","picker-options":e.pickerOptions},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1),e.errorBirhday?a("div",{staticClass:"error"},[e._v(e._s(e.$t("setting.profile.errorDate")))]):e._e(),a("div",{staticClass:"label"},[e._v(e._s(e.$t("setting.profile.label6")))]),a("el-form-item",{staticClass:"box-input",attrs:{prop:"address"}},[a("el-input",{attrs:{placeholder:e.$t("setting.profile.label6"),clearable:""},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),a("div",{staticClass:"box-left inline",staticStyle:{"margin-right":"16px"}},[a("div",{staticClass:"label"},[e._v(e._s(e.$t("setting.profile.label7")))]),a("el-form-item",{staticClass:"box-input mini-box",attrs:{prop:"cityName"}},[a("el-input",{attrs:{placeholder:e.$t("setting.profile.label7"),clearable:""},model:{value:e.form.cityName,callback:function(t){e.$set(e.form,"cityName",t)},expression:"form.cityName"}})],1)],1),a("div",{staticClass:"box-right inline"},[a("div",{staticClass:"label"},[e._v(e._s(e.$t("setting.profile.label8")))]),a("el-form-item",{staticClass:"box-input mini-box",attrs:{prop:"stateName"}},[a("el-input",{attrs:{placeholder:e.$t("setting.profile.label8"),clearable:""},model:{value:e.form.stateName,callback:function(t){e.$set(e.form,"stateName",t)},expression:"form.stateName"}})],1)],1),a("br"),a("div",{staticClass:"box-left inline",staticStyle:{"margin-right":"16px"}},[a("div",{staticClass:"label"},[e._v(e._s(e.$t("setting.profile.label10")))]),a("el-form-item",{staticClass:"box-input mini-box",attrs:{prop:"country"}},[a("el-select",{attrs:{filterable:"","reserve-keyword":"","filter-method":e.remoteCountry,clearable:""},on:{change:e.handleSelectCountry},model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}},e._l(e.listCountry,(function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.name}})})),1)],1)],1),a("div",{staticClass:"box-right inline"},[a("div",{staticClass:"label"},[e._v(e._s(e.$t("setting.profile.label9"))+" "),a("span",{staticClass:"required"},[e._v("*")])]),a("el-form-item",{staticClass:"box-input mini-box",attrs:{prop:"nationality"}},[a("el-select",{attrs:{filterable:"","reserve-keyword":"","filter-method":e.remoteCountry2,clearable:"",disabled:e.disable},on:{change:e.handleSelectNationality},model:{value:e.form.nationality,callback:function(t){e.$set(e.form,"nationality",t)},expression:"form.nationality"}},e._l(e.listCountry2,(function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.name}})})),1)],1)],1)],1):e._e(),a("div",{staticClass:"box-btn btn-action-bottom"},[a("div",{staticClass:"btn-action btn-reset cursor",on:{click:e.handleReload}},[e._v(e._s(e.$t("setting.profile.reset")))]),a("el-button",{staticClass:"btn-action btn-save jc-space-center align-center custom-btn-external cursor",style:{opacity:e.isDisabled?"0.7":""},attrs:{disabled:e.isDisabled},on:{click:e.handleSavePersonal}},[e._v(" "+e._s(e.$t("setting.profile.save"))+" ")])],1),"WEB"===e.typeLogin?a("div",{staticClass:"wrap-delete",on:{click:e.handleOpenDeleteAccount}},[a("h3",{staticClass:"text-1xl text-semibold"},[e._v(e._s(e.$t("setting_delete-account")))]),a("p",{staticClass:"body-small text-desc"},[e._v(e._s(e.$t("setting_delete-account-des")))]),a("div",{staticClass:"btn-action btn-delete-account cursor"},[e._v(e._s(e.$t("button__delete-account")))])]):e._e()]):e._e(),"profile-nft"===e.tabActive?a("div",{staticClass:"mt-24 nft-profile"},[a("div",{staticClass:"text-body-small text-des"},[e._v(e._s(e.$t("setting.profile.des-banner-img")))]),a("div",{staticClass:"mb-24 banner-img"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.item.banner?e.item.banner:"","on-change":e.handleChangeBanner,"auto-upload":!1,"show-file-list":!1,"list-type":"picture",accept:".jpg, .jpeg, .png, .bmp, .pdf"}},[a("bc-media",{staticClass:"avatar",attrs:{shape:"square",url:e.socialInfo.banner,radius:8}}),a("div",{staticClass:"overlay"},[a("base-icon",{staticClass:"d-iflex",attrs:{icon:"icon-pen",size:"24"}})],1)],1)],1),a("div",{staticClass:"text-body-small text-des"},[e._v(e._s(e.$t("setting.profile.des-bio")))]),a("el-form-item",{staticClass:"des-input"},[a("el-input",{staticClass:"des-border-input",attrs:{type:"textarea",rows:4,maxlength:"200","show-word-limit":"",placeholder:e.$t("placeholder.bio")},model:{value:e.socialInfo.description,callback:function(t){e.$set(e.socialInfo,"description",t)},expression:"socialInfo.description"}})],1),a("div",{staticClass:"box-btn btn-action-bottom"},[a("div",{staticClass:"btn-action btn-reset cursor"},[e._v(e._s(e.$t("setting.profile.reset")))]),a("div",{staticClass:"btn-action btn-save cursor",on:{click:e.handleSaveNftProfile}},[e._v(e._s(e.$t("setting.profile.save")))])])],1):e._e(),"social-info"===e.tabActive?a("div",{staticClass:"mt-24 social-info"},[a("div",{staticClass:"w-100 social-item"},[a("div",{staticClass:"text-body-small des"},[e._v(e._s(e.$t("setting.profile.per-web")))]),a("el-form-item",[a("el-input",{attrs:{placeholder:"https://",clearable:""},model:{value:e.socialInfo.website,callback:function(t){e.$set(e.socialInfo,"website",t)},expression:"socialInfo.website"}},[a("template",{slot:"prepend"},[a("base-icon",{staticClass:"d-iflex",attrs:{icon:"icon-earth-black",size:"24"}})],1)],2)],1)],1),a("div",{staticClass:"w-100 social-item"},[a("div",{staticClass:"text-body-small des"},[e._v(e._s(e.$t("setting.profile.per-twitter")))]),a("el-form-item",[a("el-input",{attrs:{placeholder:"https://twitter.com/",clearable:""},model:{value:e.socialInfo.twitter,callback:function(t){e.$set(e.socialInfo,"twitter",t)},expression:"socialInfo.twitter"}},[a("template",{slot:"prepend"},[a("base-icon",{staticClass:"d-iflex",attrs:{icon:"icon-twitter",size:"24"}})],1)],2)],1)],1),a("div",{staticClass:"w-100 social-item"},[a("div",{staticClass:"text-body-small des"},[e._v(e._s(e.$t("setting.profile.per-youtube")))]),a("el-form-item",[a("el-input",{attrs:{placeholder:"https://www.youtube.com/",clearable:""},model:{value:e.socialInfo.youtube,callback:function(t){e.$set(e.socialInfo,"youtube",t)},expression:"socialInfo.youtube"}},[a("template",{slot:"prepend"},[a("base-icon",{staticClass:"d-iflex",attrs:{icon:"icon-youtube",size:"24"}})],1)],2)],1)],1),a("div",{staticClass:"w-100 social-item"},[a("div",{staticClass:"text-body-small des"},[e._v(e._s(e.$t("setting.profile.per-instagram")))]),a("el-form-item",[a("el-input",{attrs:{placeholder:" https://www.instagram.com/",clearable:""},model:{value:e.socialInfo.instagram,callback:function(t){e.$set(e.socialInfo,"instagram",t)},expression:"socialInfo.instagram"}},[a("template",{slot:"prepend"},[a("base-icon",{staticClass:"d-iflex",attrs:{icon:"icon-instagram",size:"24"}})],1)],2)],1)],1),a("div",{staticClass:"w-100 social-item"},[a("div",{staticClass:"text-body-small des"},[e._v(e._s(e.$t("setting.profile.per-reddit")))]),a("el-form-item",[a("el-input",{attrs:{placeholder:"https://www.reddit.com/",clearable:""},model:{value:e.socialInfo.reddit,callback:function(t){e.$set(e.socialInfo,"reddit",t)},expression:"socialInfo.reddit"}},[a("template",{slot:"prepend"},[a("base-icon",{staticClass:"d-iflex",attrs:{icon:"icon-reddit",size:"24"}})],1)],2)],1)],1),a("div",{staticClass:"w-100 social-item"},[a("div",{staticClass:"text-body-small des"},[e._v(e._s(e.$t("setting.profile.per-telegram")))]),a("el-form-item",[a("el-input",{attrs:{placeholder:"http://www.t.me/",clearable:""},model:{value:e.socialInfo.telegram,callback:function(t){e.$set(e.socialInfo,"telegram",t)},expression:"socialInfo.telegram"}},[a("template",{slot:"prepend"},[a("base-icon",{staticClass:"d-iflex",attrs:{icon:"icon-telegram",size:"24"}})],1)],2)],1)],1),a("div",{staticClass:"w-100 social-item"},[a("div",{staticClass:"text-body-small des"},[e._v(e._s(e.$t("setting.profile.per-discord")))]),a("el-form-item",[a("el-input",{attrs:{placeholder:"https://www.discord.gg/",clearable:""},model:{value:e.socialInfo.discord,callback:function(t){e.$set(e.socialInfo,"discord",t)},expression:"socialInfo.discord"}},[a("template",{slot:"prepend"},[a("base-icon",{staticClass:"d-iflex",attrs:{icon:"icon-discord",size:"24"}})],1)],2)],1)],1),a("div",{staticClass:"box-btn btn-action-bottom"},[a("div",{staticClass:"btn-action btn-reset cursor"},[e._v(e._s(e.$t("setting.profile.reset")))]),a("div",{staticClass:"btn-action btn-save cursor",on:{click:e.handleSaveSocial}},[e._v(e._s(e.$t("setting.profile.save")))])])]):e._e()])]),a("popup-change-password"),a("popup-confirm-delete-account",{attrs:{type2Fa:e.type2Fa},on:{delete:e.handleDeleteAccount}}),a("popup-verified",{attrs:{action:e.type2Fa,type:"delete-account"},on:{resendCode:e.handleDeleteAccount}}),a("popup-verify-mail-external",{attrs:{data:e.form},on:{reload:e.reload}})],1)},s=[],l=a("5530"),n=a("1da1"),o=a("d4ec"),r=a("bee2"),c=a("262e"),d=a("2caf"),p=(a("96cf"),a("a4d3"),a("e01a"),a("ac1f"),a("5319"),a("5b81"),a("b0c0"),a("fb6a"),a("caad"),a("2532"),a("00b4"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3db"),a("9861"),a("9ab4")),u=a("1b40"),f=a("ef16"),m=a("c33c"),b=a("3e4e"),h=a("9f48"),v=a("898f"),g=a("08ba"),y=a("94d8"),C=a("b047"),w=a.n(C),_=a("9380"),x=a.n(_),k=a("66c7"),$=a.n(k),I=a("1f2a"),S=a("6cd4"),A=a.n(S),O=a("4bb5"),N=Object(g["a"])("nft"),P=Object(g["a"])("setting"),j=Object(O["a"])("beAuth"),D=Object(O["a"])("beBase"),L=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.disable=!1,e.userId=e.$store.state.beAuth.user.userId,e.listCountry=y,e.listCountry2=y,e.phoneDefault="+84",e.type2Fa="",e.fileList3="",e.imgBanner=[],e.selfiePhoto="",e.isUpload=!1,e.idPhoto1="",e.dataDetail={},e.dataInput={idcard:"",userId:""},e.form={email:"",firstName:"",lastName:"",confirm:!1,id:"",avatar:"",displayName:"",birthday:"",address:"",cityName:"",stateName:"",country:"",nationality:"",nationalityCode:""},e.address="",e.item={value:"",banner:""},e.dataUpdate={selfiePhoto:""},e.data={},e.tabActive="my-profile",e.query={total:""},e.isShowInfoAccount=!0,e.isShowPersonalDetail=!0,e.socialInfo={website:"",twitter:"",instagram:"",youtube:"",discord:"",telegram:"",description:"",banner:"",reddit:""},e.msg="",e.isDisabled=!1,e.abc=[],e.socialList=[{label:"Personal website",placeholder:"https://",url:"",value:"",key:"website"},{label:"google",placeholder:"https://plus.google.com/lynkey",url:"",size:"18",value:"",key:"google"},{label:"twitter",placeholder:"https://twitter.com/",url:"",size:"20",value:"",key:"twitter"},{label:"facebook",placeholder:" https://www.facebook.com/",url:"",value:"",key:"facebook"},{label:"youtube",placeholder:"https://www.youtube.com/",url:"",value:"",key:"youtube"},{label:"linkedin",placeholder:"https://www.linkedin.com/",url:"",value:"",key:"linkedin"},{label:"telegram",placeholder:"https://www.telegram.com/",url:"",size:"20",value:"",key:"telegram"}],e.rules={firstName:[{required:!0,message:e.$t("setting.profile.wrong-firstName"),trigger:"blur"}],lastName:[{required:!0,message:e.$t("setting.profile.wrong-lastname"),trigger:"blur"}],nationality:[{required:!0,message:e.$t("setting.profile.wrong-nationality"),trigger:"blur"}]},e.pickerOptions={disabledDate:function(e){return e.getTime()>Date.now()}},e.dataSocialProfile={},e.debounceFilter=w()((function(t){"handleReload"==t&&e.init(),"handleSavePersonal"==t&&e.updateProfile(),"handleChangePassword"==t&&e.changePassword()}),400),e.errorBirhday=!1,e}return Object(r["a"])(a,[{key:"watchTabActive",value:function(e){var t;this.walletAddress||"my-profile"===e||null!==(t=this.dataSocialProfile)&&void 0!==t&&t.id||this.showTabSocial()}},{key:"showTabSocial",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.imgBanner=[],e.next=3,P.showTabSocial();case 3:t=e.sent,this.address=t.data.address,this.socialInfo=t.data,a=t.data.banner,this.imgBanner=a,this.dataSocialProfile=t.data,A()(this.socialList,(function(e){e.value=t.data[e.key]})),this.query.total=t.totalElements,this.socialInfo.description=this.socialInfo.description.replaceAll(/\\n/g,"\n");case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"created",value:function(){var e=x()(this.listCountry,(function(e){return"VN"===e.code}))[0];this.form.country=e.name;var t=x()(this.listCountry2,(function(e){return"VN"===e.code}))[0];this.form.nationality=t.name,this.apiUpload=Object(g["a"])("upload"),this.walletAddress&&this.showTabSocial(),this.init()}},{key:"emailLength",get:function(){var e=this.form.email;return null!==e&&e.length>15&&!this.isDesktop&&(e=e.slice(0,15)+"..."),e}},{key:"remoteCountry",value:function(e){e?this.listCountry=x()(y,(function(t){return $()(t.code).toUpperCase().includes(e.toUpperCase())||$()(t.name).toUpperCase().includes(e.toUpperCase())})):e||(this.listCountry=y)}},{key:"handleSelectCountry",value:function(){var e=this;setTimeout((function(){e.listCountry=y}),1e3)}},{key:"handleSelectNationality",value:function(e){var t=this,a=x()(y,(function(t){return t.name===e}))[0];a&&(this.form.nationalityCode=a.code),setTimeout((function(){t.listCountry2=y}),1e3)}},{key:"remoteCountry2",value:function(e){if(e){var t=x()(this.listCountry2,(function(t){return $()(t.code).toUpperCase().includes(e.toUpperCase())||$()(t.name).toUpperCase().includes(e.toUpperCase())}));t.length>0&&(this.listCountry2=t)}else e||(this.listCountry2=y)}},{key:"validateForm",value:function(){var e=this.$refs.profile,t=!1;return e.validate((function(e){t=e})),t}},{key:"validateMail",value:function(e){return/^[a-z][a-z0-9_.]{0,50}@[a-z0-9]{2,}(\.[a-z0-9]{2,4}){1,2}$/gm.test(e)}},{key:"watchMail",value:function(e){e?this.validateMail(this.form.email)?(this.msg="",this.isDisabled=!1):(this.msg=this.$i18n.t("notify.email-validation-input"),this.isDisabled=!0):(this.msg="",this.isDisabled=!1)}},{key:"handleSavePersonal",value:function(){var e=this.validateForm();this.isLogin?e&&!this.errorBirhday&&this.debounceFilter("handleSavePersonal"):e&&this.debounceFilter("handleSavePersonal")}},{key:"handleOpenDeleteAccount",value:function(){this.setOpenPopup({popupName:"popup-confirm-delete-account",isOpen:!0})}},{key:"handleDeleteAccount",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,i,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.urlSystem["system.token.min.delete.user"],a=!1,e.next=4,P.validateAccount().then((function(){a=!0})).catch((function(e){var a=e.response.data.status,i="";"INVALID_BALANCE"===a?(i=s.$t("notify_check-INVALID_BALANCE",{money:t}),s.$message.error({message:i,duration:5e3})):"OWNING_NFT"===a&&(i=s.$tc("notify_check-OWNING_NFT"),s.$message.error({message:i,duration:5e3})),s.setOpenPopup({popupName:"popup-confirm-delete-account",isOpen:!1})}));case 4:if(!a){e.next=8;break}return i={type:"EMAIL",email:this.user.email},e.next=8,P.resendCode(i).then((function(){s.type2Fa="EMAIL",s.setOpenPopup({popupName:"popup-verified",isOpen:!0})})).catch((function(e){console.log(">>> / file: Profile.vue / line 636 / err",e.response)}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleSaveSocial",value:function(){var e=this,t=Object(l["a"])({},this.socialInfo);N.updateSocialInfo(t).then((function(){var t=e.$t("setting.profile.messSaveProfile");e.$message.success({message:t,duration:5e3})})).catch((function(e){console.log(e)}))}},{key:"reload",value:function(){this.init()}},{key:"updateProfile",value:function(){var e=this;if(console.log("updateProfile"),this.walletAddress)if(this.form.email&&this.validateMail(this.form.email)&&0===this.form.emailVerified){var t={type:"EMAIL",email:this.form.email};P.securityCode(t).then((function(){e.setOpenPopup({popupName:"popup-verify-mail-external",isOpen:!0})}))}else{var a={displayName:this.form.displayName};P.updateProfileExternalWallet(a).then((function(){var t=e.$t("setting.profile.messSaveProfile");e.$message.success(t),e.init()}))}else P.updateProfile(this.form).then((function(){var t=e.$t("setting.profile.messSaveProfile");e.$message.success({message:t,duration:5e3}),e.init()}))}},{key:"handleReload",value:function(){this.debounceFilter("handleReload")}},{key:"handleChangePassword",value:function(){this.debounceFilter("handleChangePassword")}},{key:"changePassword",value:function(){var e=this,t={email:this.$store.state.beAuth.user.email,type:"EMAIL",reason:"PROFILE_RESET_PASSWORD"};P.resendCode(t).then((function(){e.setOpenPopup({popupName:"popup-change-password",isOpen:!0})}))}},{key:"handleChangeFile",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,i,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&(a=new FormData,"ready"==t.status&&(a.append("files",t.raw),a.append("userId",this.userId),a.append("type","AVATAR"),this.apiUpload.updateAvatar(a).then((function(e){s.form.avatar=e.success[0].url,P.updateProfileAvatar(s.form).then((function(e){var t=s.$t("setting.profile.messSaveProfile");s.$message.success({message:t,duration:5e3}),s.init()})).catch((function(e){s.$message.error(e.message)}))})))),i=t.size/1024/1024<10,i&&(this.form.avatar=URL.createObjectURL(t.raw),I["a"].$emit("pushAvatar",URL.createObjectURL(t.raw)));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleChangeBanner",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=new FormData,this.socialInfo.banner=t.url,"ready"!==t.status){e.next=17;break}return this.isUpload=!0,t.type=t.raw.type,a.append("files",t.raw),a.append("userId",this.userId),a.append("type","BANNER"),t.percentage=1,i={},i.data=a,t.uid,e.next=14,this.apiUpload.uploadFile(i);case 14:s=e.sent,this.fileList3=s.success[0].url,this.isUpload=!1;case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=this;this.form.avatar="",P.updateProfileAvatar(this.form).then((function(){I["a"].$emit("pushAvatar","");var t=e.$t("setting.profile.messDelete");e.$message.success({message:t,duration:5e3}),e.init()})).catch((function(t){e.$message.error(t.message)}))}},{key:"handleSaveNftProfile",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("this.isUpload",this.isUpload),1!=this.isUpload){e.next=5;break}return e.abrupt("return");case 5:""===this.imgBanner?this.socialInfo.banner="":this.socialInfo.banner===this.imgBanner?this.socialInfo.banner=this.imgBanner:(this.socialInfo.banner=this.fileList3,this.socialInfo=this.dataSocialProfile),a=Object(l["a"])(Object(l["a"])({},this.socialInfo),{},{banner:this.socialInfo.banner&&this.socialInfo.banner.length>0?this.socialInfo.banner:null}),null===N||void 0===N||N.updateNftProfile(a).then((function(){var e=i.$t("setting.profile.messSaveProfile");i.$message.success({message:e,duration:5e3})})).catch((function(e){console.log(e)}));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleLink",value:function(){this.$router.push({name:"Security"})}},{key:"handleDetail",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.getProfile().then((function(e){t.form=e.data,e.data.kycStatus&&"REJECTED"!=e.data.kycStatus?t.disable=!0:t.disable=!1}));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"get2fa",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={email:this.$store.state.beAuth.user.email},e.next=3,P.get2fa(t).then((function(e){a.type2Fa=e}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.handleDetail();case 2:if(!this.isLogin){e.next=5;break}return e.next=5,this.get2fa();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"checkBirthday",value:function(e){(new Date).getFullYear()-new Date(e).getFullYear()>=18?this.errorBirhday=!1:this.errorBirhday=!0}}]),a}(Object(u["b"])(h["a"]));Object(p["c"])([j.Getter("isLogin")],L.prototype,"isLogin",void 0),Object(p["c"])([j.State("user")],L.prototype,"user",void 0),Object(p["c"])([j.State("typeLogin")],L.prototype,"typeLogin",void 0),Object(p["c"])([D.State("urlSystem")],L.prototype,"urlSystem",void 0),Object(p["c"])([j.State("walletAddress")],L.prototype,"walletAddress",void 0),Object(p["c"])([D.State("isDesktop")],L.prototype,"isDesktop",void 0),Object(p["c"])([Object(u["e"])("tabActive")],L.prototype,"watchTabActive",null),Object(p["c"])([Object(u["e"])("form.email")],L.prototype,"watchMail",null),Object(p["c"])([Object(u["e"])("form.birthday")],L.prototype,"checkBirthday",null),L=Object(p["c"])([Object(u["a"])({components:{PopupVerifyMailExternal:v["a"],PopupChangePassword:f["a"],PopupConfirmDeleteAccount:m["a"],PopupVerified:b["a"]}})],L);var R=L,F=R,U=(a("7265a"),a("2877")),B=Object(U["a"])(F,i,s,!1,null,"4e4b847c",null);t["default"]=B.exports},d9c1:function(e,t,a){}}]);